(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return a}));var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),l=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);l.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6MUB":function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(r(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(r(t))})).join(e):o+encodeURIComponent(r(t[i]))})).join(e):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(t)):""}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("os0x"),o=n("qOnz"),s=n("q/0M"),a=n("/6Yf"),l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.F)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.z)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),u=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.h)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),c=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new u},h=c("localStorage"),d=c("sessionStorage"),p=new s.b("@firebase/database"),f=(e=1,function(){return e++}),g=function(t){var e=Object(o.E)(t),n=new o.c;n.update(e);var r=n.digest();return o.f.encodeByteArray(r)},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=m.apply(null,i):n+="object"==typeof i?Object(o.F)(i):i,n+=" "}return n},y=null,b=!0,v=function(t,e){Object(o.d)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(p.logLevel=s.a.VERBOSE,y=p.log.bind(p),e&&d.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,d.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===y&&!0===d.get("logging_enabled")&&v(!0)),y){var n=m.apply(null,t);y(n)}},_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,Object(i.f)([t],e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(i.f)(t));p.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(i.f)(t));throw p.error(n),new Error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,Object(i.f)(t));p.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",I="[MAX_NAME]",O=function(t,e){if(t===e)return 0;if(t===k||e===I)return-1;if(e===k||t===I)return 1;var n=B(t),r=B(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.F)(e))},x=function(t){if("object"!=typeof t||null===t)return Object(o.F)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.F)(e[i]),r+=":",r+=x(t[e[i]]);return r+"}"},N=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function D(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,j,R,M,F,V,U,q,G,W,H=function(t){var e,n,r,i,s;Object(o.d)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var l=a.join(""),u="";for(s=0;s<64;s+=8){var c=parseInt(l.substr(s,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},K=new RegExp("^-?(0*)\\d{1,10}$"),B=function(t){if(K.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},z=function(t){try{t()}catch(e){setTimeout((function(){throw T("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Q=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Y=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.D)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.D)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.D)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),$="firebaseio.com",X="websocket",Z="long_polling",tt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.d)("string"==typeof t,"typeof type must == string"),Object(o.d)("object"==typeof e,"typeof params must == object"),t===X)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Z)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return D(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t,e){var n=nt(t),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new J(n.pathString)}},nt=function(t){var e="",n="",r="",o="",s="",a=!0,l="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var l=a.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):T("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(a="https"===l||"wss"===l,u=parseInt(e.substring(c+1),10)):c=e.length;var f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:o,namespace:s}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=10485760,st=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},lt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&Object(o.h)(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||ct(Object(o.l)(t,e,i),n,r)},ct=function(t,e,n){var r=n instanceof J?new Y(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(E(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>ot/3&&Object(o.D)(e)>ot)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(D(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!st(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ct(t,n,r),r.pop()})),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ht=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.l)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];D(n,(function(t,e){var n=new J(t);if(ct(s,e,r.child(n)),".priority"===n.getBack()&&!lt(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!st(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(J.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},dt=function(t,e,n,r){if(!r||void 0!==n){if(E(n))throw new Error(Object(o.l)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lt(n))throw new Error(Object(o.l)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.l)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ft=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error(Object(o.l)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(Object(o.l)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gt(t,e,n,r)},yt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},bt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!st(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(Object(o.l)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},vt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.l)(t,e,r)+"must be a boolean.")},wt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.G)("OnDisconnect.cancel",0,1,arguments.length),Object(o.H)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.G)("OnDisconnect.remove",0,1,arguments.length),yt("OnDisconnect.remove",this.path_),Object(o.H)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.G)("OnDisconnect.set",1,2,arguments.length),yt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),Object(o.H)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.G)("OnDisconnect.setWithPriority",2,3,arguments.length),yt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),dt("OnDisconnect.setWithPriority",2,e,!1),Object(o.H)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.G)("OnDisconnect.update",1,2,arguments.length),yt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("OnDisconnect.update",1,t,this.path_,!1),Object(o.H)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.G)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ct=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j=0,R=[],function(t){var e,n=t===j;j=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);Object(o.d)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===R[e];e--)R[e]=0;R[e]++}else for(e=0;e<12;e++)R[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(R[e]);return Object(o.d)(20===i.length,"nextPushId: Length should be 20."),i}),St=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Tt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new St(k,t),r=new St(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return St.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return M},set:function(t){M=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return O(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.e)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return new St(I,M)},e.prototype.makePost=function(t,e){return Object(o.d)("string"==typeof t,"KeyIndex indexValue must always be a string."),new St(t,M)},e.prototype.toString=function(){return".key"},e}(Tt),kt=new Et,It=function(t){return"number"==typeof t?"number:"+H(t):"string:"+t},Ot=function(t){if(t.isLeafNode()){var e=t.val();Object(o.d)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.h)(e,".sv"),"Priority must be a string or number.")}else Object(o.d)(t===F||t.isEmpty(),"priority of unexpected type.");Object(o.d)(t===F||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Pt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ot(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return V},set:function(t){V=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.d)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+It(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?H(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.d)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.d)(i>=0,"Unknown leaf type: "+n),Object(o.d)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),At=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return new St(I,new Pt("[PRIORITY-POST]",q))},e.prototype.makePost=function(t,e){var n=U(t);return new St(e,new Pt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Tt)),xt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Lt.EMPTY_NODE,this.right=null!=o?o:Lt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Lt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Lt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Nt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Lt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new xt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new xt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new xt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),jt=Math.log(2),Rt=function(){function t(t){this.count=parseInt(Math.log(t+1)/jt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Nt(s,o.node,Nt.BLACK,null,null);var l=parseInt(a/2,10)+e,u=i(e,l),c=i(l+1,r);return o=t[l],s=n?n(o):o,new Nt(s,o.node,Nt.BLACK,u,c)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),c=t[o],h=n?n(c):c;l(new Nt(h,c.node,r,null,u))},l=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?a(h,Nt.BLACK):(a(h,Nt.BLACK),a(h,Nt.RED))}return o}(new Rt(t.length));return new Lt(r||e,o)},Ft={},Vt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.d)(Ft&&At,"ChildrenNode.ts has not been loaded"),G=G||new t({".priority":Ft},{".priority":At})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.C)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lt?e:null},t.prototype.hasIndex=function(t){return Object(o.h)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.d)(e!==kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,l=n.getIterator(St.Wrap),u=l.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=l.getNext();r=a?Mt(s,e.getCompare()):Ft;var c=e.toString(),h=Object(i.a)({},this.indexSet_);h[c]=e;var d=Object(i.a)({},this.indexes_);return d[c]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.A)(this.indexes_,(function(t,i){var s=Object(o.C)(r.indexSet_,i);if(Object(o.d)(s,"Missing index implementation for "+i),t===Ft){if(s.isDefinedOn(e.node)){for(var a=[],l=n.getIterator(St.Wrap),u=l.getNext();u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Mt(a,s.getCompare())}return Ft}var c=n.get(e.name),h=t;return c&&(h=h.remove(new St(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.A)(this.indexes_,(function(t){if(t===Ft)return t;var r=n.get(e.name);return r?t.remove(new St(e.name,r)):t})),this.indexSet_)},t}();function Ut(t,e){return O(t.name,e.name)}function qt(t,e){return O(t,e)}var Gt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ot(this.priorityNode_),this.children_.isEmpty()&&Object(o.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return W||(W=new t(new Lt(qt),null,Vt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||W},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?W:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.d)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new St(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?W:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.d)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(At,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+It(this.getPriority().val())+":"),this.forEachChild(At,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new St(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new St(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new St(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,St.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,St.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wt?-1:0},t.prototype.withIndex=function(e){if(e===kt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===kt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(At),r=e.getIterator(At),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===kt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Wt=new(function(t){function e(){return t.call(this,new Lt(qt),Gt.EMPTY_NODE,Vt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Gt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Gt));function Ht(t,e){if(void 0===e&&(e=null),null===t)return Gt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.d)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Pt(t,Ht(e));if(t instanceof Array){var n=Gt.EMPTY_NODE;return D(t,(function(e,r){if(Object(o.h)(t,e)&&"."!==e.substring(0,1)){var i=Ht(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Ht(e))}var r=[],i=!1;if(D(t,(function(t,e){if("."!==t.substring(0,1)){var n=Ht(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new St(t,n)))}})),0===r.length)return Gt.EMPTY_NODE;var s=Mt(r,Ut,(function(t){return t.name}),qt);if(i){var a=Mt(r,At.getCompare());return new Gt(s,Ht(e),new Vt({".priority":a},{".priority":At}))}return new Gt(s,Ht(e),Vt.Default)}Object.defineProperties(St,{MIN:{value:new St(k,Gt.EMPTY_NODE)},MAX:{value:new St(I,Wt)}}),Et.__EMPTY_NODE=Gt.EMPTY_NODE,Pt.__childrenNodeConstructor=Gt,F=Wt,q=Wt,U=Ht;var Kt,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?O(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return St.MAX},e.prototype.makePost=function(t,e){var n=Ht(t);return new St(e,n)},e.prototype.toString=function(){return".value"},e}(Tt)),zt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.d)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ht(t),r=Gt.EMPTY_NODE.updateChild(this.indexPath_,n);return new St(e,r)},e.prototype.maxPost=function(){var t=Gt.EMPTY_NODE.updateChild(this.indexPath_,Wt);return new St(I,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Tt),Qt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.G)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.G)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.G)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.G)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.G)("DataSnapshot.child",0,1,arguments.length),e=String(e),gt("DataSnapshot.child",1,e,!1);var n=new J(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,At)},t.prototype.hasChild=function(t){Object(o.G)("DataSnapshot.hasChild",1,1,arguments.length),gt("DataSnapshot.hasChild",1,t,!1);var e=new J(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.G)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.G)("DataSnapshot.forEach",1,1,arguments.length),Object(o.H)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),At))}))},t.prototype.hasChildren=function(){return Object(o.G)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.G)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.G)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.F)(this.snapshot.exportVal())},t}(),Yt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Jt("value",this,new Qt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Xt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.h)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Yt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.d)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Jt(t.type,this,new Qt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.d)(Kt,"Reference.ts has not been loaded"),Kt},set:function(t){Kt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===At){if(null!=e&&!lt(e)||null!=n&&!lt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.d)(t.getIndex()instanceof zt||t.getIndex()===Bt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.G)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.G)("Query.on",2,4,arguments.length),pt("Query.on",1,e,!1),Object(o.H)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Xt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.G)("Query.off",0,3,arguments.length),pt("Query.off",1,t,!0),Object(o.H)("Query.off",2,e,!0),Object(o.I)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new $t(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Xt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;Object(o.G)("Query.once",1,4,arguments.length),pt("Query.once",1,e,!1),Object(o.H)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),l=!0,u=new o.a;u.promise.catch((function(){}));var c=function(t){l&&(l=!1,s.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,(function(t){s.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(Object(o.G)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.G)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.G)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');gt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new zt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.G)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.G)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(At);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.G)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),ft("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.G)("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),ft("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.G)("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),ft("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.G)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.G)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=x(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.G)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.H)(t,3,r.cancel,!0),r.context=n,Object(o.I)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.l)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),te=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ee=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ne=function(t,e,n){return t&&"object"==typeof t?(Object(o.d)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?re(t[".sv"],e,n):"object"==typeof t[".sv"]?ie(t[".sv"],e):void Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},re=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.d)(!1,"Unexpected server value: "+t)}},ie=function(t,e,n){t.hasOwnProperty("increment")||Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.d)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},oe=function(t,e,n,r){return ae(e,new ee(n,t),r)},se=function(t,e,n){return ae(t,new te(e),n)};function ae(t,e,n){var r,i=t.getPriority().val(),o=ne(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ne(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Pt(a,Ht(o)):t}var l=t;return r=l,o!==l.getPriority().val()&&(r=r.updatePriority(new Pt(o))),l.forEachChild(At,(function(t,i){var o=ae(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var le,ue,ce=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(At,(function(t,e){n.remember(new J(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new J(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),he=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),de=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.d)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),pe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=he.ACK_USER_WRITE,this.source=de.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(e));return new t(J.Empty,n,this.revert)}return Object(o.d)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),fe=function(){function t(t,e){void 0===e&&(le||(le=new Lt(P)),e=le),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return D(e,(function(t,e){n=n.set(new J(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:J.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new J(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(J.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,J.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,J.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(J.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ge=function(){function t(t,e){this.source=t,this.path=e,this.type=he.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty):new t(this.source,this.path.popFront())},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=he.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=he.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new me(this.source,J.Empty,n.value):new t(this.source,J.Empty,n)}return Object(o.d)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ve=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new be(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new be(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new be(Gt.EMPTY_NODE,!1,!1),new be(Gt.EMPTY_NODE,!1,!1)),t}(),we=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),_e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.d)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(we.childRemovedChange(e,a)):Object(o.d)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(we.childAddedChange(e,n)):s.trackChildChange(we.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(At,(function(t,r){e.hasChild(t)||n.trackChildChange(we.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(At,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(we.childChangedChange(e,r,i))}else n.trackChildChange(we.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Gt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ce=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.d)(e===we.CHILD_ADDED||e===we.CHILD_CHANGED||e===we.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===we.CHILD_ADDED&&i===we.CHILD_REMOVED)this.changeMap.set(n,we.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===we.CHILD_REMOVED&&i===we.CHILD_ADDED)this.changeMap.delete(n);else if(e===we.CHILD_REMOVED&&i===we.CHILD_CHANGED)this.changeMap.set(n,we.childRemovedChange(n,r.oldSnap));else if(e===we.CHILD_CHANGED&&i===we.CHILD_ADDED)this.changeMap.set(n,we.childAddedChange(n,t.snapshotNode));else{if(e!==we.CHILD_CHANGED||i!==we.CHILD_CHANGED)throw Object(o.e)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,we.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Se=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Te=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new be(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ee=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),ke=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.d)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.d)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,l=new Ce;if(n.type===he.OVERWRITE){var u=n;u.source.fromUser?s=this.applyUserOverwrite_(e,u.path,u.snap,r,i,l):(Object(o.d)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),s=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,l))}else if(n.type===he.MERGE){var c=n;c.source.fromUser?s=this.applyUserMerge_(e,c.path,c.children,r,i,l):(Object(o.d)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,c.path,c.children,r,i,a,l))}else if(n.type===he.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,l):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,l)}else{if(n.type!==he.LISTEN_COMPLETE)throw Object(o.e)("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,l)}var d=l.getChanges();return t.maybeAddValueEvent_(e,s,d),new Ee(s,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(we.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,l=void 0;if(e.isEmpty())if(Object(o.d)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof Gt?u:Gt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"===d){Object(o.d)(1===e.getLength(),"Can't have a priority with additional path components");var p=s.getNode();l=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,l);a=null!=f?this.filter_.updatePriority(p,f):s.getNode()}else{var g=e.popFront(),m=void 0;if(s.isCompleteForChild(d)){l=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),l);m=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());a=null!=m?this.filter_.updateChild(s.getNode(),d,m,g,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,l=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){var c=l.getNode().updateChild(e,n);a=u.updateFullNode(l.getNode(),c,null)}else{var h=e.getFront();if(!l.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=l.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),h,p,d,Se,null)}var f=t.updateServerSnap(a,l.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),g=new Te(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,l=t.getEventCache(),u=new Te(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var h=e.popFront(),d=l.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):Gt.EMPTY_NODE}if(d.equals(p))s=t;else{var g=this.filter_.updateChild(l.getNode(),c,p,h,u,o);s=t.updateEventSnap(g,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,l=e;return r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(l=a.applyUserOverwrite_(l,c,u,i,o,s))})),r.foreach((function(r,u){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(l=a.applyUserOverwrite_(l,c,u,i,o,s))})),l},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var l,u=t;l=e.isEmpty()?n:fe.Empty.setTree(e,n);var c=t.getServerCache().getNode();return l.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var l=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(l,n);u=a.applyServerOverwrite_(u,new J(e),h,r,i,o,s)}})),l.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!l){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new J(e),d,r,i,o,s)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var l=fe.Empty;return a.getNode().forEachChild(kt,(function(t,e){l=l.set(new J(t),e)})),this.applyServerMerge_(t,e,l,r,i,s,o)}return t}var u=fe.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(u=u.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Se,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new Te(n,t,r),l=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.d)(h instanceof Gt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(l,c=c,i)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(u=null!=p?this.filter_.updateChild(l,d,p,e.popFront(),a,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(l,d,Gt.EMPTY_NODE,e.popFront(),a,i):l).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),t.updateEventSnap(u,s,this.filter_.filtersNodes())},t}(),Ie=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===we.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(we.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,we.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,we.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,we.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,we.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,we.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.e)("Should only compare child_ events.");var n=new St(t.childName,t.snapshotNode),r=new St(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Oe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _e(n.getIndex()),i=n.getNodeFilter();this.processor_=new ke(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Gt.EMPTY_NODE,o.getNode(),null),l=i.updateFullNode(Gt.EMPTY_NODE,s.getNode(),null),u=new be(a,o.isFullyInitialized(),r.filtersNodes()),c=new be(l,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ve(c,u),this.eventGenerator_=new Ie(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.d)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===he.MERGE&&null!==t.source.queryId&&(Object(o.d)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.d)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.d)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(At,(function(t,e){n.push(we.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(we.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Pe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.d)(ue,"Reference.ts has not been loaded"),ue},set:function(t){Object(o.d)(!ue,"__referenceConstructor has already been defined"),ue=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,s,a=t.source.queryId;if(null!==a){var l=this.views.get(a);return Object(o.d)(null!=l,"SyncTree gave us an op for an invalid query."),l.applyOperation(t,e,n)}var u=[];try{for(var c=Object(i.h)(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((l=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),l=!1;a?l=!0:r instanceof Gt?(a=n.calcCompleteEventChildren(r),l=!1):(a=Gt.EMPTY_NODE,l=!1);var u=new ve(new be(a,l,!1),new be(r,i,!1));s=new Oe(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,s,a=e.queryIdentifier(),l=[],u=[],c=this.hasCompleteView();if("default"===a)try{for(var h=Object(i.h)(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=Object(i.e)(d.value,2),g=f[0];u=u.concat((p=f[1]).removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(g),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery()))}}catch(m){o={error:m}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else(p=this.views.get(a))&&(u=u.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(a),p.getQuery().getQueryParams().loadsAllData()||l.push(p.getQuery())));return c&&!this.hasCompleteView()&&l.push(new t.__referenceConstructor(e.repo,e.path)),{removed:l,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),s=o.next();!s.done;s=o.next())r=r||s.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Ae=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new fe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=J.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new fe(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return D(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,fe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(J.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(At,(function(e,n){t.push(new St(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new St(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new fe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(o.d)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(e.child(n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(J.Empty,this.writeTree_,t)},t.Empty=new t(new fe(null)),t}(),xe=function(){function t(){this.visibleWrites_=Ae.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ne(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.d)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.d)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var l=this.allWrites_[a];l.visible&&(a>=n&&this.recordContainsPath_(l,r.path)?i=!1:r.path.contains(l.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):D(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(J.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Gt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(J.Empty)?a.apply(n||Gt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Gt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(At,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(At,(function(t,e){var r=i.childCompoundWrite(new J(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.d)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),l=a.getCompleteNode(J.Empty);if(null!=l)s=l;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ae.Empty,i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,l=void 0;if(s.snap)n.contains(a)?(l=J.relativePath(n,a),r=r.addWrite(l,s.snap)):a.contains(n)&&(l=J.relativePath(a,n),r=r.addWrite(J.Empty,s.snap.getChild(l)));else{if(!s.children)throw Object(o.e)("WriteRecord should have .snap or .children");if(n.contains(a))l=J.relativePath(n,a),r=r.addWrites(l,s.children);else if(a.contains(n))if((l=J.relativePath(a,n)).isEmpty())r=r.addWrites(J.Empty,s.children);else{var u=Object(o.C)(s.children,l.getFront());if(u){var c=u.getChild(l.popFront());r=r.addWrite(J.Empty,c)}}}}}return r},t}(),Ne=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),De=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=fe.Empty,this.pendingWriteTree_=new xe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new me(de.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ye(de.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=fe.Empty;return null!=n.snap?r=r.set(J.Empty,!0):D(n.children,(function(t,e){r=r.set(new J(t),e)})),this.applyOperationToSyncPoints_(new pe(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new me(de.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ye(de.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ge(de.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,l=J.relativePath(s,e),u=new me(de.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,l=J.relativePath(s,e),u=fe.fromObject(n),c=new ye(de.forServerTaggedQuery(a),l,u);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=J.relativePath(o,e),l=new ge(de.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,l)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=J.relativePath(t,r);i=i||e.getCompleteServerCache(n),s=s||e.hasCompleteView()}));var a,l=this.syncPointTree_.get(r);l?(s=s||l.hasCompleteView(),i=i||l.getCompleteServerCache(J.Empty)):(l=new Pe,this.syncPointTree_=this.syncPointTree_.set(r,l)),null!=i?a=!0:(a=!1,i=Gt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(J.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=l.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);Object(o.d)(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(r),p=l.addEventRegistration(e,n,d,i,a);if(!u&&!s){var f=l.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var l=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=l.removed;a=l.events;var c=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],m=g.getQuery(),y=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),y.hashFn,y.onComplete)}}!h&&u.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=J.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),D(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),l=this.syncPointTree_.subtree(r);if(i)Object(o.d)(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),D(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Gt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.d)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.d)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(J.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(J.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){var u=n?n.getImmediateChild(s):null,c=r.child(s);o=o.concat(this.applyOperationHelper_(a,l,u,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(J.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(J.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,l=r.child(e),u=t.operationForChild(e);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,l)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Le=function(){function t(){this.rootNode_=Gt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),je=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.h)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.j)(this.counters_)},t}(),Re=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new je),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Me=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&D(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Me(t);var n=1e4+2e4*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;D(e,(function(e,i){i>0&&Object(o.h)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ve=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ue(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ue=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();y&&w("event: "+e.toString()),z(n)}}},t.prototype.getPath=function(){return this.path_},t}(),qe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.d)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.d)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Ge=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(qe),We=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.t)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(qe),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&z((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Ke="start",Be="close",ze=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_(t),this.stats_=Re.getCollection(e),this.urlFn=function(t){return e.connectionURL(Z,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.v)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Qe((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Ke)n.id=s,n.password=a;else{if(o!==Be)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf($)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.v)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.g)(e),r=N(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.v)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.F)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Qe=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.v)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=f(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){w("frame writing exception"),l.stack&&w(l.stack),w(l)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||w("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.v)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Je="";function Ye(t){Je=t}var $e=null;"undefined"!=typeof MozWebSocket?$e=MozWebSocket:"undefined"!=typeof WebSocket&&($e=WebSocket);var Xe=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_(this.connId),this.stats_=Re.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.v)()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf($)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(X,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.v)()){var r={headers:{"User-Agent":"Firebase/5/"+Je+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new $e(this.connURL,[],r)}else this.mySock=new $e(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(l){this.log_("Error instantiating WebSocket.");var a=l.message||l.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==$e&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.z)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.d)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=N(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ze=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ze,Xe]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Xe&&Xe.isAvailable(),s=o&&!Xe.previouslyFailed();if(e.webSocketOnly&&(o||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Xe];else{var a=this.transports_=[];try{for(var l=Object(i.h)(t.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),tn=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_("c:"+this.id+":"),this.transportManager_=new Ze(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Q((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Q((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),en=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),nn=1e3,rn=function(t){function e(n,r,i,s,a,l,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=s,c.onServerInfoUpdate_=a,c.authTokenProvider_=l,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=_("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=nn,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Object(o.v)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Ge.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&We.getInstance().on("online",c.onOnline_,c),c}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.F)(i)),Object(o.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.d)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,l=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==l&&n.removeListen_(i,o),t.onComplete&&t.onComplete(l,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.h)(t,"w")){var n=Object(o.C)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.n)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.y)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.F)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.F)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,l=this.lastSessionId,u=!1,c=null,h=function(){c?c.close():(u=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.d)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then((function(t){u?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,c=new tn(s,a.repoInfo_,a.applicationId_,n,r,i,(function(t){T(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),l))})).then(null,(function(e){a.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&T(e),h())}))}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.r)(this.interruptReasons_)&&(this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return x(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new J(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var l=(n=void 0,Object(i.h)(a.values())),u=l.next();!u.done;u=l.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.v)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Je.replace(/\./g,"-")]=1,Object(o.t)()?t["framework.cordova"]=1:Object(o.w)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=We.getInstance().currentlyOnline();return Object(o.r)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(en),on=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=_("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.d)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var l=e.getListenId_(t,r),u={};this.listens_[l]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.C)(s.listens_,l)===u&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.B)(e);r.log_("Sending REST request for "+a);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=Object(o.z)(l.responseText)}catch(e){T("Failed to parse JSON response for "+a+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&T("Got unsuccessful REST response for "+a+" Status: "+l.status),n(l.status);n=null}},l.open("GET",a,!0),l.send()}))},e}(en),sn="repo_interrupt",an=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ce,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Re.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new on(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.F)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new rn(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Re.getOrCreateReporter(this.repoInfo_,(function(){return new Fe(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Le,this.infoSyncTree_=new De({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new De({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new J(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var a=Object(o.A)(e,(function(t){return Ht(t)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var l=Ht(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,l,r)}else if(n){var u=Object(o.A)(e,(function(t){return Ht(t)}));s=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Ht(e);s=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;D(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new J("/.info/"+t),r=Ht(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=Ht(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new Qt(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+Object(o.F)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new Qt(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Ht(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),l=se(s,a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,l,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||T("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(D(e,(function(e,n){i=!1,s[e]=oe(t.child(e),Ht(n),r.serverSyncTree_,o)})),i)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(l),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||T("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),l=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(l,s),r.callOnCompleteCallback(n,e,i)})),D(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ce;this.onDisconnect_.forEachTree(J.Empty,(function(r,i){var o=oe(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(J.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new ce,this.eventQueue_.raiseEventsForChangedPath(J.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Ht(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Ht(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.r)(e))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&D(e,(function(e,n){var i=Ht(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(sn)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(sn)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Me(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);D(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&z((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new vn(this))},enumerable:!1,configurable:!0}),t}(),ln=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new St(e,n))||(n=Gt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Gt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Gt.EMPTY_NODE);var i=this;return e.forEachChild(At,(function(t,e){i.matches(new St(t,e))||(r=r.updateImmediateChild(t,Gt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),un=function(){function t(t){this.rangedFilter_=new ln(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new St(e,n))||(n=Gt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Gt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Gt.EMPTY_NODE);var a=void 0,l=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,l)<=0?o++:r=r.updateImmediateChild(s.name,Gt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var l=t;Object(o.d)(l.numChildren()===this.limit_,"");var u=new St(e,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(e)){for(var d=l.getImmediateChild(e),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name===e||l.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:s(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(we.childChangedChange(e,n,d)),l.updateImmediateChild(e,n);null!=i&&i.trackChildChange(we.childRemovedChange(e,d));var g=l.updateImmediateChild(e,Gt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(we.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&s(c,u)>=0?(null!=i&&(i.trackChildChange(we.childRemovedChange(c.name,c.node)),i.trackChildChange(we.childAddedChange(e,n))),l.updateImmediateChild(e,n).updateImmediateChild(c.name,Gt.EMPTY_NODE)):t},t}(),cn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==At&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===At},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new _e(this.getIndex()):this.hasLimit()?new un(this):new ln(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===At?e=n.PRIORITY_INDEX:this.index_===Bt?e=n.VALUE_INDEX:this.index_===kt?e=n.KEY_INDEX:(Object(o.d)(this.index_ instanceof zt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.F)(e),this.startSet_&&(r[n.START_AT]=Object(o.F)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.F)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.F)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.F)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),hn=function(t){function e(e,n){if(!(e instanceof an))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,cn.DEFAULT,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.G)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.G)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof J||(null===this.path.getFront()?mt("Reference.child",1,t,!1):gt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.G)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.G)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.G)("Reference.set",1,2,arguments.length),yt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),Object(o.H)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.G)("Reference.update",1,2,arguments.length),yt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("Reference.update",1,t,this.path,!1),Object(o.H)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.G)("Reference.setWithPriority",2,3,arguments.length),yt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),dt("Reference.setWithPriority",2,e,!1),Object(o.H)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.G)("Reference.remove",0,1,arguments.length),yt("Reference.remove",this.path),Object(o.H)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.G)("Reference.transaction",1,3,arguments.length),yt("Reference.transaction",this.path),Object(o.H)("Reference.transaction",1,t,!1),Object(o.H)("Reference.transaction",2,e,!0),vt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.G)("Reference.setPriority",1,2,arguments.length),yt("Reference.setPriority",this.path),dt("Reference.setPriority",1,t,!1),Object(o.H)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.G)("Reference.push",0,2,arguments.length),yt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),Object(o.H)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ct(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return yt("Reference.onDisconnect",this.path),new wt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Zt);Zt.__referenceConstructor=hn,Pe.__referenceConstructor=hn;var dn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),pn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new dn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof J?e:new J(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,Object(o.C)(r.node_.children,i)||new dn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.d)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;D(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.h)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),fn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});an.MAX_TRANSACTION_RETRIES_=25,an.prototype.transactionsInit_=function(){this.transactionQueueTree_=new pn},an.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},s=new hn(this,t);s.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:f(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=this.getLatestState_(t);a.currentInputSnapshot=l;var u=a.update(l.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Qt(a.currentInputSnapshot,new hn(this,a.path),At);a.onComplete(null,!1,c)}}else{ct("transaction failed: Data returned ",u,a.path),a.status=fn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(a),h.setValue(d);var p=void 0;"object"==typeof u&&null!==u&&Object(o.h)(u,".priority")?(p=Object(o.C)(u,".priority"),Object(o.d)(lt(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Gt.EMPTY_NODE).getPriority().val(),p=p;var g=this.generateServerValues(),m=Ht(u,p),y=se(m,l,g);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,b),this.sendReadyTransactions_()}},an.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Gt.EMPTY_NODE},an.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.d)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===fn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},an.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),s=i,a=i.hash(),l=0;l<e.length;l++){var u=e[l];Object(o.d)(u.status===fn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=fn.SENT,u.retryCount++;var c=J.relativePath(t,u.path);s=s.updateChild(c,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=t;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=fn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,l=new hn(n,e[s].path),u=new Qt(a,l,At);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)z(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===fn.SENT_NEEDS_ABORT?fn.NEEDS_ABORT:fn.RUN;else for(T("transaction at "+d.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=fn.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}}),a)},an.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},an.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===fn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],l=J.relativePath(e,a.path),u=!1,c=void 0;if(Object(o.d)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===fn.NEEDS_ABORT)u=!0,c=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===fn.RUN)if(a.retryCount>=an.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var d=t[s].update(h.val());if(void 0!==d){ct("transaction failed: Data returned ",d,a.path);var p=Ht(d);"object"==typeof d&&null!=d&&Object(o.h)(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=a.currentWriteId,g=this.generateServerValues(),m=se(p,h,g);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(f),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,m,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[s].status=fn.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===c){var y=new hn(this,t[s].path),b=new Qt(t[s].currentInputSnapshot,y,At);n.push(t[s].onComplete.bind(null,null,!1,b))}else n.push(t[s].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)z(n[s]);this.sendReadyTransactions_()}},an.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},an.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},an.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},an.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==fn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},an.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},an.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,s=0;s<e.length;s++)e[s].status===fn.SENT_NEEDS_ABORT||(e[s].status===fn.SENT?(Object(o.d)(i===s-1,"All SENT items should be at beginning of queue."),i=s,e[s].status=fn.SENT_NEEDS_ABORT,e[s].abortReason="set"):(Object(o.d)(e[s].status===fn.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),s=0;s<n.length;s++)z(n[s])}};var gn,mn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';T(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),yn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),bn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return gn||(gn=new t),gn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var l=(n=void 0,Object(i.h)(Object.keys(this.repos_[a]))),u=l.next();!u.done;u=l.next())this.repos_[a][u.value].interrupt()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var l=(n=void 0,Object(i.h)(Object.keys(this.repos_[a]))),u=l.next();!u.done;u=l.next())this.repos_[a][u.value].resume()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new tt(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new yn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=et(i,r),a=s.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a=(s=et(i="http://"+l+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var u=r&&o?new yn:new mn(t,e);return bt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,u).database},t.prototype.deleteRepo=function(t){var e=Object(o.C)(this.repos_,t.app.name);e&&Object(o.C)(e,t.key)===t||S("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Object(o.C)(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Object(o.C)(r,t.toURLString());return i&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new an(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),vn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return this.checkDeleted_("delete"),bn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof an||S("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new hn(this.repo_,J.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?S("Cannot call useEmulator() after instance has already been initialized."):bn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.G)("database.ref",0,1,arguments.length),t instanceof hn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.G)(e,1,1,arguments.length);var n=et(t,this.repo_.repoInfo_.nodeAdmin);bt(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||S(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&S("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.G)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.G)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),wn=Object.freeze({__proto__:null,forceLongPolling:function(){Xe.forceDisallow(),ze.forceAllow()},forceWebSockets:function(){ze.forceDisallow()},isWebSocketsAvailable:function(){return Xe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,s=void 0!==o&&o;Ye(t.version);var l=new a.c("auth-internal",new a.b("database-standalone"));return l.setComponent(new a.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:bn.getInstance().databaseFromApp(e,l,n,s),namespace:i}}}),_n=rn;rn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},rn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Cn=Object.freeze({__proto__:null,DataConnection:_n,RealTimeConnection:tn,hijackHash:function(t){var e=rn.prototype.put;return rn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){rn.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){bn.getInstance().forceRestClient(t)}}),Sn=vn.ServerValue;!function(e){Ye(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return bn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:hn,Query:Zt,Database:vn,DataSnapshot:Qt,enableLogging:v,INTERNAL:wn,ServerValue:Sn,TEST_ACCESS:Cn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.8.1"),Object(o.v)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class c extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),l=n("Lhse"),u=n("c2HN"),c=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(c.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[l.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[l.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},CxY0:function(t,e,n){"use strict";var r=n("rWzI"),i=n("Nehr");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=v,e.resolve=function(t,e){return v(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=v(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n("r8II");function v(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var v=t=u.join(a);if(v=v.trim(),!n&&1===t.split("#").length){var w=l.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=s.exec(v);if(_){var C=(_=_[0]).toLowerCase();this.protocol=C,v=v.substr(_.length)}if(n||_||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===v.substr(0,2);!S||_&&m[_]||(v=v.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!y[_])){for(var T,E,k=-1,I=0;I<d.length;I++)-1!==(O=v.indexOf(d[I]))&&(-1===k||O<k)&&(k=O);for(-1!==(E=-1===k?v.lastIndexOf("@"):v.lastIndexOf("@",k))&&(T=v.slice(0,E),v=v.slice(E+1),this.auth=decodeURIComponent(T)),k=-1,I=0;I<h.length;I++){var O;-1!==(O=v.indexOf(h[I]))&&(-1===k||O<k)&&(k=O)}-1===k&&(k=v.length),this.host=v.slice(0,k),v=v.slice(k),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var A=this.hostname.split(/\./),x=(I=0,A.length);I<x;I++){var N=A[I];if(N&&!N.match(p)){for(var D="",L=0,j=N.length;L<j;L++)N.charCodeAt(L)>127?D+="x":D+=N[L];if(!D.match(p)){var R=A.slice(0,I),M=A.slice(I+1),F=N.match(f);F&&(R.push(F[1]),M.unshift(F[2])),M.length&&(v="/"+M.join(".")+v),this.hostname=R.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!g[C])for(I=0,x=c.length;I<x;I++){var V=c[I];if(-1!==v.indexOf(V)){var U=encodeURIComponent(V);U===V&&(U=escape(V)),v=v.split(V).join(U)}}var q=v.indexOf("#");-1!==q&&(this.hash=v.substr(q),v=v.slice(0,q));var G=v.indexOf("?");return-1!==G?(this.search=v.substr(G),this.query=v.substr(G+1),e&&(this.query=b.parse(this.query)),v=v.slice(0,G)):e&&(this.search="",this.query={}),v&&(this.pathname=v),y[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=t[c])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=b||g||n.host&&t.pathname,w=v,_=n.pathname&&n.pathname.split("/")||[],C=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),v=v&&(""===f[0]||""===_[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=f;else if(f.length)_||(_=[]),_.pop(),_=_.concat(f),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search))return C&&(n.hostname=n.host=_.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var S=_.slice(-1)[0],T=(n.host||t.host||_.length>1)&&("."===S||".."===S)||""===S,E=0,k=_.length;k>=0;k--)"."===(S=_[k])?_.splice(k,1):".."===S?(_.splice(k,1),E++):E&&(_.splice(k,1),E--);if(!v&&!w)for(;E--;E)_.unshift("..");!v||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),T&&"/"!==_.join("/").substr(-1)&&_.push("");var I,O=""===_[0]||_[0]&&"/"===_[0].charAt(0);return C&&(n.hostname=n.host=O?"":_.length?_.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),(v=v||n.host&&_.length)&&!O&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),l=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},Nehr:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),l=n("c2HN"),u=n("XoHu");const c=t=>{if(t&&"function"==typeof t[s.a])return c=t,t=>{const e=c[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(l.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,c}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},YcCt:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e=e||"&");var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var c,h,d,p,f=t[u].replace(s,"%20"),g=f.indexOf(n);g>=0?(c=f.substr(0,g),h=f.substr(g+1)):(c=f,h=""),d=decodeURIComponent(c),p=decodeURIComponent(h),r(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return vo})),n.d(e,"b",(function(){return za})),n.d(e,"c",(function(){return Ga})),n.d(e,"d",(function(){return Ua})),n.d(e,"e",(function(){return qa})),n.d(e,"f",(function(){return Ml})),n.d(e,"g",(function(){return Il})),n.d(e,"h",(function(){return to})),n.d(e,"i",(function(){return il})),n.d(e,"j",(function(){return vs})),n.d(e,"k",(function(){return Ya})),n.d(e,"l",(function(){return ws})),n.d(e,"m",(function(){return On})),n.d(e,"n",(function(){return Ta})),n.d(e,"o",(function(){return z})),n.d(e,"p",(function(){return h})),n.d(e,"q",(function(){return B})),n.d(e,"r",(function(){return bo})),n.d(e,"s",(function(){return Vs})),n.d(e,"t",(function(){return Us})),n.d(e,"u",(function(){return Ja})),n.d(e,"v",(function(){return lt})),n.d(e,"w",(function(){return Pl})),n.d(e,"x",(function(){return at})),n.d(e,"y",(function(){return Cl})),n.d(e,"z",(function(){return al})),n.d(e,"A",(function(){return d})),n.d(e,"B",(function(){return Ba})),n.d(e,"C",(function(){return Ka})),n.d(e,"D",(function(){return Ts})),n.d(e,"E",(function(){return Cs})),n.d(e,"F",(function(){return Ss})),n.d(e,"G",(function(){return ks})),n.d(e,"H",(function(){return mr})),n.d(e,"I",(function(){return f})),n.d(e,"J",(function(){return Nl})),n.d(e,"K",(function(){return Hs})),n.d(e,"L",(function(){return gl})),n.d(e,"M",(function(){return no})),n.d(e,"N",(function(){return Os})),n.d(e,"O",(function(){return Is})),n.d(e,"P",(function(){return Bs})),n.d(e,"Q",(function(){return mt})),n.d(e,"R",(function(){return Sl})),n.d(e,"S",(function(){return Bn})),n.d(e,"T",(function(){return x})),n.d(e,"U",(function(){return Kn})),n.d(e,"V",(function(){return jl})),n.d(e,"W",(function(){return bl})),n.d(e,"X",(function(){return Qa})),n.d(e,"Y",(function(){return ro})),n.d(e,"Z",(function(){return la})),n.d(e,"ab",(function(){return fr})),n.d(e,"bb",(function(){return $n})),n.d(e,"cb",(function(){return Rn})),n.d(e,"db",(function(){return Fn})),n.d(e,"eb",(function(){return Gn})),n.d(e,"fb",(function(){return Un})),n.d(e,"gb",(function(){return Vn})),n.d(e,"hb",(function(){return qn})),n.d(e,"ib",(function(){return ia})),n.d(e,"jb",(function(){return Ll})),n.d(e,"kb",(function(){return oa})),n.d(e,"lb",(function(){return sa})),n.d(e,"mb",(function(){return Mn})),n.d(e,"nb",(function(){return F})),n.d(e,"ob",(function(){return Ao})),n.d(e,"pb",(function(){return Bo})),n.d(e,"qb",(function(){return Ko})),n.d(e,"rb",(function(){return ra})),n.d(e,"sb",(function(){return Jt})),n.d(e,"tb",(function(){return O})),n.d(e,"ub",(function(){return jn})),n.d(e,"vb",(function(){return Co})),n.d(e,"wb",(function(){return Gt})),n.d(e,"xb",(function(){return ms})),n.d(e,"yb",(function(){return Mr})),n.d(e,"zb",(function(){return Lo})),n.d(e,"Ab",(function(){return ts})),n.d(e,"Bb",(function(){return Ra})),n.d(e,"Cb",(function(){return wt})),n.d(e,"Db",(function(){return It})),n.d(e,"Eb",(function(){return b})),n.d(e,"Fb",(function(){return v})),n.d(e,"Gb",(function(){return Tt})),n.d(e,"Hb",(function(){return Ot})),n.d(e,"Ib",(function(){return Mo})),n.d(e,"Jb",(function(){return Wo})),n.d(e,"Kb",(function(){return Go})),n.d(e,"Lb",(function(){return qo})),n.d(e,"Mb",(function(){return Ho})),n.d(e,"Nb",(function(){return Tn})),n.d(e,"Ob",(function(){return ls})),n.d(e,"Pb",(function(){return rt})),n.d(e,"Qb",(function(){return Fo})),n.d(e,"Rb",(function(){return Va})),n.d(e,"Sb",(function(){return zo})),n.d(e,"Tb",(function(){return Ma})),n.d(e,"Ub",(function(){return Fe})),n.d(e,"Vb",(function(){return Me})),n.d(e,"Wb",(function(){return Yo})),n.d(e,"Xb",(function(){return va})),n.d(e,"Yb",(function(){return wa})),n.d(e,"Zb",(function(){return _a})),n.d(e,"ac",(function(){return Vo})),n.d(e,"bc",(function(){return ga})),n.d(e,"cc",(function(){return ma})),n.d(e,"dc",(function(){return ja})),n.d(e,"ec",(function(){return Ro})),n.d(e,"fc",(function(){return on})),n.d(e,"gc",(function(){return ge})),n.d(e,"hc",(function(){return yr})),n.d(e,"ic",(function(){return br})),n.d(e,"jc",(function(){return Et})),n.d(e,"kc",(function(){return jo})),n.d(e,"lc",(function(){return os})),n.d(e,"mc",(function(){return ss})),n.d(e,"nc",(function(){return as}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function l(t){return{toString:t}.toString()}const u="__parameters__";function c(t,e,n){return l(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(u)?t[u]:Object.defineProperty(t,u,{value:[]})[u];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=c("Inject",t=>({token:t})),d=c("Optional"),p=c("Self"),f=c("SkipSelf");var g=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function w(t){return _(t,t[S])||_(t,t[k])}function _(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(T)||t.hasOwnProperty(I))?t[T]:null}const S=m({"\u0275prov":m}),T=m({"\u0275inj":m}),E=m({"\u0275provFallback":m}),k=m({ngInjectableDef:m}),I=m({ngInjectorDef:m});function O(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(O).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function P(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const A=m({__forward_ref__:m});function x(t){return t.__forward_ref__=x,t.toString=function(){return O(this())},t}function N(t){return D(t)?t():t}function D(t){return"function"==typeof t&&t.hasOwnProperty(A)&&t.__forward_ref__===x}const L="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,F=L||M||j||R,V=m({"\u0275cmp":m}),U=m({"\u0275dir":m}),q=m({"\u0275pipe":m}),G=m({"\u0275mod":m}),W=m({"\u0275loc":m}),H=m({"\u0275fac":m}),K=m({__NG_ELEMENT_ID__:m});class B{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const z=new B("INJECTOR",-1),Q={},J=/\n/gm,Y="__source",$=m({provide:String,useValue:m});let X,Z=void 0;function tt(t){const e=Z;return Z=t,e}function et(t){const e=X;return X=t,e}function nt(t,e=g.Default){if(void 0===Z)throw new Error("inject() must be called from an injection context");return null===Z?it(t,void 0,e):Z.get(t,e&g.Optional?null:void 0,e)}function rt(t,e=g.Default){return(X||nt)(N(t),e)}function it(t,e,n){const r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&g.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${O(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=g.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof d||"Optional"===i.ngMetadataName||i===d?n|=g.Optional:i instanceof f||"SkipSelf"===i.ngMetadataName||i===f?n|=g.SkipSelf:i instanceof p||"Self"===i.ngMetadataName||i===p?n|=g.Self:t=i instanceof h||i===h?i.token:i}e.push(rt(t,n))}else e.push(rt(r))}return e}class st{get(t,e=Q){if(e===Q){const e=new Error(`NullInjectorError: No provider for ${O(t)}!`);throw e.name="NullInjectorError",e}return e}}class at{}class lt{}function ut(t,e){t.forEach(t=>Array.isArray(t)?ut(t,e):e(t))}function ct(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dt(t,e,n){let r=ft(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pt(t,e){const n=ft(t,e);if(n>=0)return t[1|n]}function ft(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),mt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const yt={},bt=[];let vt=0;function wt(t){return l(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,id:"c",styles:t.styles||bt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=vt++,n.inputs=kt(t.inputs,e),n.outputs=kt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(_t):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ct):null,n})}function _t(t){return Pt(t)||function(t){return t[U]||null}(t)}function Ct(t){return function(t){return t[q]||null}(t)}const St={};function Tt(t){const e={type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&l(()=>{St[t.id]=t.type}),e}function Et(t,e){return l(()=>{const n=xt(t,!0);n.declarations=e.declarations||bt,n.imports=e.imports||bt,n.exports=e.exports||bt})}function kt(t,e){if(null==t)return yt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const It=wt;function Ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pt(t){return t[V]||null}function At(t,e){return t.hasOwnProperty(H)?t[H]:null}function xt(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${O(t)} does not have '\u0275mod' property.`);return n}const Nt=20,Dt=10;function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function jt(t){return Array.isArray(t)&&!0===t[1]}function Rt(t){return 0!=(8&t.flags)}function Mt(t){return 2==(2&t.flags)}function Ft(t){return 1==(1&t.flags)}function Vt(t){return null!==t.template}function Ut(t){return 0!=(512&t[2])}class qt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Gt(){return Wt}function Wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Kt),Ht}function Ht(){const t=Bt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===yt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Kt(t,e,n,r){const i=Bt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:yt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new qt(l&&l.currentValue,e,s===yt),t[r]=e}function Bt(t){return t.__ngSimpleChanges__||null}Gt.ngInherit=!0;const zt="http://www.w3.org/2000/svg";let Qt=void 0;function Jt(t){Qt=t}function Yt(){return void 0!==Qt?Qt:"undefined"!=typeof document?document:void 0}function $t(t){return!!t.listen}const Xt={createRenderer:(t,e)=>Yt()};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function te(t,e){return Zt(e[t+Nt])}function ee(t,e){return Zt(e[t.index])}function ne(t,e){return t.data[e+Nt]}function re(t,e){return t[e+Nt]}function ie(t,e){const n=e[t];return Lt(n)?n:n[0]}function oe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function se(t){return 4==(4&t[2])}function ae(t){return 128==(128&t[2])}function le(t,e){return null===t||null==e?null:t[e]}function ue(t){t[18]=0}function ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const he={lFrame:Ae(null),bindingsEnabled:!0,checkNoChangesMode:!1};function de(){return he.bindingsEnabled}function pe(){return he.lFrame.lView}function fe(){return he.lFrame.tView}function ge(t){he.lFrame.contextLView=t}function me(){return he.lFrame.currentTNode}function ye(t,e){he.lFrame.currentTNode=t,he.lFrame.isParent=e}function be(){return he.lFrame.isParent}function ve(){return he.checkNoChangesMode}function we(t){he.checkNoChangesMode=t}function _e(){const t=he.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ce(){return he.lFrame.bindingIndex++}function Se(t,e){const n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,Te(e)}function Te(t){he.lFrame.currentDirectiveIndex=t}function Ee(){return he.lFrame.currentQueryIndex}function ke(t){he.lFrame.currentQueryIndex=t}function Ie(t,e){const n=Pe();he.lFrame=n,n.currentTNode=e,n.lView=t}function Oe(t){const e=Pe(),n=t[1];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Pe(){const t=he.lFrame,e=null===t?null:t.child;return null===e?Ae(t):e}function Ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function xe(){const t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ne=xe;function De(){const t=xe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Le(){return he.lFrame.selectedIndex}function je(t){he.lFrame.selectedIndex=t}function Re(){const t=he.lFrame;return ne(t.tView,t.selectedIndex)}function Me(){he.lFrame.currentNamespace=zt}function Fe(){he.lFrame.currentNamespace=null}function Ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ue(t,e,n){We(t,e,3,n)}function qe(t,e,n,r){(3&t[2])===n&&We(t,e,n,r)}function Ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function We(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(He(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function He(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ke=-1;class Be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ze(t,e,n){const r=$t(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];Je(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Qe(t){return 3===t||4===t||6===t}function Je(t){return 64===t.charCodeAt(0)}function Ye(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$e(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $e(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Xe(t){return t!==Ke}function Ze(t){return 32767&t}function tn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function en(t){return"string"==typeof t?t:null==t?"":""+t}function nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():en(t)}const rn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function on(t){return{name:"document",target:t.ownerDocument}}function sn(t){return t instanceof Function?t():t}let an=!0;function ln(t){const e=an;return an=t,e}let un=0;function cn(t,e){const n=dn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,hn(r.data,t),hn(e,null),hn(r.blueprint,null));const i=pn(t,e),o=t.injectorIndex;if(Xe(i)){const t=Ze(i),n=tn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function hn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ke}function fn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=un++);const i=255&r,o=1<<i,s=64&i,a=32&i,l=e.data;128&i?s?a?l[t+7]|=o:l[t+6]|=o:a?l[t+5]|=o:l[t+4]|=o:s?a?l[t+3]|=o:l[t+2]|=o:a?l[t+1]|=o:l[t]|=o}(t,e,n)}function gn(t,e,n,r=g.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ie(e,t);try{const t=i();if(null!=t||r&g.Optional)return t;throw new Error(`No provider for ${nn(n)}!`)}finally{Ne()}}else if("number"==typeof i){if(-1===i)return new Cn(t,e);let o=null,s=dn(t,e),a=Ke,l=r&g.Host?e[16][6]:null;for((-1===s||r&g.SkipSelf)&&(a=-1===s?pn(t,e):e[s+8],a!==Ke&&_n(r,!1)?(o=e[1],s=Ze(a),e=tn(a,e)):s=-1);-1!==s;){const t=e[1];if(wn(i,s,t.data)){const t=yn(s,e,n,o,r,l);if(t!==mn)return t}a=e[s+8],a!==Ke&&_n(r,e[1].data[s+8]===l)&&wn(i,s,e)?(o=t,s=Ze(a),e=tn(a,e)):s=-1}}}if(r&g.Optional&&void 0===i&&(i=null),0==(r&(g.Self|g.Host))){const t=e[9],o=et(void 0);try{return t?t.get(n,i,r&g.Optional):it(n,i,r&g.Optional)}finally{et(o)}}if(r&g.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${nn(n)}]`)}const mn={};function yn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],l=bn(a,s,n,null==r?Mt(a)&&an:r!=s&&2===a.type,i&g.Host&&o===a);return null!==l?vn(e,s,l,a):mn}function bn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,c=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<c;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=s[l];if(t&&Vt(t)&&t.type===n)return l}return null}function vn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Be){const s=i;if(s.resolving)throw new Error("Circular dep for "+nn(o[n]));const a=ln(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?et(s.injectImpl):null;Ie(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&et(l),ln(a),s.resolving=!1,Ne()}}return i}function wn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function _n(t,e){return!(t&g.Self||t&g.Host&&e)}class Cn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return gn(this._tNode,this._lView,t,void 0,e)}}function Sn(t){const e=t;if(D(t))return()=>{const t=Sn(N(e));return t?t():null};let n=At(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function Tn(t){return l(()=>{const e=t.prototype.constructor,n=e[H]||Sn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[H]||Sn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function En(t){return t.ngDebugContext}function kn(t){return t.ngOriginalError}function In(t,...e){t.error(...e)}class On{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||In}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?En(t)?En(t):this._findContext(kn(t)):null}_findOriginalError(t){let e=kn(t);for(;e&&kn(e);)e=kn(e);return e}}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class An extends Pn{getTypeName(){return"HTML"}}class xn extends Pn{getTypeName(){return"Style"}}class Nn extends Pn{getTypeName(){return"Script"}}class Dn extends Pn{getTypeName(){return"URL"}}class Ln extends Pn{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof Pn&&t.getTypeName()||null}function Fn(t){return new An(t)}function Vn(t){return new xn(t)}function Un(t){return new Nn(t)}function qn(t){return new Dn(t)}function Gn(t){return new Ln(t)}let Wn=!0,Hn=!1;function Kn(){return Hn=!0,Wn}function Bn(){if(Hn)throw new Error("Cannot enable prod mode after platform setup.");Wn=!1}class zn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Jn)||t.match(Yn)?t:(Kn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const tr=Xn("area,br,col,hr,img,wbr"),er=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nr=Xn("rp,rt"),rr=Zn(nr,er),ir=Zn(tr,Zn(er,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(nr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rr),or=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sr=Xn("srcset"),ar=Zn(or,sr,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=Xn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ir.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ar.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;or[o]&&(s=$n(s)),sr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>$n(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ir.hasOwnProperty(e)&&!tr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(cr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(hr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function fr(t,e){let n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new zn:new Qn(t)}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==o);const s=new ur,a=s.sanitizeChildren(gr(n)||n);return Kn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=gr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function yr(t){const e=vr();return e?e.sanitize(mr.HTML,t)||"":Rn(t,"HTML")?jn(t):fr(Yt(),en(t))}function br(t){const e=vr();return e?e.sanitize(mr.URL,t)||"":Rn(t,"URL")?jn(t):$n(en(t))}function vr(){const t=pe();return t&&t[12]}function wr(t,e){t.__ngContext__=e}function _r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Cr="ng-template";function Sr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==_r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Tr(t){return 0===t.type&&t.tagName!==Cr}function Er(t,e,n){return e===(0!==t.type||n?t.tagName:Cr)}function kr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Qe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Er(t,l,n)||""===l&&1===e.length){if(Ir(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Sr(t.attrs,u,n)){if(Ir(r))return!1;s=!0}continue}const c=Or(8&r?"class":l,i,Tr(t),n);if(-1===c){if(Ir(r))return!1;s=!0;continue}if(""!==u){let t;t=c>o?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==_r(e,u,0)||2&r&&u!==t){if(Ir(r))return!1;s=!0}}}}else{if(!s&&!Ir(r)&&!Ir(l))return!1;if(s&&Ir(l))continue;s=!1,r=l|1&r}}return Ir(r)||s}function Ir(t){return 0==(1&t)}function Or(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Pr(t,e,n=!1){for(let r=0;r<e.length;r++)if(kr(t,e[r],n))return!0;return!1}function Ar(t,e){return t?":not("+e.trim()+")":e}function xr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ir(s)||(e+=Ar(o,i),i=""),r=s,o=o||!Ir(r);n++}return""!==i&&(e+=Ar(o,i)),e}const Nr={};function Dr(t){const e=t[3];return jt(e)?e[3]:e}function Lr(t){return Rr(t[13])}function jr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!jt(t);)t=t[4];return t}function Mr(t){Fr(fe(),pe(),Le()+t,ve())}function Fr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ue(e,r,n)}else{const r=t.preOrderHooks;null!==r&&qe(e,r,0,n)}je(n)}function Vr(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function qr(t){return 2|t}function Gr(t){return(131068&t)>>2}function Wr(t,e){return-131069&t|e<<2}function Hr(t){return 1|t}function Kr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ke(i),n.contentQueries(2,e[o],o)}}}function Br(t,e,n){return $t(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function zr(t,e,n,r,i,o,s,a,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,ue(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function Qr(t,e,n,r,i){const o=e+Nt,s=t.data[o]||function(t,e,n,r,i){const o=me(),s=be(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return ye(s,!0),s}function Jr(t,e,n){Oe(e);try{const r=t.viewQuery;null!==r&&Ei(1,r,n);const i=t.template;null!==i&&Xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Kr(t,e),t.staticViewQueries&&Ei(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)wi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,De()}}function Yr(t,e,n,r){const i=e[2];if(256==(256&i))return;Oe(e);const o=ve();try{ue(e),he.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ue(e,n,null)}else{const n=t.preOrderHooks;null!==n&&qe(e,n,0,null),Ge(e,0)}if(function(t){for(let e=Lr(t);null!==e;e=jr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=Lr(t);null!==e;e=jr(e))for(let t=Dt;t<e.length;t++){const n=e[t],r=n[1];ae(n)&&Yr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Kr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ue(e,n)}else{const n=t.contentHooks;null!==n&&qe(e,n,1),Ge(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,je(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Se(r,i),s(2,e[i])),i++)}}}finally{je(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)vi(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Ei(2,l,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ue(e,n)}else{const n=t.viewHooks;null!==n&&qe(e,n,2),Ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ce(e[3],-1))}finally{De()}}function $r(t,e,n,r){const i=e[10],o=!ve(),s=se(e);try{o&&!s&&i.begin&&i.begin(),s&&Jr(t,e,r),Yr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Xr(t,e,n,r,i){const o=Le();try{je(-1),2&r&&e.length>Nt&&Fr(t,e,0,ve()),n(r,i)}finally{je(o)}}function Zr(t,e,n){de()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||cn(n,e),wr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Vt(r);o&&gi(e,n,r);const l=vn(e,t,a,n);wr(l,e),null!==s&&mi(0,a-i,l,r,0,s),o&&(ie(n.index,e)[8]=l)}}(t,e,n,ee(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Nt,l=he.lFrame.currentDirectiveIndex;try{je(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Te(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ui(r,i):s&&o.push(null)}}finally{je(-1),Te(l)}}(t,e,n))}function ti(t,e,n=ee){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ni(t,e,n,r,i,o,s,a,l,u){const c=Nt+r,h=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nr);return n}(c,h),p="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function ri(t,e,n,r){const i=Ii(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function oi(t,e,n,r,i,o,s,a){const l=ee(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Pi(t,n,u,r,i),Mt(e)&&function(t,e){const n=ie(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,$t(o)?o.setProperty(l,r,i):Je(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function si(t,e,n,r){let i=!1;if(de()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Pr(n,s.selectors,!1)&&(i||(i=[]),fn(cn(n,e),t,s.type),Vt(s)?(hi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ci(t,n,o.length);let a=!1,l=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=Ye(n.mergedAttrs,u.hostAttrs),fi(t,e,u),di(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!a&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Nt),a=!0),l||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Nt),l=!0),ai(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,u=null===i||Tr(e)?null:yi(n,i);o.push(u),s=ii(n,l,s),a=ii(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),li(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ye(n.mergedAttrs,n.attrs),i}function ai(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function li(t,e,n){for(let r=0;r<n;r++)e.push(Nr),t.blueprint.push(Nr),t.data.push(null)}function ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ci(t,e,n){const r=Nt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vt(e)&&(n[""]=t)}}function pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=At(n.type)),i=new Be(r,Vt(n),null);t.blueprint.push(i),e.push(i)}function gi(t,e,n){const r=ee(e,t),i=ei(n),o=t[10],s=_i(t,zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function mi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vi(t,e){const n=ie(e,t);if(ae(n)){const t=n[1];80&n[2]?Yr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Lr(e);null!==r;r=jr(r))for(let e=Dt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Yr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ie(n[r],e);ae(i)&&i[5]>0&&t(i)}}(n)}}function wi(t,e){const n=ie(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Jr(r,n,n[8])}function _i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ci(t){for(;t;){t[2]|=64;const e=Dr(t);if(Ut(t)&&!e)return t;t=e}return null}function Si(t,e,n){const r=e[10];r.begin&&r.begin();try{Yr(t,e,t.template,n)}catch(i){throw Oi(e,i),i}finally{r.end&&r.end()}}function Ti(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=oe(n),i=r[1];$r(i,r,i.template,n)}}(t[8])}function Ei(t,e,n){ke(0),e(t,n)}const ki=(()=>Promise.resolve(null))();function Ii(t){return t[7]||(t[7]=[])}function Oi(t,e){const n=t[9],r=n?n.get(On,null):null;r&&r.handleError(e)}function Pi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],u=t.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Ai(t,e,n,r,i){if(null!=r){let o,s=!1;jt(r)?o=r:Lt(r)&&(s=!0,r=r[0]);const a=Zt(r);0===t&&null!==n?null==i?Ri(e,n,a):ji(e,n,a,i||null):1===t&&null!==n?ji(e,n,a,i||null):2===t?function(t,e,n){const r=Fi(t,e);r&&function(t,e,n,r){$t(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Zt(n)&&Ai(e,t,r,o,i);for(let s=Dt;s<n.length;s++){const i=n[s];qi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function xi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ce(i,-1)),n.splice(r,1)}function Ni(t,e){if(t.length<=Dt)return;const n=Dt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&xi(o,r),e>0&&(t[n-1][4]=r[4]);const s=ht(t,Dt+e);qi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Di(t,e){if(!(256&e[2])){const n=e[11];$t(n)&&n.destroyNode&&qi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Li(e[1],e),e=e[3];null===e&&(e=t),Lt(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Be)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Zt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&$t(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&jt(e[3])){n!==e[3]&&xi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function ji(t,e,n,r){$t(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ri(t,e,n){$t(t)?t.appendChild(e,n):e.appendChild(n)}function Mi(t,e,n,r){null!==r?ji(t,e,n,r):Ri(t,e,n)}function Fi(t,e){return $t(t)?t.parentNode(e):e.parentNode}function Vi(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ee(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==mt.ShadowDom&&n!==mt.Native)return null}return ee(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?ee(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Mi(t,i,n[e],o);else Mi(t,i,n,o)}}function Ui(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;s&&0===e&&(a&&wr(Zt(a),r),n.flags|=4),64!=(64&n.flags)&&(3===l||4===l?(Ui(t,e,n.child,r,i,o,!1),Ai(e,t,i,a,o)):1===l?Gi(t,e,r,n,i,o):Ai(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function qi(t,e,n,r,i,o){Ui(n,r,t.firstChild,e,i,o,!1)}function Gi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ai(e,t,i,a[l],o);else Ui(t,e,a,s[3],i,o,!0)}function Wi(t,e,n){$t(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hi(t,e,n){$t(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ki{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Zt(s)),jt(s))for(let e=Dt;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Dr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Di(this._lView[1],this._lView)}onDestroy(t){ri(this._lView[1],this._lView,null,t)}markForCheck(){Ci(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Si(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){we(!0);try{Si(t,e,n)}finally{we(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,qi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Bi extends Ki{constructor(t){super(t),this._view=t}detectChanges(){Ti(this._view)}checkNoChanges(){!function(t){we(!0);try{Ti(t)}finally{we(!1)}}(this._view)}get context(){return null}}let zi,Qi,Ji;function Yi(t,e,n){return zi||(zi=class extends t{}),new zi(ee(e,n))}function $i(t,e,n,r){return Qi||(Qi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=zr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Jr(e,n,t),new Ki(n)}}),0===n.type?new Qi(r,n,Yi(e,n,r)):null}function Xi(t,e,n,r){let i;Ji||(Ji=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Yi(e,this._hostTNode,this._hostView)}get injector(){return new Cn(this._hostTNode,this._hostView)}get parentInjector(){const t=pn(this._hostTNode,this._hostView);if(Xe(t)){const e=tn(t,this._hostView),n=Ze(t);return new Cn(e[1].data[n+8],e)}return new Cn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(at,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),jt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ji(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Dt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Dt?(e[4]=n[i],ct(n,Dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Dt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ee(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return jt(e)?t(-1,e):Zt(e)}}{const t=n[16],i=t[6],o=Dr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],l=Fi(a,o[7]);return null!==l&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,qi(t,r,n,1,i,o)}(r,o[6],a,n,l,s),t.attachToViewContainerRef(this),ct(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);n&&(ht(this._lContainer[8],e),Di(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);return n&&null!=ht(this._lContainer[8],e)?new Ki(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(jt(o))i=o;else{let t;if(3===n.type)t=Zt(o);else if(t=r[11].createComment(""),Ut(r)){const e=r[11],i=ee(n,r);ji(e,Fi(e,i),t,function(t,e){return $t(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Vi(r[1],r,t,n);r[n.index]=i=bi(o,r,t,n),_i(r,i)}return new Ji(i,n,r)}function Zi(t=!1){return function(t,e,n){if(!n&&Mt(t)){const n=ie(t.index,e);return new Ki(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Ki(e[16],e):null}(me(),pe(),t)}let to=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>eo(),t})();const eo=Zi,no=Function,ro=new B("Set Injector scope."),io={},oo={},so=[];let ao=void 0;function lo(){return void 0===ao&&(ao=new st),ao}function uo(t,e=null,n=null,r){return new co(t,n,e||lo(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ut(e,n=>this.processProvider(n,t,e)),ut([t],t=>this.processInjectorType(t,[],i)),this.records.set(z,fo(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:O(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Q,n=g.Default){this.assertNotDestroyed();const r=tt(this);try{if(!(n&g.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof B)&&w(t);e=n&&this.injectableDefInScope(n)?fo(ho(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&g.Self?lo():this.parent).get(t,e=n&g.Optional&&e===Q?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(O(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Y]&&i.unshift(e[Y]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=O(e);if(Array.isArray(e))i=e.map(O).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):O(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{tt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(O(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=N(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ut(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ut(r,t=>this.processProvider(t,n,r||so))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,io));const a=r.providers;if(null!=a&&!s){const e=t;ut(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=mo(t=N(t))?t:N(t&&t.provide);const i=function(t,e,n){return go(t)?fo(void 0,t.useValue):fo(po(t),io)}(t);if(mo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,io,!0),e.factory=()=>ot(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ho(t){const e=w(t),n=null!==e?e.factory:At(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof B)throw new Error(`Token ${O(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${O(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[k]||t[E]&&t[E]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function po(t,e,n){let r=void 0;if(mo(t)){const e=N(t);return At(e)||ho(e)}if(go(t))r=()=>N(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rt(N(t.useExisting));else{const e=N(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return At(e)||ho(e);r=()=>new e(...ot(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&$ in t}function mo(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let bo=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Q,t.NULL=new st,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>rt(z)}),t.__NG_ELEMENT_ID__=-1,t})();const vo=new B("AnalyzeForEntryComponents");function wo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=P(i,t):2==o&&(r=P(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function _o(t,e){const n=oe(t)[1],r=n.data.length-1;Ve(n,{directiveStart:r,directiveEnd:r+1})}function Co(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=So(t.inputs),e.declaredInputs=So(t.declaredInputs),e.outputs=So(t.outputs);const n=i.hostBindings;n&&ko(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&To(t,o),s&&Eo(t,s),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),Vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Co&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ye(i.hostAttrs,n=Ye(n,i.hostAttrs))}}(r)}function So(t){return t===yt?{}:t===bt?[]:t}function To(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ko(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Io=null;function Oo(){if(!Io){const t=F.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}class Po{constructor(t){this.wrapped=t}static wrap(t){return new Po(t)}static unwrap(t){return Po.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Po}}function Ao(t){return!!xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oo()in t)}function xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function No(t,e,n){return t[e]=n}function Do(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lo(t,e,n,r){const i=pe();return Do(i,Ce(),e)&&(fe(),function(t,e,n,r,i,o){const s=ee(t,e),a=e[11];if(null==r)$t(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?en(r):i(r,t.tagName||"",n);$t(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Re(),i,t,e,n,r)),Lo}function jo(t,e,n,r,i,o,s,a){const l=pe(),u=fe(),c=t+Nt,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,l){const u=e.consts,c=Qr(e,t,0,s||null,le(u,a));si(e,n,c,le(u,l)),Ve(e,c);const h=c.tViews=ni(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(t,u,l,e,n,r,i,o,s):u.data[c];ye(h,!1);const d=l[11].createComment("");Vi(u,l,d,h),wr(d,l),_i(l,l[c]=bi(d,l,d,h)),Ft(h)&&Zr(u,l,h),null!=s&&ti(l,h,a)}function Ro(t){return re(he.lFrame.contextLView,t)}function Mo(t,e=g.Default){const n=pe();return null===n?rt(t,e):gn(me(),n,N(t),e)}function Fo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Qe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(me(),t)}function Vo(t,e,n){const r=pe();return Do(r,Ce(),e)&&oi(fe(),Re(),r,t,e,r[11],n,!1),Vo}function Uo(t,e,n,r,i){const o=i?"class":"style";Pi(t,n,e.inputs[o],o,r)}function qo(t,e,n,r){const i=pe(),o=fe(),s=Nt+t,a=i[11],l=i[s]=Br(e,a,he.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,l=Qr(e,t,2,i,le(a,o));return si(e,n,l,le(a,s)),null!==l.attrs&&wo(l,l.attrs,!1),null!==l.mergedAttrs&&wo(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(t,o,i,0,e,n,r):o.data[s];ye(u,!0);const c=u.mergedAttrs;null!==c&&ze(a,l,c);const h=u.classes;null!==h&&Hi(a,l,h);const d=u.styles;null!==d&&Wi(a,l,d),Vi(o,i,l,u),0===he.lFrame.elementDepthCount&&wr(l,i),he.lFrame.elementDepthCount++,Ft(u)&&(Zr(o,i,u),function(t,e,n){if(Rt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,u,i)),null!==r&&ti(i,u)}function Go(){let t=me();be()?he.lFrame.isParent=!1:(t=t.parent,ye(t,!1));const e=t;he.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&(Ve(n,t),Rt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,pe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,pe(),e.stylesWithoutHost,!1)}function Wo(t,e,n,r){qo(t,e,n,r),Go()}function Ho(){return pe()}function Ko(t){return!!t&&"function"==typeof t.then}function Bo(t){return!!t&&"function"==typeof t.subscribe}function zo(t,e,n=!1,r){const i=pe(),o=fe(),s=me();return function(t,e,n,r,i,o,s=!1,a){const l=Ft(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),c=Ii(e);let h=!0;if(2===r.type){const d=ee(r,e),p=a?a(d):yt,f=p.target||d,g=c.length,m=a?t=>a(Zt(t[r.index])).target:r.index;if($t(n)){let s=null;if(!a&&l&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Jo(r,e,o,!1);const t=n.listen(p.name||f,i,o);c.push(o,t),u&&u.push(i,m,g,g+1)}}else o=Jo(r,e,o,!0),f.addEventListener(i,o,s),c.push(o),u&&u.push(i,m,g,s)}const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=c.length;c.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),zo}function Qo(t,e,n){try{return!1!==e(n)}catch(r){return Oi(t,r),!1}}function Jo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ie(t.index,e):e;0==(32&e[2])&&Ci(s);let a=Qo(e,n,o),l=i.__ngNextListenerFn__;for(;l;)a=Qo(e,l,o)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Yo(t=1){return function(t){return(he.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,he.lFrame.contextLView))[8]}(t)}const $o=[];function Xo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ur(o):Gr(o),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];Zo(t[a],e)&&(l=!0,t[a+1]=r?Hr(n):qr(n)),a=r?Ur(n):Gr(n)}l&&(t[n+1]=r?qr(o):Hr(o))}function Zo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ft(t,e)>=0}function ts(t,e){return function(t,e,n,r){const i=pe(),o=fe(),s=function(t){const e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Le()+Nt],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=he.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ns(n=es(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=es(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Gr(r))return t[Ur(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=es(null,t,e,n[1],r),n=ns(n,e.attrs,r),function(t,e,n,r){t[Ur(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ns(r,t[o].hostAttrs,true);return ns(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=Ur(s),l=Gr(s);t[r]=n;let u,c=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||ft(t,u)>0)&&(c=!0)}else u=n;if(i)if(0!==l){const e=Ur(t[a+1]);t[r+1]=Vr(e,a),0!==e&&(t[e+1]=Wr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Vr(a,0),0!==a&&(t[a+1]=Wr(t[a+1],r)),a=r;else t[r+1]=Vr(l,0),0===a?a=r:t[l+1]=Wr(t[l+1],r),l=r;c&&(t[r+1]=qr(t[r+1])),Xo(t,u,r,!0),Xo(t,u,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&ft(o,e)>=0&&(n[r+1]=Hr(n[r+1]))}(e,u,t,r),s=Vr(a,l),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Nr&&Do(i,s,e)&&function(t,e,n,r,i,o,s,a){if(2!==e.type)return;const l=t.data,u=l[a+1];is(1==(1&u)?rs(l,e,n,i,Gr(u),s):void 0)||(is(o)||function(t){return 2==(2&t)}(u)&&(o=rs(l,null,n,i,a,s)),function(t,e,n,r,i){const o=$t(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,te(Le(),n),i,o))}(o,o.data[Le()+Nt],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=O(jn(t))),t}(e),true,s)}(t,e),ts}function es(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ns(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ns(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dt(t,s,!!n||e[++o]))}return void 0===t?null:t}function rs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),l=o?e[1]:e,u=null===l;let c=n[i+1];c===Nr&&(c=u?$o:void 0);let h=u?pt(c,r):l===r?c:void 0;if(o&&!is(h)&&(h=pt(e,r)),is(h)&&(a=h,s))return a;const d=t[i+1];i=s?Ur(d):Gr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=pt(t,r))}return a}function is(t){return void 0!==t}function os(t,e=""){const n=pe(),r=fe(),i=t+Nt,o=r.firstCreatePass?Qr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return $t(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vi(r,n,s,o),ye(o,!1)}function ss(t){return as("",t,""),ss}function as(t,e,n){const r=pe(),i=function(t,e,n,r){return Do(t,Ce(),n)?e+en(n)+r:Nr}(r,t,e,n);return i!==Nr&&function(t,e,n){const r=te(e,t),i=t[11];$t(i)?i.setValue(r,n):r.textContent=n}(r,Le(),i),as}function ls(t,e,n){const r=pe();return Do(r,Ce(),e)&&oi(fe(),Re(),r,t,e,r[11],n,!0),ls}function us(t,e,n,r,i){if(t=N(t),Array.isArray(t))for(let o=0;o<t.length;o++)us(t[o],e,n,r,i);else{const o=fe(),s=pe();let a=mo(t)?t:N(t.provide),l=po(t);const u=me(),c=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(mo(t)||!t.multi){const r=new Be(l,i,Mo),p=ds(a,e,i?c:c+d,h);-1===p?(fn(cn(u,s),o,a),cs(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=ds(a,e,c+d,h),f=ds(a,e,c,c+d),g=p>=0&&n[p],m=f>=0&&n[f];if(i&&!m||!i&&!g){fn(cn(u,s),o,a);const c=function(t,e,n,r,i){const o=new Be(t,n,Mo);return o.multi=[],o.index=e,o.componentProviders=0,hs(o,i,r&&!n),o}(i?fs:ps,n.length,i,r,l);!i&&m&&(n[f].providerFactory=c),cs(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(c),s.push(c)}else cs(o,t,p>-1?p:f,hs(n[i?f:p],l,!i&&r));!i&&r&&m&&n[f].componentProviders++}}}function cs(t,e,n,r){const i=mo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function hs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ds(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ps(t,e,n,r){return gs(this.multi,[])}function fs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=vn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),gs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],gs(i,o);return o}function gs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ms(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=fe();if(r.firstCreatePass){const i=Vt(t);us(n,r.data,r.blueprint,i,!0),us(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ys{}class bs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${O(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let vs=(()=>{class t{}return t.NULL=new bs,t})(),ws=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>_s(t),t})();const _s=function(t){return Yi(t,me(),pe())};class Cs{}var Ss=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Es(),t})();const Es=function(){const t=pe(),e=ie(me().index,t);return function(t){const e=t[11];if($t(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)};let ks=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class Is{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Os=new Is("10.1.6");class Ps{constructor(){}supports(t){return Ao(t)}create(t){return new xs(t)}}const As=(t,e)=>e;class xs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||As}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<js(n,r,i)?e:n,s=js(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ao(t))throw new Error(`Error trying to diff '${O(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Oo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ns(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ls),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ls),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ns{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ds{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ls{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ds,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function js(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Rs{constructor(){}supports(t){return t instanceof Map||xo(t)}create(){return new Ms}}class Ms{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xo(t)))throw new Error(`Error trying to diff '${O(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Fs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Fs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Vs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Ps])}),t})(),Us=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Rs])}),t})();const qs=[new Rs],Gs=new Vs([new Ps]),Ws=new Us(qs);let Hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ks(t,ws),t})();const Ks=function(t,e){return $i(t,e,me(),pe())};let Bs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zs(t,ws),t})();const zs=function(t,e){return Xi(t,e,me(),pe())},Qs={};class Js extends vs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pt(t);return new Xs(e,this.ngModule)}}function Ys(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const $s=new B("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rn});class Xs extends ys{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(xr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ys(this.componentDef.inputs)}get outputs(){return Ys(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Qs,i);return o!==Qs||r===Qs?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Cs,Xt),s=i.get(ks,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if($t(t))return t.selectRootElement(e,n===mt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Br(l,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?zt:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:rn,clean:ki,playerHandler:null,flags:0},d=ni(0,null,null,1,0,null,null,null,null,null),p=zr(null,d,h,c,null,null,o,a,s,i);let f,g;Oe(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Qr(s,0,2,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(wo(a,l,!0),null!==t&&(ze(i,t,l),null!==a.classes&&Hi(i,t,a.classes),null!==a.styles&&Wi(i,t,a.styles)));const u=r.createRenderer(t,e),c=zr(n,ei(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(fn(cn(a,n),s,e.type),hi(s,a),pi(a,n.length,1)),_i(n,c),n[20]=c}(u,this.componentDef,p,o,a);if(u)if(n)ze(a,u,["ng-version",Os.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ir(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ze(a,u,t),e&&e.length>0&&Hi(a,u,e.join(" "))}if(g=ne(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=me();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ci(t,r,1),fi(t,e,n));const i=vn(e,t,e.length-1,r);wr(i,e);const o=ee(r,e);return o&&wr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=me();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){je(a.index-Nt);const t=n[1];ai(t,e),li(t,n,e.hostVars),ui(e,s)}return s}(t,this.componentDef,p,h,[_o]),Jr(d,p,null)}finally{De()}return new Zs(this.componentType,f,Yi(ws,g,p),p,g)}}class Zs extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Bi(r),this.componentType=t}get injector(){return new Cn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ta=void 0;var ea=["en",[["a","p"],["AM","PM"],ta],[["AM","PM"],ta,ta],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ta,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ta,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ta,"{1} 'at' {0}",ta],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let na={};function ra(t,e,n){"string"!=typeof e&&(n=e,e=t[la.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),na[e]=t,n&&(na[e][la.ExtraData]=n)}function ia(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=aa(e);if(n)return n;const r=e.split("-")[0];if(n=aa(r),n)return n;if("en"===r)return ea;throw new Error(`Missing locale data for the locale "${t}".`)}function oa(t){return ia(t)[la.CurrencyCode]||null}function sa(t){return ia(t)[la.PluralCase]}function aa(t){return t in na||(na[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),na[t]}var la=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ua="en-US";let ca=ua;function ha(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ca=t.toLowerCase().replace(/_/g,"-"))}const da=new Map;class pa extends at{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Js(this);const n=xt(t),r=t[W]||null;r&&ha(r),this._bootstrapComponents=sn(n.bootstrap),this._r3Injector=uo(t,e,[{provide:at,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],O(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=bo.THROW_IF_NOT_FOUND,n=g.Default){return t===bo||t===at||t===z?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fa extends lt{constructor(t){super(),this.moduleType=t,null!==xt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${O(e)} vs ${O(e.name)}`)})(t,da.get(t),e),da.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new pa(this.moduleType,t)}}function ga(t,e,n){const r=_e()+t,i=pe();return i[r]===Nr?No(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function ma(t,e,n,r){return ba(pe(),_e(),t,e,n,r)}function ya(t,e){const n=t[e];return n===Nr?void 0:n}function ba(t,e,n,r,i,o){const s=e+n;return Do(t,s,i)?No(t,s+1,o?r.call(o,i):r(i)):ya(t,s+1)}function va(t,e){const n=fe();let r;const i=t+Nt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=At(r.type)),s=et(Mo);try{const e=ln(!1),r=o();return ln(e),function(t,e,n,r){const i=n+Nt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,pe(),t,r),r}finally{et(s)}}function wa(t,e,n){const r=pe(),i=re(r,t);return Sa(r,Ca(r,t)?ba(r,_e(),e,i.transform,n,i):i.transform(n))}function _a(t,e,n,r){const i=pe(),o=re(i,t);return Sa(i,Ca(i,t)?function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=Do(t,e,n);return Do(t,e+1,r)||i}(t,a,i,o)?No(t,a+2,s?r.call(s,i,o):r(i,o)):ya(t,a+2)}(i,_e(),e,o.transform,n,r,o):o.transform(n,r))}function Ca(t,e){return t[1].data[e+Nt].pure}function Sa(t,e){return Po.isWrapped(e)&&(e=Po.unwrap(e),t[he.lFrame.bindingIndex]=Nr),e}const Ta=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ea(){return this._results[Oo()]()}class ka{constructor(){this.dirty=!0,this._results=[],this.changes=new Ta,this.length=0;const t=Oo(),e=ka.prototype;e[t]||(e[t]=Ea)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ia{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ia(this.queryList)}setDirty(){this.queryList.setDirty()}}class Oa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Oa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Fa(t,e).matches&&this.queries[e].setDirty()}}class Pa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Aa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Aa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Na(e,i)),this.matchTNodeWithReadOption(t,e,bn(e,t,i,!1,!1))}else n===Hs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,bn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ws||r===Bs||r===Hs&&0===e.type)this.addMatch(e.index,-2);else{const n=bn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Na(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Da(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Yi(ws,t,e):0===t.type?$i(Hs,ws,t,e):null}(e,t):-2===n?function(t,e,n){return n===ws?Yi(ws,e,t):n===Hs?$i(Hs,ws,e,t):n===Bs?Xi(Bs,ws,e,t):void 0}(t,e,r):vn(t,t[1],n,e)}function La(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Da(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ja(t){const e=pe(),n=fe(),r=Ee();ke(r+1);const i=Fa(n,r);if(t.dirty&&se(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=La(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Dt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):La(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ra(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Aa),t.queries.track(new xa(e,n))}(t,new Pa(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new ka;ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new Oa),e[19].queries.push(new Ia(n))}(t,e)}(fe(),pe(),e,n,r,0,me(),t)}function Ma(){return t=pe(),e=Ee(),t[19].queries[e].queryList;var t,e}function Fa(t,e){return t.queries.getByIndex(e)}function Va(t=g.Default){const e=Zi(!0);if(null!=e||t&g.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ua=new B("Application Initializer");let qa=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ko(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rt(Ua,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Ga=new B("AppId"),Wa={provide:Ga,useFactory:function(){return`${Ha()}${Ha()}${Ha()}`},deps:[]};function Ha(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ka=new B("Platform Initializer"),Ba=new B("Platform ID"),za=new B("appBootstrapListener");let Qa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Ja=new B("LocaleId"),Ya=new B("DefaultCurrencyCode");class $a{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Xa=function(t){return new fa(t)},Za=Xa,tl=function(t){return Promise.resolve(Xa(t))},el=function(t){const e=Xa(t),n=sn(xt(t).declarations).reduce((t,e)=>{const n=Pt(e);return n&&t.push(new Xs(n)),t},[]);return new $a(e,n)},nl=el,rl=function(t){return Promise.resolve(el(t))};let il=(()=>{class t{constructor(){this.compileModuleSync=Za,this.compileModuleAsync=tl,this.compileModuleAndAllComponentsSync=nl,this.compileModuleAndAllComponentsAsync=rl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const ol=(()=>Promise.resolve(0))();function sl(t){"undefined"==typeof Zone?ol.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class al{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hl(t),cl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return dl(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),pl(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return dl(t),e.invoke(r,i,o,s,a)}finally{pl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,hl(t),cl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!al.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(al.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ul,ll,ll);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ll(){}const ul={};function cl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function dl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pl(t){t._nesting--,cl(t)}class fl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let gl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{al.assertNotInAngularZone(),sl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rt(al))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),ml=(()=>{class t{constructor(){this._applications=new Map,wl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return wl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class yl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function bl(t){wl=t}let vl,wl=new yl;const _l=new B("AllowMultipleToken");class Cl{constructor(t,e){this.name=t,this.token=e}}function Sl(t,e,n=[]){const r="Platform: "+e,i=new B(r);return(e=[])=>{let o=Tl();if(!o||o.injector.get(_l,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(vl&&!vl.destroyed&&!vl.injector.get(_l,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vl=t.get(El);const e=t.get(Ka,null);e&&e.forEach(t=>t())}(bo.create({providers:t,name:r}))}return function(t){const e=Tl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Tl(){return vl&&!vl.destroyed?vl:null}let El=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new fl:("zone.js"===t?void 0:t)||new al({enableLongStackTrace:Kn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:al,useValue:n}];return n.run(()=>{const e=bo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(On,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ol(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ko(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(qa);return t.runInitializers(),t.donePromise.then(()=>(ha(i.injector.get(Ja,ua)||ua),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=kl({},e);return function(t,e,n){const r=new fa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Il);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${O(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rt(bo))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function kl(t,e){return Array.isArray(e)?e.reduce(kl,t):Object.assign(Object.assign({},t),e)}let Il=(()=>{class t{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{al.assertNotInAngularZone(),sl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{al.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ys?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(at),i=n.create(bo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(gl,null);return o&&i.injector.get(ml).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Kn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ol(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(za,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ol(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rt(al),rt(Qa),rt(bo),rt(On),rt(vs),rt(qa))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Ol(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Pl{}class Al{}const xl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Nl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||xl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Dl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Dl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rt(il),rt(Al,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Dl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ll=function(t){return null},jl=Sl(null,"core",[{provide:Ba,useValue:"unknown"},{provide:El,deps:[bo]},{provide:ml,deps:[]},{provide:Qa,deps:[]}]),Rl=[{provide:Il,useClass:Il,deps:[al,Qa,bo,On,vs,qa]},{provide:$s,deps:[al],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:qa,useClass:qa,deps:[[new d,Ua]]},{provide:il,useClass:il,deps:[]},Wa,{provide:Vs,useFactory:function(){return Gs},deps:[]},{provide:Us,useFactory:function(){return Ws},deps:[]},{provide:Ja,useFactory:function(t){return ha(t=t||"undefined"!=typeof $localize&&$localize.locale||ua),t},deps:[[new h(Ja),new d,new f]]},{provide:Ya,useValue:"USD"}];let Ml=(()=>{class t{constructor(t){}}return t.\u0275mod=Tt({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(rt(Il))},providers:Rl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oY9k:function(t,e,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();t.exports=e=r.fetch,r.fetch&&(e.default=r.fetch.bind(r)),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function l(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return p}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return T})),n.d(e,"c",(function(){return M})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return N})),n.d(e,"i",(function(){return F})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return G})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return x})),n.d(e,"o",(function(){return m})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return v})),n.d(e,"r",(function(){return L})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return f})),n.d(e,"u",(function(){return g})),n.d(e,"v",(function(){return C})),n.d(e,"w",(function(){return b})),n.d(e,"x",(function(){return _})),n.d(e,"y",(function(){return A})),n.d(e,"z",(function(){return I})),n.d(e,"A",(function(){return j})),n.d(e,"B",(function(){return R})),n.d(e,"C",(function(){return D})),n.d(e,"D",(function(){return B})),n.d(e,"E",(function(){return K})),n.d(e,"F",(function(){return O})),n.d(e,"G",(function(){return q})),n.d(e,"H",(function(){return W})),n.d(e,"I",(function(){return H}));var r=n("os0x"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=s(t);return a.encodeByteArray(e,!0)},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){return p().indexOf("Electron/")>=0}function w(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _(){return p().indexOf("MSAppHost/")>=0}function C(){return!1}var S=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return Object(r.c)(e,t),e}(Error),T=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?E(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new S(i,a,r);return l},t}();function E(t,e){return t.replace(k,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var k=/\{\$([^}]+)}/g;function I(t){return JSON.parse(t)}function O(t){return JSON.stringify(t)}var P=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=I(u(o[0])||""),n=I(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},A=function(t){var e=P(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},x=function(t){var e=P(t).claims;return"object"==typeof e&&!0===e.admin};function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function L(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function j(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function R(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var M=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),o=1518500249):(i=a^l^u,o=1859775393):r<60?(i=a&l|u&(a|l),o=2400959708):(i=a^l^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function F(t,e){var n=new V(t,e);return n.subscribe.bind(n)}var V=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function U(){}var q=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function G(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function W(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(G(t,e,r)+"must be a valid function.")}function H(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(G(t,e,r)+"must be a valid context object.")}var K=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},B=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),l=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?l(h.errors):[h]}}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},r8II:function(t,e,n){"use strict";e.decode=e.parse=n("YcCt"),e.encode=e.stringify=n("6MUB")},rWzI:function(t,e,n){(function(t){var r;!function(i){"object"==typeof global&&global;var o,s=2147483647,a=36,l=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function f(t){throw RangeError(h[t])}function g(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function m(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+g((t=t.replace(c,".")).split("."),e).join(".")}function y(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function b(t){return g(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+p(t)})).join("")}function v(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=a)t=d(t/35);return d(r+36*t/(t+38))}function _(t){var e,n,r,i,o,l,u,c,h,p,g,m=[],y=t.length,v=0,_=128,C=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&f("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=v,l=1,u=a;i>=y&&f("invalid-input"),((c=(g=t.charCodeAt(i++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:a)>=a||c>d((s-v)/l))&&f("overflow"),v+=c*l,!(c<(h=u<=C?1:u>=C+26?26:u-C));u+=a)l>d(s/(p=a-h))&&f("overflow"),l*=p;C=w(v-o,e=m.length+1,0==o),d(v/e)>s-_&&f("overflow"),_+=d(v/e),v%=e,m.splice(v++,0,_)}return b(m)}function C(t){var e,n,r,i,o,l,u,c,h,g,m,b,_,C,S,T=[];for(b=(t=y(t)).length,e=128,n=0,o=72,l=0;l<b;++l)(m=t[l])<128&&T.push(p(m));for(r=i=T.length,i&&T.push("-");r<b;){for(u=s,l=0;l<b;++l)(m=t[l])>=e&&m<u&&(u=m);for(u-e>d((s-n)/(_=r+1))&&f("overflow"),n+=(u-e)*_,e=u,l=0;l<b;++l)if((m=t[l])<e&&++n>s&&f("overflow"),m==e){for(c=n,h=a;!(c<(g=h<=o?1:h>=o+26?26:h-o));h+=a)T.push(p(v(g+(S=c-g)%(C=a-g),0))),c=d(S/C);T.push(p(v(c,0))),o=w(n,_,r==i),n=0,++r}++n,++e}return T.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:b},decode:_,encode:C,toASCII:function(t){return m(t,(function(t){return u.test(t)?"xn--"+C(t):t}))},toUnicode:function(t){return m(t,(function(t){return l.test(t)?_(t.slice(4).toLowerCase()):t}))}},void 0===(r=(function(){return o}).call(e,n,e,t))||(t.exports=r)}()}).call(this,n("YuTi")(t))},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),l=n("fXoL"),u=n("Jgta");function c(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function f(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new l.q("angularfire2.app.options"),v=new l.q("angularfire2.app.nameOrConfig"),w=new l.O("6.1.1");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));return JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`),o}const C=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(l.U)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s)return o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`),s;{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:_,deps:[b,l.z,[new l.A,v]]};let k=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",w.full,t.toString()),u.a.registerVersion("angular",l.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(e){return new(e||t)(l.Pb(l.B))},providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const l={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=l.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(l.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const p=new d(c);var f=n("DH7j");class g extends r.a{constructor(t,e=0,n=p){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(f.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=p)}static create(t,e=0,n=p){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new l(t))}}class l{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class c extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function f(){return t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),a=n("/6Yf"),l=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new l.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.j)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return l}),"PUBLIC"));try{for(var u=Object(o.h)(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(s.h)(e,a))throw c.create("duplicate-app",{appName:a});var l=new t(n,o,r);return e[a]=l,l},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&l.push("and"),s&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(l.join(" "))}u(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:l.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});Object(l.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.h)(e,t))throw c.create("no-app",{appName:t});return e[t]}function u(a){var l,u,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.k)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){l={error:m}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.k)(e,t)},createSubscribe:s.i,ErrorFactory:s.b,deepExtend:s.k}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.o)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.u)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyC4-N5DG2n4fyaeJMsD4LZSmT9Y1oILIME",authDomain:"gaming-platform-de4f3.firebaseapp.com",databaseURL:"https://gaming-platform-de4f3.firebaseio.com",projectId:"gaming-platform-de4f3",storageBucket:"gaming-platform-de4f3.appspot.com",messagingSenderId:"744302686534",appId:"1:744302686534:web:bea9fadfbaca5a1729b547"};let o=(()=>{class t{constructor(){this.userInfo={}}setOption(t,e){this.userInfo[t]=e}get(){return this.userInfo}clear(){this.userInfo={}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),s=null;function a(){return s}const l=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(d)}const h=new r.q("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(l))},t.\u0275prov=Object(r.Eb)({factory:f,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function f(){return new d(Object(r.Pb)(l))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Pb)(l).location;return new _(Object(r.Pb)(u),e&&e.origin||"")}const w=new r.q("appBaseHref");let _=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(w,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(w,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(b),r.Pb(u))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Eb)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new S(Object(r.Pb)(b),Object(r.Pb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var k=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.lb;class O{}let P=(()=>{class t extends O{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new D(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let L=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}class M{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class F{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const V=new F,U=new M;let q=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return V;if(Object(r.pb)(e))return U;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),G=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:O,useClass:P}]}),t})(),W=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new H(Object(r.Pb)(l),window,Object(r.Pb)(r.m))}),t})();class H{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=K(this.window.history)||K(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function K(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new B,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Q||(Q=document.querySelector("base"),Q)?Q.getAttribute("href"):null;return null==e?null:(n=e,z||(z=document.createElement("a")),z.setAttribute("href",n),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname);var n}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return A(document.cookie,t)}}let z,Q=null;const J=new r.q("TRANSITION_ID"),Y=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[J,l,r.r],multi:!0}];class ${static init(){Object(r.W)(new $)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new r.q("EventManagerPlugins");let Z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(X),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let et=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t extends et{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(l))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=/%COMP%/g;function ot(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(t,i,n):(i=i.replace(it,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let at=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ut(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ot(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Z),r.Pb(nt),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ut extends lt{constructor(t,e,n,r){super(t),this.component=n;const i=ot(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(it,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(it,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends lt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=ot(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ht=(()=>{class t extends tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(l))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const dt=["alt","control","meta","shift"],pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mt=(()=>{class t extends tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(dt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return pt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),dt.forEach(r=>{r!=n&&(0,gt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(l))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){B.makeCurrent(),$.init()},multi:!0},{provide:l,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],bt=Object(r.R)(r.V,"browser",yt),vt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:X,useClass:ht,multi:!0,deps:[l,r.z,r.B]},{provide:X,useClass:mt,multi:!0,deps:[l]},[],{provide:at,useClass:at,deps:[Z,nt,r.c]},{provide:r.E,useExisting:at},{provide:et,useExisting:nt},{provide:nt,useClass:nt,deps:[l]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Z,useClass:Z,deps:[X,r.z]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:J,useExisting:r.c},Y]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:vt,imports:[G,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("LRne"),Ct=n("HDdC"),St=n("5+tZ");function Tt(t,e){return Object(St.a)(t,e,1)}var Et=n("7o/Q");function kt(t,e){return function(n){return n.lift(new It(t,e))}}class It{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ot(t,this.predicate,this.thisArg))}}class Ot extends Et.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Pt=n("lJxs");class At{}class xt{}class Nt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Nt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Nt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Nt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Dt{encodeKey(t){return Lt(t)}encodeValue(t){return Lt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Lt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class jt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Dt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new jt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Rt(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Mt(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ft(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Vt{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Nt),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new jt,this.urlWithParams=e}serializeBody(){return null===this.body?null:Rt(this.body)||Mt(this.body)||Ft(this.body)||"string"==typeof this.body?this.body:this.body instanceof jt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ft(this.body)?null:Mt(this.body)?this.body.type||null:Rt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Vt(e,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Ut=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class qt{constructor(t,e=200,n="OK"){this.headers=t.headers||new Nt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Gt extends qt{constructor(t={}){super(t),this.type=Ut.ResponseHeader}clone(t={}){return new Gt({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wt extends qt{constructor(t={}){super(t),this.type=Ut.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wt({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ht extends qt{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Kt(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Bt=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Vt)r=t;else{let i=void 0;i=n.headers instanceof Nt?n.headers:new Nt(n.headers);let o=void 0;n.params&&(o=n.params instanceof jt?n.params:new jt({fromObject:n.params})),r=new Vt(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(_t.a)(r).pipe(Tt(t=>this.handler.handle(t)));if(t instanceof Vt||"events"===n.observe)return i;const o=i.pipe(kt(t=>t instanceof Wt));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Pt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Pt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Pt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Pt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new jt).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Kt(n,e))}post(t,e,n={}){return this.request("POST",t,Kt(n,e))}put(t,e,n={}){return this.request("PUT",t,Kt(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(At))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class zt{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Qt=new r.q("HTTP_INTERCEPTORS");let Jt=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Yt=/^\)\]\}',?\n/;class $t{}let Xt=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Zt=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ct.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Nt(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Gt({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Yt,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new Wt({body:l,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Ht({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Ht({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(o()),l=!0);let i={type:Ut.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:Ut.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:Ut.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($t))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const te=new r.q("XSRF_COOKIE_NAME"),ee=new r.q("XSRF_HEADER_NAME");class ne{}let re=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(l),r.Pb(r.B),r.Pb(te))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ie=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ne),r.Pb(ee))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),oe=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Qt,[]);this.chain=t.reduceRight((t,e)=>new zt(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(xt),r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),se=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ie,useClass:Jt}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:te,useValue:e.cookieName}:[],e.headerName?{provide:ee,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[ie,{provide:Qt,useExisting:ie,multi:!0},{provide:ne,useClass:re},{provide:te,useValue:"XSRF-TOKEN"},{provide:ee,useValue:"X-XSRF-TOKEN"}]}),t})(),ae=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Bt,{provide:At,useClass:oe},Zt,{provide:xt,useExisting:Zt},Xt,{provide:$t,useExisting:Xt}],imports:[[se.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var le=n("spgP"),ue=n("D0XW"),ce=n("Cfvw");function he(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new de(t,e,n))}}class de{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new pe(t,this.accumulator,this.seed,this.hasSeed))}}class pe extends Et.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var fe=n("pxpQ"),ge=n("os0x"),me=n("zIRd"),ye=n("q/0M"),be=n("qOnz"),ve=function(t,e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function we(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _e,Ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Se=Se||{},Te=Ce||self;function Ee(){}function ke(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ie(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Oe="closure_uid_"+(1e9*Math.random()>>>0),Pe=0;function Ae(t,e,n){return t.call.apply(t.bind,arguments)}function xe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ne(t,e,n){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ae:xe).apply(null,arguments)}function De(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Le(){return Date.now()}function je(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Re(){this.j=this.j,this.i=this.i}Re.prototype.j=!1,Re.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Oe)&&t[Oe]||(t[Oe]=++Pe)}(this)},Re.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Me=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fe=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ve(t){return Array.prototype.concat.apply([],arguments)}function Ue(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qe(t){return/^[\s\xa0]*$/.test(t)}var Ge,We=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function He(t,e){return-1!=t.indexOf(e)}function Ke(t,e){return t<e?-1:t>e?1:0}t:{var Be=Te.navigator;if(Be){var ze=Be.userAgent;if(ze){Ge=ze;break t}}Ge=""}function Qe(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Je(t){var e={};for(var n in t)e[n]=t[n];return e}var Ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ye.length;o++)n=Ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xe(t){return Xe[" "](t),t}Xe[" "]=Ee;var Ze,tn,en=He(Ge,"Opera"),nn=He(Ge,"Trident")||He(Ge,"MSIE"),rn=He(Ge,"Edge"),on=rn||nn,sn=He(Ge,"Gecko")&&!(He(Ge.toLowerCase(),"webkit")&&!He(Ge,"Edge"))&&!(He(Ge,"Trident")||He(Ge,"MSIE"))&&!He(Ge,"Edge"),an=He(Ge.toLowerCase(),"webkit")&&!He(Ge,"Edge");function ln(){var t=Te.document;return t?t.documentMode:void 0}t:{var un="",cn=(tn=Ge,sn?/rv:([^\);]+)(\)|;)/.exec(tn):rn?/Edge\/([\d\.]+)/.exec(tn):nn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tn):an?/WebKit\/(\S+)/.exec(tn):en?/(?:Version)[ \/]?(\S+)/.exec(tn):void 0);if(cn&&(un=cn?cn[1]:""),nn){var hn=ln();if(null!=hn&&hn>parseFloat(un)){Ze=String(hn);break t}}Ze=un}var dn={};function pn(t){return function(t,e){var n=dn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=We(String(Ze)).split("."),r=We(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Ke(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Ke(0==s[2].length,0==a[2].length)||Ke(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var fn=Te.document&&nn&&(ln()||parseInt(Ze,10))||void 0,gn=!nn||9<=Number(fn),mn=nn&&!pn("9"),yn=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Te.addEventListener("test",Ee,e),Te.removeEventListener("test",Ee,e)}catch(n){}return t}();function bn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function vn(t,e){if(bn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(sn){t:{try{Xe(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}bn.prototype.b=function(){this.defaultPrevented=!0},je(vn,bn);var wn={2:"touch",3:"pen",4:"mouse"};vn.prototype.b=function(){vn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,mn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var _n="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function Sn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Cn,this.Y=this.Z=!1}function Tn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function En(t){this.src=t,this.a={},this.b=0}function kn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Me(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function In(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}En.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=In(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Sn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var On="closure_lm_"+(1e6*Math.random()|0),Pn={};function An(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Fn(r),e&&e[_n]?e.wa(n,r,Ie(i)?!!i.capture:!!i,o):xn(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)An(t,e[o],n,r,i);return null}return n=Fn(n),t&&t[_n]?t.va(e,n,Ie(r)?!!r.capture:!!r,i):xn(t,e,n,!1,r,i)}function xn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ie(i)?!!i.capture:!!i;if(s&&!gn)return null;var a=Rn(t);if(a||(t[On]=a=new En(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=jn,e=gn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)yn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Nn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[_n])kn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rn(e))?(kn(n,t),0==n.b&&(n.src=null,e[On]=null)):Tn(t)}}}function Dn(t){return t in Pn?Pn[t]:Pn[t]="on"+t}function Ln(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Nn(t),n.call(r,e)}function jn(t,e){if(t.Y)return!0;if(!gn){if(!e)t:{e=["window","event"];for(var n=Te,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ln(t,e=new vn(e,this))}return Ln(t,new vn(e,this))}function Rn(t){return(t=t[On])instanceof En?t:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(t){return"function"==typeof t?t:(t[Mn]||(t[Mn]=function(e){return t.handleEvent(e)}),t[Mn])}function Vn(){Re.call(this),this.c=new En(this),this.J=this,this.C=null}function Un(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new bn(e,t);else if(e instanceof bn)e.target=e.target||t;else{var i=e;$e(e=new bn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=qn(s,r,!0,e)&&i}if(i=qn(s=e.a=t,r,!0,e)&&i,i=qn(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=qn(s=e.a=n[o],r,!1,e)&&i}function qn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,l=s.ca||s.src;s.Z&&kn(t.c,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}je(Vn,Re),Vn.prototype[_n]=!0,(_e=Vn.prototype).addEventListener=function(t,e,n,r){An(this,t,e,n,r)},_e.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Ie(i)?!!i.capture:!!i,r=Fn(r),e&&e[_n]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=In(s=e.a[n],r,i,o))&&(Tn(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Rn(e))&&(n=e.a[n.toString()],e=-1,n&&(e=In(n,r,i,o)),(r=-1<e?n[e]:null)&&Nn(r))}(this,t,e,n,r)},_e.G=function(){if(Vn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Tn(n[r]);delete e.a[t],e.b--}}this.C=null},_e.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_e.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gn=Te.JSON.stringify;function Wn(){this.b=this.a=null}var Hn,Kn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new zn}),(function(t){t.reset()}));function Bn(){var t=$n,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function zn(){this.next=this.b=this.a=null}function Qn(t){Te.setTimeout((function(){throw t}),0)}function Jn(t,e){Hn||function(){var t=Te.Promise.resolve(void 0);Hn=function(){t.then(Xn)}}(),Yn||(Hn(),Yn=!0),$n.add(t,e)}Wn.prototype.add=function(t,e){var n=Kn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},zn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},zn.prototype.reset=function(){this.next=this.b=this.a=null};var Yn=!1,$n=new Wn;function Xn(){for(var t;t=Bn();){try{t.a.call(t.b)}catch(n){Qn(n)}var e=Kn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Yn=!1}function Zn(t,e){Vn.call(this),this.b=t||1,this.a=e||Te,this.f=Ne(this.Za,this),this.g=Le()}function tr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function er(t,e,n){if("function"==typeof t)n&&(t=Ne(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ne(t.handleEvent,t)}return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function nr(t){t.a=er((function(){t.a=null,t.c&&(t.c=!1,nr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}je(Zn,Vn),(_e=Zn.prototype).aa=!1,_e.M=null,_e.Za=function(){if(this.aa){var t=Le()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Un(this,"tick"),this.aa&&(tr(this),this.start()))}},_e.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Le())},_e.G=function(){Zn.X.G.call(this),tr(this),delete this.a};var rr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:nr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Te.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Re);function ir(t){Re.call(this),this.b=t,this.a={}}je(ir,Re);var or=[];function sr(t,e,n,r){Array.isArray(n)||(n&&(or[0]=n.toString()),n=or);for(var i=0;i<n.length;i++){var o=An(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ar(t){Qe(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Nn(t)}),t),t.a={}}function lr(){this.a=!0}function ur(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Gn(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}ir.prototype.G=function(){ir.X.G.call(this),ar(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lr.prototype.info=function(){};var cr={},hr=null;function dr(){return hr=hr||new Vn}function pr(t){bn.call(this,cr.Fa,t)}function fr(t){var e=dr();Un(e,new pr(e,t))}function gr(t,e){bn.call(this,cr.STAT_EVENT,t),this.stat=e}function mr(t){var e=dr();Un(e,new gr(e,t))}function yr(t){bn.call(this,cr.Ga,t)}function br(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Te.setTimeout((function(){t()}),e)}cr.Fa="serverreachability",je(pr,bn),cr.STAT_EVENT="statevent",je(gr,bn),cr.Ga="timingevent",je(yr,bn);var vr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},wr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _r(){}function Cr(){}_r.prototype.a=null;var Sr,Tr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Er(){bn.call(this,"d")}function kr(){bn.call(this,"c")}function Ir(){}function Or(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ir(this),this.P=Pr,this.R=new Zn(t=on?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}je(Er,bn),je(kr,bn),je(Ir,_r),Sr=new Ir;var Pr=45e3,Ar={},xr={};function Nr(t,e,n){t.H=1,t.i=ti(Qr(e)),t.j=n,t.I=!0,Dr(t,null)}function Dr(t,e){t.u=Le(),Rr(t),t.l=Qr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),pi(n.b,"t",r),t.D=0,t.a=ao(t.g,t.g.C?e:null),0<t.O&&(t.F=new rr(Ne(t.Ca,t,t.a),t.O)),sr(t.J,t.a,"readystatechange",t.Xa),e=t.B?Je(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Lr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=jr(t,n);if(i==xr){4==e&&(t.h=4,mr(14),r=!1),ur(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ar){t.h=4,mr(15),ur(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ur(t.c,t.f,i,null),qr(t,i)}4==e&&0==n.length&&(t.h=1,mr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zi(e),e.F=!0,mr(11))):(ur(t.c,t.f,n,"[Invalid Chunked Response]"),Ur(t),Vr(t))}function jr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xr:(n=Number(e.substring(n,r)),isNaN(n)?Ar:(r+=1)+n>e.length?xr:(e=e.substr(r,n),t.D=r+n,e))}function Rr(t){t.T=Le()+t.P,Mr(t,t.P)}function Mr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=br(Ne(t.Va,t),e)}function Fr(t){t.o&&(Te.clearTimeout(t.o),t.o=null)}function Vr(t){0==t.g.v||t.A||no(t.g,t)}function Ur(t){Fr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,tr(t.R),ar(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function qr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||wi(n.b,t)))if(n.I=t.N,!t.C&&wi(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Qf){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;eo(n),Hi(n)}Xi(n),mr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=br(Ne(n.Sa,n),6e3));if(1>=vi(n.b)&&n.ea){try{n.ea()}catch(Qf){}n.ea=void 0}}else io(n,11)}else if((t.C||n.a==t)&&eo(n),!qe(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var l=1.5*a;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=l.b;!h.a&&(He(c,"spdy")||He(c,"quic")||He(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(_i(h,h.b),h.b=null))}if(l.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(l.na=d,Zr(l.B,l.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Le()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((l=n).la=so(l,l.C?l.ga:null,l.fa),p.C){Ci(l.b,p);var f=p,g=l.D;g&&f.setTimeout(g),f.o&&(Fr(f),Rr(f)),l.a=p}else $i(l);0<n.g.length&&zi(n)}else"stop"!=i[0]&&"close"!=i[0]||io(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?io(n,7):Wi(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);fr(4)}catch(Qf){}}function Gr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ke(t)||"string"==typeof t)Fe(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ke(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ke(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Wr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Wr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Hr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Kr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Kr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Kr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_e=Or.prototype).setTimeout=function(t){this.P=t},_e.Xa=function(t){t=t.target;var e=this.F;e&&3==Vi(t)?e.f():this.Ca(t)},_e.Ca=function(t){try{if(t==this.a)t:{var e=Vi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!on&&!this.a.$())){this.A||4!=e||7==n||fr(8==n||0>=r?3:2),Fr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qe(s)){var l=s;break e}}l=null}if(!l){this.b=!1,this.h=3,mr(12),Ur(this),Vr(this);break t}ur(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,qr(this,l)}this.I?(Lr(this,e,o),on&&this.b&&3==e&&(sr(this.J,this.R,"tick",this.Wa),this.R.start())):(ur(this.c,this.f,o,null),qr(this,o)),4==e&&Ur(this),this.b&&!this.A&&(4==e?no(this.g,this):(this.b=!1,Rr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,mr(12)):(this.h=0,mr(13)),Ur(this),Vr(this)}}}catch(u){}},_e.Wa=function(){if(this.a){var t=Vi(this.a),e=this.a.$();this.D<e.length&&(Fr(this),Lr(this,t,e),this.b&&4!=t&&Rr(this))}},_e.cancel=function(){this.A=!0,Ur(this)},_e.Va=function(){this.o=null;var t=Le();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(fr(3),mr(17)),Ur(this),this.h=2,Vr(this)):Mr(this,this.T-t)},(_e=Wr.prototype).K=function(){Hr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_e.L=function(){return Hr(this),this.a.concat()},_e.get=function(t,e){return Kr(this.b,t)?this.b[t]:e},_e.set=function(t,e){Kr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_e.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Br=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof zr){this.a=void 0!==e?e:t.a,Jr(this,t.f),this.j=t.j,Yr(this,t.c),$r(this,t.h),this.g=t.g,e=t.b;var n=new ui;n.c=e.c,e.a&&(n.a=new Wr(e.a),n.b=e.b),Xr(this,n),this.i=t.i}else t&&(n=String(t).match(Br))?(this.a=!!e,Jr(this,n[1]||"",!0),this.j=ei(n[2]||""),Yr(this,n[3]||"",!0),$r(this,n[4]),this.g=ei(n[5]||"",!0),Xr(this,n[6]||"",!0),this.i=ei(n[7]||"")):(this.a=!!e,this.b=new ui(null,this.a))}function Qr(t){return new zr(t)}function Jr(t,e,n){t.f=n?ei(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Yr(t,e,n){t.c=n?ei(e,!0):e}function $r(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xr(t,e,n){e instanceof ui?(t.b=e,function(t,e){e&&!t.f&&(ci(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(hi(this,e),pi(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ni(e,ai)),t.b=new ui(e,t.a))}function Zr(t,e,n){t.b.set(e,n)}function ti(t){return Zr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Le()).toString(36)),t}function ei(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ni(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ri),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ri(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}zr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ni(e,ii,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ni(e,ii,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ni(n,"/"==n.charAt(0)?si:oi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ni(n,li)),t.join("")};var ii=/[#\/\?@]/g,oi=/[#\?:]/g,si=/[#\?]/g,ai=/[#\?@]/g,li=/#/g;function ui(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ci(t){t.a||(t.a=new Wr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function hi(t,e){ci(t),e=fi(t,e),Kr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Kr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Hr(t)))}function di(t,e){return ci(t),e=fi(t,e),Kr(t.a.b,e)}function pi(t,e,n){hi(t,e),0<n.length&&(t.c=null,t.a.set(fi(t,e),Ue(n)),t.b+=n.length)}function fi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_e=ui.prototype).add=function(t,e){ci(this),this.c=null,t=fi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_e.forEach=function(t,e){ci(this),this.a.forEach((function(n,r){Fe(n,(function(n){t.call(e,n,r,this)}),this)}),this)},_e.L=function(){ci(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_e.K=function(t){ci(this);var e=[];if("string"==typeof t)di(this,t)&&(e=Ve(e,this.a.get(fi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ve(e,t[n])}return e},_e.set=function(t,e){return ci(this),this.c=null,di(this,t=fi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_e.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var gi=function(){return function(t,e){this.b=t,this.a=e}}();function mi(t){this.g=t||yi,t=Te.PerformanceNavigationTiming?0<(t=Te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Te.ia&&Te.ia.ya&&Te.ia.ya()&&Te.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var yi=10;function bi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function vi(t){return t.b?1:t.a?t.a.size:0}function wi(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _i(t,e){t.a?t.a.add(e):t.b=e}function Ci(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Si(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=we(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ue(t.c)}function Ti(){}function Ei(){this.a=new Ti}function ki(t,e,n){var r=n||"";try{Gr(t,(function(t,n){var i=t;Ie(t)&&(i=Gn(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ii(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}mi.prototype.cancel=function(){var t,e;if(this.c=Si(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=we(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ti.prototype.stringify=function(t){return Te.JSON.stringify(t,void 0)},Ti.prototype.parse=function(t){return Te.JSON.parse(t,void 0)};var Oi=Te.JSON.parse;function Pi(t){Vn.call(this),this.headers=new Wr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ai,this.D=this.F=!1}je(Pi,Vn);var Ai="",xi=/^https?$/i,Ni=["POST","PUT"];function Di(t){return"content-type"==t.toLowerCase()}function Li(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ji(t),Mi(t)}function ji(t){t.u||(t.u=!0,Un(t,"complete"),Un(t,"error"))}function Ri(t){if(t.b&&void 0!==Se&&(!t.s[1]||4!=Vi(t)||2!=t.W()))if(t.l&&4==Vi(t))er(t.za,0,t);else if(Un(t,"readystatechange"),4==Vi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Br)[1]||null;if(!o&&Te.self&&Te.self.location){var s=Te.self.location.protocol;o=s.substr(0,s.length-1)}i=!xi.test(o?o.toLowerCase():"")}e=i}if(e)Un(t,"complete"),Un(t,"success");else{t.h=6;try{var a=2<Vi(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ji(t)}}finally{Mi(t)}}}function Mi(t,e){if(t.a){Fi(t);var n=t.a,r=t.s[0]?Ee:null;t.a=null,t.s=null,e||Un(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Te.clearTimeout(t.m),t.m=null)}function Vi(t){return t.a?t.a.readyState:0}function Ui(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Qe(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zr(t,e,n))}function qi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Gi(t){this.pa=0,this.g=[],this.c=new lr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=qi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=qi("baseRetryDelayMs",5e3,t),this.Ra=qi("retryDelaySeedMs",1e4,t),this.Ma=qi("forwardChannelMaxRetries",2,t),this.ma=qi("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new mi(t&&t.concurrentRequestLimit),this.ka=new Ei,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Wi(t){if(Ki(t),3==t.v){var e=t.R++,n=Qr(t.B);Zr(n,"SID",t.J),Zr(n,"RID",e),Zr(n,"TYPE","terminate"),Ji(t,n),(e=new Or(t,t.c,e,void 0)).H=2,e.i=ti(Qr(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon&&(n=Te.navigator.sendBeacon(e.i.toString(),"")),!n&&Te.Image&&((new Image).src=e.i,n=!0),n||(e.a=ao(e.g,null),e.a.ba(e.i)),e.u=Le(),Rr(e)}oo(t)}function Hi(t){t.a&&(Zi(t),t.a.cancel(),t.a=null)}function Ki(t){Hi(t),t.j&&(Te.clearTimeout(t.j),t.j=null),eo(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Te.clearTimeout(t.h),t.h=null)}function Bi(t,e){t.g.push(new gi(t.Oa++,e)),3==t.v&&zi(t)}function zi(t){bi(t.b)||t.h||(t.h=!0,Jn(t.Ba,t),t.u=0)}function Qi(t,e){var n;n=e?e.f:t.R++;var r=Qr(t.B);Zr(r,"SID",t.J),Zr(r,"RID",n),Zr(r,"AID",t.P),Ji(t,r),t.i&&t.l&&Ui(r,t.i,t.l),n=new Or(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Yi(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_i(t.b,n),Nr(n,r,e)}function Ji(t,e){t.f&&Gr({},(function(t,n){Zr(e,n,t)}))}function Yi(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ne(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=o))o=Math.max(0,i[l].b-100),a=!1;else try{ki(c,s,"req"+u+"_")}catch(qo){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function $i(t){t.a||t.j||(t.T=1,Jn(t.Aa,t),t.o=0)}function Xi(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=br(Ne(t.Aa,t),ro(t,t.o)),t.o++,0))}function Zi(t){null!=t.s&&(Te.clearTimeout(t.s),t.s=null)}function to(t){t.a=new Or(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qr(t.la);Zr(e,"RID","rpc"),Zr(e,"SID",t.J),Zr(e,"CI",t.H?"0":"1"),Zr(e,"AID",t.P),Ji(t,e),Zr(e,"TYPE","xmlhttp"),t.i&&t.l&&Ui(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ti(Qr(e)),n.j=null,n.I=!0,Dr(n,t)}function eo(t){null!=t.m&&(Te.clearTimeout(t.m),t.m=null)}function no(t,e){var n=null;if(t.a==e){eo(t),Zi(t),t.a=null;var r=2}else{if(!wi(t.b,e))return;n=e.s,Ci(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Le()-e.u;var i=t.u;Un(r=dr(),new yr(r,n,e,i)),zi(t)}else $i(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(vi(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=br(Ne(t.Ba,t,e),ro(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xi(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:io(t,5);break;case 4:io(t,10);break;case 3:io(t,6);break;default:io(t,2)}}function ro(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function io(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ne(t.Ya,t);n||(n=new zr("//www.google.com/images/cleardot.gif"),Te.location&&"http"==Te.location.protocol||Jr(n,"https"),ti(n)),function(t,e){var n=new lr;if(Te.Image){var r=new Image;r.onload=De(Ii,n,r,"TestLoadImage: loaded",!0,e),r.onerror=De(Ii,n,r,"TestLoadImage: error",!1,e),r.onabort=De(Ii,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=De(Ii,n,r,"TestLoadImage: timeout",!1,e),Te.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else mr(2);t.v=0,t.f&&t.f.ra(e),oo(t),Ki(t)}function oo(t){t.v=0,t.I=-1,t.f&&(0==Si(t.b).length&&0==t.g.length||(t.b.c.length=0,Ue(t.g),t.g.length=0),t.f.qa())}function so(t,e,n){var r=function(t){return t instanceof zr?Qr(t):new zr(t,void 0)}(n);if(""!=r.c)e&&Yr(r,e+"."+r.c),$r(r,r.h);else{var i=Te.location;r=function(t,e,n,r){var i=new zr(null,void 0);return t&&Jr(i,t),e&&Yr(i,e),n&&$r(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Qe(t.V,(function(t,e){Zr(r,e,t)})),n=t.na,(e=t.A)&&n&&Zr(r,e,n),Zr(r,"VER",t.ha),Ji(t,r),r}function ao(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pi(t.Na)).F=t.C,e}function lo(){}function uo(){if(nn&&!(10<=Number(fn)))throw Error("Environmental error: no available transport.")}function co(t,e){Vn.call(this),this.a=new Gi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!qe(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qe(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new fo(this)}function ho(t){Er.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function po(){kr.call(this),this.status=1}function fo(t){this.a=t}(_e=Pi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Sr),this.a.onreadystatechange=Ne(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Li(this,o)}t=n||"";var i=new Wr(this.headers);r&&Gr(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Di,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Te.FormData&&t instanceof Te.FormData,!(0<=Me(Ni,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fi(this),0<this.o&&((this.D=function(t){return nn&&pn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ne(this.xa,this)):this.m=er(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Li(this,o)}},_e.xa=function(){void 0!==Se&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Un(this,"timeout"),this.abort(8))},_e.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Un(this,"complete"),Un(this,"abort"),Mi(this))},_e.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mi(this,!0)),Pi.X.G.call(this)},_e.za=function(){this.j||(this.A||this.l||this.g?Ri(this):this.Ua())},_e.Ua=function(){Ri(this)},_e.W=function(){try{return 2<Vi(this)?this.a.status:-1}catch(tn){return-1}},_e.$=function(){try{return this.a?this.a.responseText:""}catch(tn){return""}},_e.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Oi(e)}},_e.ua=function(){return this.h},_e.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(_e=Gi.prototype).ha=8,_e.v=1,_e.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Or(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$e(r=Je(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Yi(this,n,e),Zr(i=Qr(this.B),"RID",t),Zr(i,"CVER",22),this.A&&Zr(i,"X-HTTP-Session-Id",this.A),Ji(this,i),this.i&&r&&Ui(i,this.i,r),_i(this.b,n),this.Ia&&Zr(i,"TYPE","init"),this.da?(Zr(i,"$req",e),Zr(i,"SID","null"),n.U=!0,Nr(n,i,null)):Nr(n,i,e),this.v=2}}else 3==this.v&&(t?Qi(this,t):0==this.g.length||bi(this.b)||Qi(this))},_e.Aa=function(){if(this.j=null,to(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=br(Ne(this.Ta,this),t)}},_e.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,mr(10),Hi(this),to(this))},_e.Sa=function(){null!=this.m&&(this.m=null,Hi(this),Xi(this),mr(19))},_e.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),mr(2)):(this.c.info("Failed to ping google.com"),mr(1))},(_e=lo.prototype).ta=function(){},_e.sa=function(){},_e.ra=function(){},_e.qa=function(){},_e.Ja=function(){},uo.prototype.a=function(t,e){return new co(t,e)},je(co,Vn),co.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;mr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=so(t,null,t.fa),zi(t)},co.prototype.close=function(){Wi(this.a)},co.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Bi(this.a,e)}else this.l?((e={}).__data__=Gn(t),Bi(this.a,e)):Bi(this.a,t)},co.prototype.G=function(){this.a.f=null,delete this.f,Wi(this.a),delete this.a,co.X.G.call(this)},je(ho,Er),je(po,kr),je(fo,lo),fo.prototype.ta=function(){Un(this.a,"a")},fo.prototype.sa=function(t){Un(this.a,new ho(t))},fo.prototype.ra=function(t){Un(this.a,new po(t))},fo.prototype.qa=function(){Un(this.a,"b")},uo.prototype.createWebChannel=uo.prototype.a,co.prototype.send=co.prototype.h,co.prototype.open=co.prototype.g,co.prototype.close=co.prototype.close,vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,wr.COMPLETE="complete",Cr.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Vn.prototype.listen=Vn.prototype.va,Pi.prototype.listenOnce=Pi.prototype.wa,Pi.prototype.getLastError=Pi.prototype.Qa,Pi.prototype.getLastErrorCode=Pi.prototype.ua,Pi.prototype.getStatus=Pi.prototype.W,Pi.prototype.getResponseJson=Pi.prototype.Pa,Pi.prototype.getResponseText=Pi.prototype.$,Pi.prototype.send=Pi.prototype.ba;var go=vr,mo=wr,yo=cr,bo=Cr,vo=Pi,wo=n("/6Yf"),_o=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Co=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),So=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();So.UNAUTHENTICATED=new So(null),So.l=new So("google-credentials-uid"),So._=new So("first-party-uid");var To=new ye.b("@firebase/firestore");function Eo(){return To.logLevel}function ko(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(To.logLevel<=ye.a.DEBUG){var r=e.map(Po);To.debug.apply(To,Object(ge.g)(["Firestore (8.1.1): "+t],r))}}function Io(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(To.logLevel<=ye.a.ERROR){var r=e.map(Po);To.error.apply(To,Object(ge.g)(["Firestore (8.1.1): "+t],r))}}function Oo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(To.logLevel<=ye.a.WARN){var r=e.map(Po);To.warn.apply(To,Object(ge.g)(["Firestore (8.1.1): "+t],r))}}function Po(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Ao(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw Io(e),new Error(e)}function xo(t,e){t||Ao()}function No(t,e){return t}var Do={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ge.c)(e,t),e}(Error),jo=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Ro=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(So.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Mo=function(){function t(t){var e=this;this.P=null,this.currentUser=So.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(ko("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xo("string"==typeof n.accessToken),new jo(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return xo(null===t||"string"==typeof t),new So(t)},t}(),Fo=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=So._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Vo=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Fo(this.v,this.S))},t.prototype.A=function(t){t(So._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Uo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var qo=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Uo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Go(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ho(t){return t+"\0"}var Ko=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lo(Do.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lo(Do.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Lo(Do.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lo(Do.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Go(this.nanoseconds,t.nanoseconds):Go(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Bo=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Ko(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),zo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ao(),void 0===n?n=t.length-e:n>t.length-e&&Ao(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Lo(Do.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(zo),Jo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Jo.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Lo(Do.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Lo(Do.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Lo(Do.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Lo(Do.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(zo),$o=function(){function t(t){this.path=t}return t.st=function(e){return new t(Qo.Y(e))},t.it=function(e){return new t(Qo.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Qo.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Qo.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Qo(e.slice()))},t}();function Xo(t){return null==t}function Zo(t){return 0===t&&1/t==-1/0}function ts(t){return"number"==typeof t&&Number.isInteger(t)&&!Zo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var es=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function ns(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new es(t,e,n,r,i,o,s)}function rs(t){var e=No(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+$s(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Xo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=$l(e.startAt)),e.endAt&&(n+="|ub:",n+=$l(e.endAt)),e.ut=n}return e.ut}function is(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!nu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!zs(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zl(t.startAt,e.startAt)&&Zl(t.endAt,e.endAt)}function os(t){return $o.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ss=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Go(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();ss.lt=new ss("");var as,ls,us=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Bo.min()),void 0===o&&(o=Bo.min()),void 0===s&&(s=ss.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),cs=function(t){this.count=t};function hs(t){switch(t){case Do.OK:return Ao();case Do.CANCELLED:case Do.UNKNOWN:case Do.DEADLINE_EXCEEDED:case Do.RESOURCE_EXHAUSTED:case Do.INTERNAL:case Do.UNAVAILABLE:case Do.UNAUTHENTICATED:return!1;case Do.INVALID_ARGUMENT:case Do.NOT_FOUND:case Do.ALREADY_EXISTS:case Do.PERMISSION_DENIED:case Do.FAILED_PRECONDITION:case Do.ABORTED:case Do.OUT_OF_RANGE:case Do.UNIMPLEMENTED:case Do.DATA_LOSS:return!0;default:return Ao()}}function ds(t){if(void 0===t)return Io("GRPC error has no .code"),Do.UNKNOWN;switch(t){case as.OK:return Do.OK;case as.CANCELLED:return Do.CANCELLED;case as.UNKNOWN:return Do.UNKNOWN;case as.DEADLINE_EXCEEDED:return Do.DEADLINE_EXCEEDED;case as.RESOURCE_EXHAUSTED:return Do.RESOURCE_EXHAUSTED;case as.INTERNAL:return Do.INTERNAL;case as.UNAVAILABLE:return Do.UNAVAILABLE;case as.UNAUTHENTICATED:return Do.UNAUTHENTICATED;case as.INVALID_ARGUMENT:return Do.INVALID_ARGUMENT;case as.NOT_FOUND:return Do.NOT_FOUND;case as.ALREADY_EXISTS:return Do.ALREADY_EXISTS;case as.PERMISSION_DENIED:return Do.PERMISSION_DENIED;case as.FAILED_PRECONDITION:return Do.FAILED_PRECONDITION;case as.ABORTED:return Do.ABORTED;case as.OUT_OF_RANGE:return Do.OUT_OF_RANGE;case as.UNIMPLEMENTED:return Do.UNIMPLEMENTED;case as.DATA_LOSS:return Do.DATA_LOSS;default:return Ao()}}(ls=as||(as={}))[ls.OK=0]="OK",ls[ls.CANCELLED=1]="CANCELLED",ls[ls.UNKNOWN=2]="UNKNOWN",ls[ls.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ls[ls.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ls[ls.NOT_FOUND=5]="NOT_FOUND",ls[ls.ALREADY_EXISTS=6]="ALREADY_EXISTS",ls[ls.PERMISSION_DENIED=7]="PERMISSION_DENIED",ls[ls.UNAUTHENTICATED=16]="UNAUTHENTICATED",ls[ls.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ls[ls.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ls[ls.ABORTED=10]="ABORTED",ls[ls.OUT_OF_RANGE=11]="OUT_OF_RANGE",ls[ls.UNIMPLEMENTED=12]="UNIMPLEMENTED",ls[ls.INTERNAL=13]="INTERNAL",ls[ls.UNAVAILABLE=14]="UNAVAILABLE",ls[ls.DATA_LOSS=15]="DATA_LOSS";var ps=function(){function t(t,e){this.$=t,this.root=e||gs.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,gs.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,gs.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new fs(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new fs(this.root,t,this.$,!1)},t.prototype.vt=function(){return new fs(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new fs(this.root,t,this.$,!0)},t}(),fs=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),gs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Ao();if(this.right.Mt())throw Ao();var t=this.left.Qt();if(t!==this.right.Qt())throw Ao();return t+(this.Mt()?0:1)},t}();gs.EMPTY=null,gs.RED=!0,gs.It=!1,gs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ao()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new gs(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var ms=function(){function t(t){this.$=t,this.data=new ps(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new ys(this.data.yt())},t.prototype.Vt=function(t){return new ys(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),ys=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),bs=new ps($o.$);function vs(){return bs}function ws(){return vs()}var _s=new ps($o.$);function Cs(){return _s}var Ss=new ps($o.$),Ts=new ms($o.$);function Es(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ts,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ks=new ms(Go);function Is(){return ks}var Os=function(){function t(t){this.$=t?function(e,n){return t(e,n)||$o.$(e.key,n.key)}:function(t,e){return $o.$(t.key,e.key)},this.Ht=Cs(),this.Jt=new ps(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Ps=function(){function t(){this.Xt=new ps($o.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Ao():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),As=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=a}return t.ie=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Os.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Rl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xs=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Ns.he(e,n)),new t(Bo.min(),r,Is(),vs(),Es())},t}(),Ns=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(ss.lt,n,Es(),Es(),Es())},t}(),Ds=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Ls=function(t,e){this.targetId=t,this.Te=e},js=function(t,e,n,r){void 0===n&&(n=ss.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Rs=function(){function t(){this.Ie=0,this.me=Vs(),this.Ae=ss.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Es(),e=Es(),n=Es();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ao()}})),new Ns(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Vs()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Ms=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=vs(),this.Me=Fs(),this.ke=new ms(Go)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Cl?this.Le(r,t.Ee):t.Ee instanceof Sl&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Ao()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(os(i))if(0===n){var o=new $o(i.path);this.Be(e,o,new Sl(o,Bo.min()))}else xo(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var o=e.Ge(i);if(o){if(r.le&&os(o.target)){var s=new $o(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new Sl(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=Es();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new xs(t,n,this.ke,this.Oe,r);return this.Oe=vs(),this.Me=Fs(),this.ke=new ms(Go),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Rs,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new ms(Go),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||ko("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Rs),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Fs(){return new ps($o.$)}function Vs(){return new ps($o.$)}function Us(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ws(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hs(t){var e=Xs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ko(e.seconds,e.nanos)}var Ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ws(t)?4:10:Ao()}function zs(t,e){var n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hs(t).isEqual(Hs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xs(t.timestampValue),r=Xs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ta(t.bytesValue).isEqual(ta(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zs(t.geoPointValue.latitude)===Zs(e.geoPointValue.latitude)&&Zs(t.geoPointValue.longitude)===Zs(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zs(t.integerValue)===Zs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Zs(t.doubleValue),r=Zs(e.doubleValue);return n===r?Zo(n)===Zo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Us(n)!==Us(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zs(n[i],r[i])))return!1;return!0}(t,e);default:return Ao()}}function Qs(t,e){return void 0!==(t.values||[]).find((function(t){return zs(t,e)}))}function Js(t,e){var n=Bs(t),r=Bs(e);if(n!==r)return Go(n,r);switch(n){case 0:return 0;case 1:return Go(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Zs(t.integerValue||t.doubleValue),r=Zs(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ys(t.timestampValue,e.timestampValue);case 4:return Ys(Hs(t),Hs(e));case 5:return Go(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ta(t),r=ta(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Go(n[i],r[i]);if(0!==o)return o}return Go(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Go(Zs(t.latitude),Zs(e.latitude));return 0!==n?n:Go(Zs(t.longitude),Zs(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Js(n[i],r[i]);if(o)return o}return Go(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Go(r[s],o[s]);if(0!==a)return a;var l=Js(n[r[s]],i[o[s]]);if(0!==l)return l}return Go(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ao()}}function Ys(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Go(t,e);var n=Xs(t),r=Xs(e),i=Go(n.seconds,r.seconds);return 0!==i?i:Go(n.nanos,r.nanos)}function $s(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Xs(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ta(e.bytesValue).toBase64():"referenceValue"in e?$o.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Ao();var n}(t)}function Xs(t){if(xo(!!t),"string"==typeof t){var e=0,n=Ks.exec(t);if(xo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zs(t.seconds),nanos:Zs(t.nanos)}}function Zs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ta(t){return"string"==typeof t?ss.fromBase64String(t):ss.fromUint8Array(t)}function ea(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function na(t){return!!t&&"integerValue"in t}function ra(t){return!!t&&"arrayValue"in t}function ia(t){return!!t&&"nullValue"in t}function oa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sa(t){return!!t&&"mapValue"in t}var aa={asc:"ASCENDING",desc:"DESCENDING"},la={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ua=function(t,e){this.t=t,this.tn=e};function ca(t){return{integerValue:""+t}}function ha(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zo(e)?"-0":e}}function da(t,e){return ts(e)?ca(e):ha(t,e)}function pa(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fa(t,e){return t.tn?e.toBase64():e.toUint8Array()}function ga(t,e){return pa(t,e.M())}function ma(t){return xo(!!t),Bo.N(function(t){var e=Xs(t);return new Ko(e.seconds,e.nanos)}(t))}function ya(t,e){return function(t){return new Qo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function ba(t){var e=Qo.Y(t);return xo(Ua(e)),e}function va(t,e){return ya(t.t,e.path)}function wa(t,e){var n=ba(e);if(n.get(1)!==t.t.projectId)throw new Lo(Do.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Lo(Do.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new $o(Ta(n))}function _a(t,e){return ya(t.t,e)}function Ca(t){var e=ba(t);return 4===e.length?Qo.X():Ta(e)}function Sa(t){return new Qo(["projects",t.t.projectId,"databases",t.t.database]).J()}function Ta(t){return xo(t.length>4&&"documents"===t.get(4)),t.B(5)}function Ea(t,e,n){return{name:va(t,e),fields:n.proto.mapValue.fields}}function ka(t,e){var n;if(e instanceof cl)n={update:Ea(t,e.key,e.value)};else if(e instanceof ml)n={delete:va(t,e.key)};else if(e instanceof hl)n={update:Ea(t,e.key,e.data),updateMask:Va(e.en)};else if(e instanceof pl)n={transform:{document:va(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ka)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ba)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Qa)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Ya)return{fieldPath:e.field.J(),increment:n.nn};throw Ao()}(0,t)}))}};else{if(!(e instanceof yl))return Ao();n={verify:va(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ga(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ao()}(t,e.rn)),n}function Ia(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?nl.updateTime(ma(t.updateTime)):void 0!==t.exists?nl.exists(t.exists):nl.on()}(e.currentDocument):nl.on();if(e.update){var r=wa(t,e.update.name),i=new bl({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Za((t.fieldPaths||[]).map((function(t){return Yo.nt(t)})))}(e.updateMask);return new hl(r,i,o,n)}return new cl(r,i,n)}if(e.delete){var s=wa(t,e.delete);return new ml(s,n)}if(e.transform){var a=wa(t,e.transform.document),l=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(xo("REQUEST_TIME"===e.setToServerValue),n=new Ka):"appendMissingElements"in e?n=new Ba(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Qa(e.removeAllFromArray.values||[]):"increment"in e?n=new Ya(t,e.increment):Ao();var r=Yo.nt(e.fieldPath);return new tl(r,n)}(t,e)}));return xo(!0===n.exists),new pl(a,l)}if(e.verify){var u=wa(t,e.verify);return new yl(u,n)}return Ao()}function Oa(t,e){return{documents:[_a(t,e.path)]}}function Pa(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_a(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_a(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(oa(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NAN"}};if(ia(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(oa(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NOT_NAN"}};if(ia(t.value))return{unaryFilter:{field:ja(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(t.field),op:La(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ja(t.field),direction:Da(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||Xo(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=xa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=xa(e.endAt)),n}function Aa(t){var e=Ca(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Fa(e)]:void 0!==e.fieldFilter?[Ma(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ao():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new tu(Ra(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var l=null;n.limit&&(l=function(t){var e;return Xo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Na(n.startAt));var c=null;return n.endAt&&(c=Na(n.endAt)),kl(e,i,a,s,l,"F",u,c)}function xa(t){return{before:t.before,values:t.position}}function Na(t){return new Yl(t.values||[],!!t.before)}function Da(t){return aa[t]}function La(t){return la[t]}function ja(t){return{fieldPath:t.J()}}function Ra(t){return Yo.nt(t.fieldPath)}function Ma(t){return ql.create(Ra(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ao()}}(t.fieldFilter.op),t.fieldFilter.value)}function Fa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ra(t.unaryFilter.field);return ql.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ra(t.unaryFilter.field);return ql.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ra(t.unaryFilter.field);return ql.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ra(t.unaryFilter.field);return ql.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ao()}}function Va(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Ua(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var qa=function(){this.cn=void 0};function Ga(t,e,n){return t instanceof Ka?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ba?za(t,e):t instanceof Qa?Ja(t,e):function(t,e){var n=Ha(t,e),r=$a(n)+$a(t.nn);return na(n)&&na(t.nn)?ca(r):ha(t.serializer,r)}(t,e)}function Wa(t,e,n){return t instanceof Ba?za(t,e):t instanceof Qa?Ja(t,e):n}function Ha(t,e){return t instanceof Ya?na(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e}(qa),Ba=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ge.c)(e,t),e}(qa);function za(t,e){for(var n=Xa(e),r=function(t){n.some((function(e){return zs(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ge.c)(e,t),e}(qa);function Ja(t,e){for(var n=Xa(e),r=function(t){n=n.filter((function(e){return!zs(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ya=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(ge.c)(e,t),e}(qa);function $a(t){return Zs(t.integerValue||t.doubleValue)}function Xa(t){return ra(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Za=function(){function t(t){this.fields=t,t.sort(Yo.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Wo(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),tl=function(t,e){this.field=t,this.transform=e},el=function(t,e){this.version=t,this.transformResults=e},nl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function rl(t,e){return void 0!==t.updateTime?e instanceof Cl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Cl}var il=function(){};function ol(t,e,n){return t instanceof cl?function(t,e,n){return new Cl(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof hl?function(t,e,n){if(!rl(t.rn,e))return new Tl(t.key,n.version);var r=dl(t,e);return new Cl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof pl?function(t,e,n){if(xo(null!=n.transformResults),!rl(t.rn,e))return new Tl(t.key,n.version);var r=fl(0,e),i=function(t,e,n){var r=[];xo(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Cl&&(a=e.field(o.field)),r.push(Wa(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=gl(t,r.data(),i);return new Cl(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Sl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function sl(t,e,n,r){return t instanceof cl?function(t,e){if(!rl(t.rn,e))return e;var n=ul(e);return new Cl(t.key,n,t.value,{an:!0})}(t,e):t instanceof hl?function(t,e){if(!rl(t.rn,e))return e;var n=ul(e),r=dl(t,e);return new Cl(t.key,n,r,{an:!0})}(t,e):t instanceof pl?function(t,e,n,r){if(!rl(t.rn,e))return e;var i=fl(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],l=a.transform,u=null;n instanceof Cl&&(u=n.field(a.field)),null===u&&r instanceof Cl&&(u=r.field(a.field)),i.push(Ga(l,u,e))}return i}(t.fieldTransforms,n,e,r),s=gl(t,i.data(),o);return new Cl(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return rl(t.rn,e)?new Sl(t.key,Bo.min()):e}(t,e)}function al(t,e){return t instanceof pl?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Cl?e.field(o.field):void 0,a=Ha(o.transform,s||null);null!=a&&(n=null==n?(new vl).set(o.field,a):n.set(o.field,a))}return n?n.hn():null}(t,e):null}function ll(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Wo(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ba&&e instanceof Ba||t instanceof Qa&&e instanceof Qa?Wo(t.elements,e.elements,zs):t instanceof Ya&&e instanceof Ya?zs(t.nn,e.nn):t instanceof Ka&&e instanceof Ka}(t.transform,e.transform)}(t,e)})))}function ul(t){return t instanceof Cl?t.version:Bo.min()}var cl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(ge.c)(e,t),e}(il),hl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(ge.c)(e,t),e}(il);function dl(t,e){return function(t,e){var n=new vl(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof Cl?e.data():bl.empty())}var pl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=nl.exists(!0),r}return Object(ge.c)(e,t),e}(il);function fl(t,e){return e}function gl(t,e,n){for(var r=new vl(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var ml=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(ge.c)(e,t),e}(il),yl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(ge.c)(e,t),e}(il),bl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!sa(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return zs(this.proto,t.proto)},t}(),vl=function(){function t(t){void 0===t&&(t=bl.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Bs(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Yo.X(),this._n);return null!=t?new bl(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=sa(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function wl(t){var e=[];return qs(t.fields||{},(function(t,n){var r=new Yo([t]);if(sa(n)){var i=wl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Za(e)}var _l=function(t,e){this.key=t,this.version=e},Cl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(ge.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(_l),Sl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ge.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_l),Tl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_l),El=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.In=null,this.mn=null};function kl(t,e,n,r,i,o,s,a){return new El(t,e,n,r,i,o,s,a)}function Il(t){return new El(t)}function Ol(t){return!Xo(t.limit)&&"F"===t.limitType}function Pl(t){return!Xo(t.limit)&&"L"===t.limitType}function Al(t){return t.Tn.length>0?t.Tn[0].field:null}function xl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Nl(t){return null!==t.collectionGroup}function Dl(t){var e=No(t);if(null===e.In){e.In=[];var n=xl(e),r=Al(e);if(null!==n&&null===r)n.tt()||e.In.push(new tu(n)),e.In.push(new tu(Yo.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var a=s[o];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var l=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new tu(Yo.et(),l))}}}return e.In}function Ll(t){var e=No(t);if(!e.mn)if("F"===e.limitType)e.mn=ns(e.path,e.collectionGroup,Dl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Dl(e);r<i.length;r++){var o=i[r];n.push(new tu(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Yl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Yl(e.startAt.position,!e.startAt.before):null;e.mn=ns(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.mn}function jl(t,e,n){return new El(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rl(t,e){return is(Ll(t),Ll(e))&&t.limitType===e.limitType}function Ml(t){return rs(Ll(t))+"|lt:"+t.limitType}function Fl(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+$s(e.value);var e})).join(", ")+"]"),Xo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+$l(t.startAt)),t.endAt&&(e+=", endAt: "+$l(t.endAt)),"Target("+e+")"}(Ll(t))+"; limitType="+t.limitType+")"}function Vl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):$o.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Xl(t.startAt,Dl(t),e)||t.endAt&&Xl(t.endAt,Dl(t),e))}(t,e)}function Ul(t){return function(e,n){for(var r=!1,i=0,o=Dl(t);i<o.length;i++){var s=o[i],a=eu(s,e,n);if(0!==a)return a;r=r||s.field.tt()}return 0}}var ql=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ge.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Gl(t,n,r):"array-contains"===n?new Bl(t,r):"in"===n?new zl(t,r):"not-in"===n?new Ql(t,r):"array-contains-any"===n?new Jl(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Wl(t,n):new Hl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Js(e,this.value)):null!==e&&Bs(this.value)===Bs(e)&&this.Pn(Js(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ao()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Gl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=$o.it(r.referenceValue),i}return Object(ge.c)(e,t),e.prototype.matches=function(t){var e=$o.$(t.key,this.key);return this.Pn(e)},e}(ql),Wl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Kl(0,n),r}return Object(ge.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ql),Hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Kl(0,n),r}return Object(ge.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ql);function Kl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return $o.it(t.referenceValue)}))}var Bl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ge.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ra(e)&&Qs(e.arrayValue,this.value)},e}(ql),zl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ge.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Qs(this.value.arrayValue,e)},e}(ql),Ql=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ge.c)(e,t),e.prototype.matches=function(t){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Qs(this.value.arrayValue,e)},e}(ql),Jl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ge.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ra(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Qs(e.value.arrayValue,t)}))},e}(ql),Yl=function(t,e){this.position=t,this.before=e};function $l(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return $s(t)})).join(",")}function Xl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?$o.$($o.it(s.referenceValue),n.key):Js(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Zl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}var tu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function eu(t,e,n){var r=t.field.tt()?$o.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Js(r,i):Ao()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ao()}}function nu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ru=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ol(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=sl(i,e,e,this.gn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var l=a[s];l.key.isEqual(t)&&(e=sl(l,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Es())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,(function(t,e){return ll(t,e)}))&&Wo(this.baseMutations,t.baseMutations,(function(t,e){return ll(t,e)}))},t}(),iu=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){xo(e.mutations.length===r.length);for(var i=Ss,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ou=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.Cn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){qs(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.W=function(){return Gs(this.Nn)},t}(),su=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Ao(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),au=function(){function t(){this.Qn=new ou((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Bo.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?su.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),lu=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function uu(t){return new ua(t,!0)}function cu(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var hu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",du=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),pu=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=ws();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),o=vs();return i.forEach((function(t,e){e||(e=new Sl(t,Bo.min())),o=o.Tt(t,e)})),o}))},t.prototype.ws=function(t,e,n){return function(t){return $o.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Nl(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new $o(e)).next((function(t){var e=Cs();return t instanceof Cl&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=Cs();return this.os.As(t,i).next((function(s){return su.forEach(s,(function(s){var a=function(t,e){return new El(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Tt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next((function(n){return r=n,o.rs.Rs(t,e)})).next((function(e){return o.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var l=a[s],u=l.key,c=r.get(u),h=sl(l,c,c,o.gn);r=h instanceof Cl?r.Tt(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){Vl(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=Es(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var l=a[s];l instanceof hl&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Cl&&(u=u.Tt(t,e))})),u}))},t}(),fu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Es(),i=Es(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),gu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();gu.Ds=-1;var mu=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&ko("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),yu=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(be.m)())&&Io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ko("SimpleDb","Removing database:",t),Su(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(be.m)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(ge.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ko("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new vu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Lo(Do.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vu(t,n))},i.onupgradeneeded=function(t){ko("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){ko("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ge.b)(this,void 0,void 0,(function(){var i,o,s,a,l;return Object(ge.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,l,u,c;return Object(ge.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=_u.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),su.reject(t)})).Ln(),l={},s.catch((function(){})),[4,e.ei];case 3:return[2,(l.value=(h.sent(),s),l)];case 4:return ko("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",c="FirebaseError"!==u.name&&o<3),a.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bu=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Su(this.ni.delete())},t}(),vu=function(t){function e(e,n){var r=this;return(r=t.call(this,Do.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ge.c)(e,t),e}(Lo);function wu(t){return"IndexedDbTransactionError"===t.name}var _u=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new lu,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new vu(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Eu(e.target.error);n.ci.reject(new vu(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vu(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(ko("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Cu(e)},t}(),Cu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ko("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ko("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Su(n)},t.prototype.add=function(t){return ko("SimpleDb","ADD",this.store.name,t,t),Su(this.store.add(t))},t.prototype.get=function(t){var e=this;return Su(this.store.get(t)).next((function(n){return void 0===n&&(n=null),ko("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return ko("SimpleDb","DELETE",this.store.name,t),Su(this.store.delete(t))},t.prototype.count=function(){return ko("SimpleDb","COUNT",this.store.name),Su(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){ko("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new su((function(n,r){e.onerror=function(t){var e=Eu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new su((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new bu(i),s=e(i.primaryKey,i.value,o);if(s instanceof su){var a=s.catch((function(t){return o.done(),su.reject(t)}));n.push(a)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return su.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Su(t){return new su((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Eu(t.target.error);n(e)}}))}var Tu=!1;function Eu(t){var e=yu.js(Object(be.m)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Lo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tu||(Tu=!0,setTimeout((function(){throw r}),0)),r}}return t}function ku(){return"undefined"!=typeof window?window:null}function Iu(){return"undefined"!=typeof document?document:null}var Ou=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new lu,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Lo(Do.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Pu=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new mu(this,"async_queue_retry"),this.Di=function(){var e=Iu();e&&ko("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Iu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Iu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(ge.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ge.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!wu(t=n.sent()))throw t;return ko("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,Io("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Ou.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Ao()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(ge.b)(this,void 0,void 0,(function(){var t;return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Au(t,e){if(Io("AsyncQueue",e+": "+t),wu(t))return new Lo(Do.UNAVAILABLE,e+": "+t);throw t}function xu(t,e){var n=t[1],r=e[1],i=Go(t[0],e[0]);return 0===i?Go(n,r):i}var Nu=function(){function t(t){this.Ki=t,this.buffer=new ms(xu),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Du={zi:!1,Hi:0,Ji:0,Yi:0},Lu=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Lu.nr=10,Lu.sr=1e3,Lu.ir=new Lu(41943040,Lu.nr,Lu.sr),Lu.rr=new Lu(-1,0,0);var ju=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;ko("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(ge.b)(e,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return wu(e=n.sent())?(ko("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,lh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ru=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return su.resolve(gu.Ds);var r=new Nu(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(ko("LruGarbageCollector","Garbage collection skipped; disabled"),su.resolve(Du)):this.Pr(t).next((function(r){return r<n.params.Xi?(ko("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Du):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,a,l,u=this,c=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>u.params.tr?(ko("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.tr+" from "+e),r=u.params.tr):r=e,o=Date.now(),u.Tr(t,r)})).next((function(r){return n=r,s=Date.now(),u.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.Ar(t,n)})).next((function(t){return l=Date.now(),Eo()<=ye.a.DEBUG&&ko("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),su.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}();function Mu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vu(e)),e=Fu(t.get(n),e);return Vu(e)}function Fu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Vu(t){return t+"\x01\x01"}function Uu(t){var e=t.length;if(xo(e>=2),2===e)return xo("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Qo.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ao(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ao()}o=s+2}return new Qo(r)}var qu=function(t){this.yr=t};function Gu(t,e){if(e.document)return function(t,e,n){var r=wa(t,e.name),i=ma(e.updateTime),o=new bl({mapValue:{fields:e.fields}});return new Cl(r,i,o,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=$o.ct(e.noDocument.path),r=zu(e.noDocument.readTime);return new Sl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=$o.ct(e.unknownDocument.path),o=zu(e.unknownDocument.version);return new Tl(i,o)}return Ao()}function Wu(t,e,n){var r=Hu(n),i=e.key.path.q().H();if(e instanceof Cl){var o=function(t,e){return{name:va(t,e.key),fields:e.En().mapValue.fields,updateTime:pa(t,e.version.M())}}(t.yr,e);return new wc(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof Sl){var s=e.key.path.H(),a=Bu(e.version),l=e.hasCommittedMutations;return new wc(null,new bc(s,a),null,l,r,i)}if(e instanceof Tl){var u=e.key.path.H(),c=Bu(e.version);return new wc(new vc(u,c),null,null,!0,r,i)}return Ao()}function Hu(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Ku(t){var e=new Ko(t[0],t[1]);return Bo.N(e)}function Bu(t){var e=t.M();return new pc(e.seconds,e.nanoseconds)}function zu(t){var e=new Ko(t.seconds,t.nanoseconds);return Bo.N(e)}function Qu(t,e){var n=(e.baseMutations||[]).map((function(e){return Ia(t.yr,e)})),r=e.mutations.map((function(e){return Ia(t.yr,e)})),i=Ko.fromMillis(e.localWriteTimeMs);return new ru(e.batchId,i,n,r)}function Ju(t){var e,n,r=zu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?zu(t.lastLimboFreeSnapshotVersion):Bo.min();return void 0!==t.query.documents?(xo(1===(n=t.query).documents.length),e=Ll(Il(Ca(n.documents[0])))):e=function(t){return Ll(Aa(t))}(t.query),new us(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ss.fromBase64String(t.resumeToken))}function Yu(t,e){var n,r=Bu(e.ft),i=Bu(e.lastLimboFreeSnapshotVersion);n=os(e.target)?Oa(t.yr,e.target):Pa(t.yr,e.target);var o=e.resumeToken.toBase64();return new Cc(e.targetId,rs(e.target),r,o,e.sequenceNumber,i,n)}function $u(t){var e=Aa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jl(e,e.limit,"L"):e}var Xu=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return xo(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ec(t)._i({index:mc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Sr=function(t,e,n,r){var i=this,o=nc(t),s=ec(t);return s.add({}).next((function(a){xo("number"==typeof a);for(var l=new ru(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return ka(t.yr,e)})),i=n.mutations.map((function(e){return ka(t.yr,e)}));return new mc(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,l),c=[],h=new ms((function(t,e){return Go(t.J(),e.J())})),d=0,p=r;d<p.length;d++){var f=p[d],g=yc.key(i.userId,f.key.path,a);h=h.add(f.key.path.q()),c.push(s.put(u)),c.push(o.put(g,yc.PLACEHOLDER))}return h.forEach((function(e){c.push(i.os.Dr(t,e))})),t.es((function(){i.pr[a]=l.keys()})),su.qn(c).next((function(){return l}))}))},t.prototype.Cr=function(t,e){var n=this;return ec(t).get(e).next((function(t){return t?(xo(t.userId===n.userId),Qu(n.serializer,t)):null}))},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?su.resolve(this.pr[e]):this.Cr(t,e).next((function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null}))},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ec(t)._i({index:mc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xo(e.batchId>=r),o=Qu(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ec(t)._i({index:mc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ec(t).ui(mc.userMutationsIndex,n).next((function(t){return t.map((function(t){return Qu(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=yc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return nc(t)._i({range:i},(function(r,i,s){var a=r[0],l=r[2],u=Uu(r[1]);if(a===n.userId&&e.path.isEqual(u))return ec(t).get(l).next((function(t){if(!t)throw Ao();xo(t.userId===n.userId),o.push(Qu(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ds=function(t,e){var n=this,r=new ms(Go),i=[];return e.forEach((function(e){var o=yc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=nc(t)._i({range:s},(function(t,i,o){var s=t[0],a=t[2],l=Uu(t[1]);s===n.userId&&e.path.isEqual(l)?r=r.add(a):o.done()}));i.push(a)})),su.qn(i).next((function(){return n.kr(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=yc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ms(Go);return nc(t)._i({range:s},(function(t,e,o){var s=t[0],l=t[2],u=Uu(t[1]);s===n.userId&&r.j(u)?u.length===i&&(a=a.add(l)):o.done()})).next((function(){return n.kr(t,a)}))},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ec(t).get(e).next((function(t){if(null===t)throw Ao();xo(t.userId===n.userId),r.push(Qu(n.serializer,t))})))})),su.qn(i).next((function(){return r}))},t.prototype.$r=function(t,e){var n=this;return tc(t.Lr,this.userId,e).next((function(r){return t.es((function(){n.Br(e.batchId)})),su.forEach(r,(function(e){return n.Vr.qr(t,e)}))}))},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next((function(n){if(!n)return su.resolve();var r=IDBKeyRange.lowerBound(yc.prefixForUser(e.userId)),i=[];return nc(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Uu(t[1]);i.push(o)}else r.done()})).next((function(){xo(0===i.length)}))}))},t.prototype.Qr=function(t,e){return Zu(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return rc(t).get(this.userId).next((function(t){return t||new gc(e.userId,-1,"")}))},t}();function Zu(t,e,n){var r=yc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return nc(t)._i({range:o,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function tc(t,e,n){var r=t.store(mc.store),i=t.store(yc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=r._i({range:s},(function(t,e,n){return a++,n.delete()}));o.push(l.next((function(){xo(1===a)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=yc.key(e,d.key.path,n.batchId);o.push(i.delete(p)),u.push(d.key)}return su.qn(o).next((function(){return u}))}function ec(t){return Wc.Ys(t,mc.store)}function nc(t){return Wc.Ys(t,yc.store)}function rc(t){return Wc.Ys(t,gc.store)}var ic=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return ac(t).put(lc(e),n)},t.prototype.Hn=function(t,e){var n=ac(t),r=lc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Wr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return ac(t).get(lc(e)).next((function(t){return n.jr(t)}))},t.prototype.Gr=function(t,e){var n=this;return ac(t).get(lc(e)).next((function(t){var e=n.jr(t);return e?{zn:e,size:uc(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ws();return this.zr(t,e,(function(t,e){var i=n.jr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.Hr=function(t,e){var n=this,r=ws(),i=new ps($o.$);return this.zr(t,e,(function(t,e){var o=n.jr(e);o?(r=r.Tt(t,o),i=i.Tt(t,uc(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{Jr:r,Yr:i}}))},t.prototype.zr=function(t,e,n){if(e.W())return su.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return ac(t)._i({range:r},(function(t,e,r){for(var s=$o.ct(t);o&&$o.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=Cs(),o=e.path.length+1,s={};if(n.isEqual(Bo.min())){var a=e.path.H();s.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.H(),u=Hu(n);s.range=IDBKeyRange.lowerBound([l,u],!0),s.index=wc.collectionReadTimeIndex}return ac(t)._i(s,(function(t,n,s){if(t.length===o){var a=Gu(r.serializer,n);e.path.j(a.key.path)?a instanceof Cl&&Vl(e,a)&&(i=i.Tt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Xr=function(t){return new oc(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return sc(t).get(_c.key).next((function(t){return xo(!!t),t}))},t.prototype.Wr=function(t,e){return sc(t).put(_c.key,e)},t.prototype.jr=function(t){if(t){var e=Gu(this.serializer,t);return e instanceof Sl&&e.version.isEqual(Bo.min())?null:e}return null},t}(),oc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new ou((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(ge.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new ms((function(t,e){return Go(t.J(),e.J())}));return this.Qn.forEach((function(o,s){var a=e.so.get(o);if(s.zn){var l=Wu(e.no.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var u=uc(l);r+=u-a,n.push(e.no.jn(t,o,l))}else if(r-=a,e.Zr){var c=Wu(e.no.serializer,new Sl(o,Bo.min()),e.Wn(o));n.push(e.no.jn(t,o,c))}else n.push(e.no.Hn(t,o))})),i.forEach((function(r){n.push(e.no.os.Dr(t,r))})),n.push(this.no.updateMetadata(t,r)),su.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next((function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next((function(t){var e=t.Jr;return t.Yr.forEach((function(t,e){n.so.set(t,e)})),e}))},e}(au);function sc(t){return Wc.Ys(t,_c.store)}function ac(t){return Wc.Ys(t,wc.store)}function lc(t){return t.path.H()}function uc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ao();e=t.noDocument}return JSON.stringify(e).length}var cc=function(){function t(){this.io=new hc}return t.prototype.Dr=function(t,e){return this.io.add(e),su.resolve()},t.prototype.As=function(t,e){return su.resolve(this.io.getEntries(e))},t}(),hc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new ms(Qo.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ms(Qo.$)).H()},t}(),dc=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;xo(n<r&&n>=0&&r<=11);var o=new _u("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(fc.store)}(t),function(t){t.createObjectStore(gc.store,{keyPath:gc.keyPath}),t.createObjectStore(mc.store,{keyPath:mc.keyPath,autoIncrement:!0}).createIndex(mc.userMutationsIndex,mc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(yc.store)}(t),kc(t),function(t){t.createObjectStore(wc.store)}(t));var s=su.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Sc.store),t.deleteObjectStore(Cc.store),t.deleteObjectStore(Tc.store)}(t),kc(t)),s=s.next((function(){return function(t){var e=t.store(Tc.store),n=new Tc(0,0,Bo.min().M(),0);return e.put(Tc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(mc.store).ui().next((function(n){t.deleteObjectStore(mc.store),t.createObjectStore(mc.store,{keyPath:mc.keyPath,autoIncrement:!0}).createIndex(mc.userMutationsIndex,mc.userMutationsKeyPath,{unique:!0});var r=e.store(mc.store),i=n.map((function(t){return r.put(t)}));return su.qn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ic.store,{keyPath:Ic.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(_c.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(wc.store);e.createIndex(wc.readTimeIndex,wc.readTimeIndexPath,{unique:!1}),e.createIndex(wc.collectionReadTimeIndex,wc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Oc.store,{keyPath:Oc.keyPath})}(t),function(t){t.createObjectStore(Pc.store,{keyPath:Pc.keyPath})}(t)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(wc.store)._i((function(t,n){e+=uc(n)})).next((function(){var n=new _c(e);return t.store(_c.store).put(_c.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(gc.store),r=t.store(mc.store);return n.ui().next((function(n){return su.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(mc.userMutationsIndex,i).next((function(r){return su.forEach(r,(function(r){xo(r.userId===n.userId);var i=Qu(e.serializer,r);return tc(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Sc.store),n=t.store(wc.store);return t.store(Tc.store).get(Tc.key).next((function(t){var r=[];return n._i((function(n,i){var o=new Qo(n),s=function(t){return[0,Mu(t)]}(o);r.push(e.get(s).next((function(n){return n?su.resolve():function(n){return e.put(new Sc(0,Mu(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return su.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ec.store,{keyPath:Ec.keyPath});var n=e.store(Ec.store),r=new hc,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Mu(i)})}};return e.store(wc.store)._i({li:!0},(function(t,e){var n=new Qo(t);return i(n.q())})).next((function(){return e.store(yc.store)._i({li:!0},(function(t,e){var n=Uu(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Cc.store);return n._i((function(t,r){var i=Ju(r),o=Yu(e.serializer,i);return n.put(o)}))},t}(),pc=function(t,e){this.seconds=t,this.nanoseconds=e},fc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};fc.store="owner",fc.key="owner";var gc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};gc.store="mutationQueues",gc.keyPath="userId";var mc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};mc.store="mutations",mc.keyPath="batchId",mc.userMutationsIndex="userMutationsIndex",mc.userMutationsKeyPath=["userId","batchId"];var yc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Mu(e)]},t.key=function(t,e,n){return[t,Mu(e),n]},t}();yc.store="documentMutations",yc.PLACEHOLDER=new yc;var bc=function(t,e){this.path=t,this.readTime=e},vc=function(t,e){this.path=t,this.version=e},wc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};wc.store="remoteDocuments",wc.readTimeIndex="readTimeIndex",wc.readTimeIndexPath="readTime",wc.collectionReadTimeIndex="collectionReadTimeIndex",wc.collectionReadTimeIndexPath=["parentPath","readTime"];var _c=function(t){this.byteSize=t};_c.store="remoteDocumentGlobal",_c.key="remoteDocumentGlobalKey";var Cc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Cc.store="targets",Cc.keyPath="targetId",Cc.queryTargetsIndexName="queryTargetsIndex",Cc.queryTargetsKeyPath=["canonicalId","targetId"];var Sc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Sc.store="targetDocuments",Sc.keyPath=["targetId","path"],Sc.documentTargetsIndex="documentTargetsIndex",Sc.documentTargetsKeyPath=["path","targetId"];var Tc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Tc.key="targetGlobalKey",Tc.store="targetGlobal";var Ec=function(t,e){this.collectionId=t,this.parent=e};function kc(t){t.createObjectStore(Sc.store,{keyPath:Sc.keyPath}).createIndex(Sc.documentTargetsIndex,Sc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Cc.store,{keyPath:Cc.keyPath}).createIndex(Cc.queryTargetsIndexName,Cc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Tc.store)}Ec.store="collectionParents",Ec.keyPath=["collectionId","parent"];var Ic=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ic.store="clientMetadata",Ic.keyPath="clientId";var Oc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Oc.store="bundles",Oc.keyPath="bundleId";var Pc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Pc.store="namedQueries",Pc.keyPath="name";var Ac=Object(ge.g)(Object(ge.g)(Object(ge.g)(Object(ge.g)([gc.store,mc.store,yc.store,wc.store,Cc.store,fc.store,Tc.store,Sc.store],[Ic.store]),[_c.store]),[Ec.store]),[Oc.store,Pc.store]),xc=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return Nc(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:zu(e.createTime),version:e.version};var e}))},t.prototype.oo=function(t,e){return Nc(t).put({bundleId:(n=e).id,createTime:Bu(ma(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return Dc(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:$u(e.bundledQuery),readTime:zu(e.readTime)};var e}))},t.prototype.uo=function(t,e){return Dc(t).put(function(t){return{name:t.name,readTime:Bu(ma(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Nc(t){return Wc.Ys(t,Oc.store)}function Dc(t){return Wc.Ys(t,Pc.store)}var Lc=function(){function t(){this.ao=new hc}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es((function(){n.ao.add(e)}));var o={collectionId:r,parent:Mu(i)};return jc(t).put(o)}return su.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ho(e),""],!1,!0);return jc(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Uu(o.parent))}return n}))},t}();function jc(t){return Wc.Ys(t,Ec.store)}var Rc=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),Mc=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next((function(n){var r=new Rc(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.To=function(t){return this.wo(t).next((function(t){return Bo.N(new Ko(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Io=function(t){return this.wo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)}))},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next((function(){return n.wo(t).next((function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)}))}))},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next((function(){return Fc(t).delete(e.targetId)})).next((function(){return n.wo(t)})).next((function(e){return xo(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return Fc(t)._i((function(s,a){var l=Ju(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(i++,o.push(r.Vo(t,l)))})).next((function(){return su.qn(o)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return Fc(t)._i((function(t,n){var r=Ju(n);e(r)}))},t.prototype.wo=function(t){return Vc(t).get(Tc.key).next((function(t){return xo(null!==t),t}))},t.prototype.Eo=function(t,e){return Vc(t).put(Tc.key,e)},t.prototype.Ro=function(t,e){return Fc(t).put(Yu(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next((function(t){return t.targetCount}))},t.prototype.bo=function(t,e){var n=rs(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fc(t)._i({range:r,index:Cc.queryTargetsIndexName},(function(t,n,r){var o=Ju(n);is(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.So=function(t,e,n){var r=this,i=[],o=Uc(t);return e.forEach((function(e){var s=Mu(e.path);i.push(o.put(new Sc(n,s))),i.push(r.Vr.Do(t,n,e))})),su.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=Uc(t);return su.forEach(e,(function(e){var o=Mu(e.path);return su.qn([i.delete([n,o]),r.Vr.No(t,n,e)])}))},t.prototype.po=function(t,e){var n=Uc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Uc(t),i=Es();return r._i({range:n,li:!0},(function(t,e,n){var r=Uu(t[1]),o=new $o(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Qr=function(t,e){var n=Mu(e.path),r=IDBKeyRange.bound([n],[Ho(n)],!1,!0),i=0;return Uc(t)._i({index:Sc.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return Fc(t).get(e).next((function(t){return t?Ju(t):null}))},t}();function Fc(t){return Wc.Ys(t,Cc.store)}function Vc(t){return Wc.Ys(t,Tc.store)}function Uc(t){return Wc.Ys(t,Sc.store)}var qc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Gc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(ge.c)(e,t),e}(du),Wc=function(){function t(e,n,r,i,o,s,a,l,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=a,this.Oo=u,this.Mo=c,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new Lo(Do.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new Bc(this,i),this.Ko=n+"main",this.serializer=new qu(l),this.Wo=new yu(this.Ko,11,new dc(this.serializer)),this.jo=new Mc(this.Vr,this.serializer),this.os=new Lc,this.ss=function(t,e){return new ic(t,e)}(this.serializer,this.os),this.Go=new xc(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===c&&Io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Gc)return yu.Ys(t.Lr,e);throw Ao()},t.prototype.start=function(){var t=this;return this.Ho().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Lo(Do.FAILED_PRECONDITION,qc);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.jo.Io(e)}))})).then((function(e){t.ko=new gu(e,t.Oo)})).then((function(){t.$o=!0})).catch((function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)}))},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti((function(n){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Kc(e).put(new Ic(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.Qo(!1)})))}))})).next((function(){return t.sc(e)})).next((function(n){return t.isPrimary&&!n?t.ic(e).next((function(){return!1})):!!n&&t.rc(e).next((function(){return!0}))}))})).catch((function(e){if(wu(e))return ko("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ko("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.Qo(e)})),t.isPrimary=e}))},t.prototype.nc=function(t){var e=this;return Hc(t).get(fc.key).next((function(t){return su.resolve(e.oc(t))}))},t.prototype.cc=function(t){return Kc(t).delete(this.clientId)},t.prototype.uc=function(){return Object(ge.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(ge.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,Ic.store);return n.ui().next((function(t){var e=i.hc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return su.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.Ho().then((function(){return t.uc()})).then((function(){return t.Xo()}))}))},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?su.resolve(!0):Hc(t).get(fc.key).next((function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new Lo(Do.FAILED_PRECONDITION,qc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Kc(t).ui().next((function(t){return void 0===e.hc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&ko("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.fc=function(){return Object(ge.b)(this,void 0,void 0,(function(){var t=this;return Object(ge.d)(this,(function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[fc.store,Ic.store],(function(e){var n=new Gc(e,gu.Ds);return t.ic(n).next((function(){return t.cc(n)}))}))];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},t.prototype.hc=function(t,e){var n=this;return t.filter((function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)}))},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Kc(e).ui().next((function(e){return t.hc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Xu.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ko("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ac,(function(o){return r=new Gc(o,i.ko?i.ko.next():gu.Ds),"readwrite-primary"===e?i.nc(r).next((function(t){return!!t||i.sc(r)})).next((function(e){if(!e)throw Io("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.Qo(!1)})),new Lo(Do.FAILED_PRECONDITION,hu);return n(r)})).next((function(t){return i.rc(r).next((function(){return t}))})):i.yc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.yc=function(t){var e=this;return Hc(t).get(fc.key).next((function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Lo(Do.FAILED_PRECONDITION,qc)}))},t.prototype.rc=function(t){var e=new fc(this.clientId,this.allowTabSynchronization,Date.now());return Hc(t).put(fc.key,e)},t.Gs=function(){return yu.Gs()},t.prototype.ic=function(t){var e=this,n=Hc(t);return n.get(fc.key).next((function(t){return e.oc(t)?(ko("IndexedDbPersistence","Releasing primary lease."),n.delete(fc.key)):su.resolve()}))},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Io("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri((function(){return e.fc()}))},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return ko("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Io("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){Io("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Hc(t){return Wc.Ys(t,fc.store)}function Kc(t){return Wc.Ys(t,Ic.store)}var Bc=function(){function t(t,e){this.db=t,this.cr=new Ru(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Vc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,(function(t,n){return e(n)}))},t.prototype.Do=function(t,e,n){return zc(t,n)},t.prototype.No=function(t,e,n){return zc(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return zc(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return rc(t).fi((function(r){return Zu(t,r,e).next((function(t){return t&&(n=!0),su.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(t,(function(s,a){if(a<=e){var l=n.bc(t,s).next((function(e){if(!e)return o++,r.Jn(t,s).next((function(){return r.Hn(s),Uc(t).delete([0,Mu(s.path)])}))}));i.push(l)}})).next((function(){return su.qn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return zc(t,e)},t.prototype.vc=function(t,e){var n,r=Uc(t),i=gu.Ds;return r._i({index:Sc.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==gu.Ds&&e(new $o(Uu(n)),i),i=s,n=o):i=gu.Ds})).next((function(){i!==gu.Ds&&e(new $o(Uu(n)),i)}))},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function zc(t,e){return Uc(t).put(function(t,e){return new Sc(0,Mu(t.path),e)}(e,t.Fo))}function Qc(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Jc=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new ps(Go),this.Nc=new ou((function(t){return rs(t)}),is),this.xc=Bo.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new pu(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Cc)}))},t}();function Yc(t,e,n,r){return new Jc(t,e,n,r)}function $c(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ge.d)(this,(function(s){switch(s.label){case 0:return n=No(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.rs.Mr(t).next((function(s){return o=s,r=n.persistence.mc(e),i=new pu(n.Fc,r,n.persistence.Pc()),r.Mr(t)})).next((function(e){for(var n=[],r=[],s=Es(),a=0,l=o;a<l.length;a++){var u=l[a];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)s=s.add(h[c].key)}for(var d=0,p=e;d<p.length;d++){var f=p[d];r.push(f.batchId);for(var g=0,m=f.mutations;g<m.length;g++)s=s.add(m[g].key)}return i._s(t,s).next((function(t){return{kc:t,$c:n,Lc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),o)]}}))}))}function Xc(t,e){var n=No(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=su.resolve();return o.forEach((function(t){s=s.next((function(){return r.Jn(e,t)})).next((function(e){var o=e,s=n.Sn.get(t);xo(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)}))})),s.next((function(){return t.rs.$r(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}function Zc(t){var e=No(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.jo.To(t)}))}function th(t,e){var n=No(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.Xr({Zr:!0});i=n.Cc;var s=[];e.re.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.jo.Co(t,e.de,o).next((function(){return n.jo.So(t,e._e,o)})));var l=e.resumeToken;if(l.ht()>0){var u=a.wt(l,r).dt(t.Fo);i=i.Tt(o,u),function(t,e,n){return xo(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,u,e)&&s.push(n.jo.yo(t,u))}}}));var a=vs();if(e.ce.forEach((function(r,i){e.ue.has(r)&&s.push(n.persistence.Vr.Sc(t,r))})),s.push(function(t,e,n,r,i){var o=Es();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=vs();return n.forEach((function(n,o){var s=t.get(n),a=r;o instanceof Sl&&o.version.isEqual(Bo.min())?(e.Hn(n,a),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,a),i=i.Tt(n,o)):ko("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}(t,o,e.ce,r).next((function(t){a=t}))),!r.isEqual(Bo.min())){var l=n.jo.To(t).next((function(e){return n.jo.mo(t,t.Fo,r)}));s.push(l)}return su.qn(s).next((function(){return o.apply(t)})).next((function(){return n.Oc.fs(t,a)}))})).then((function(t){return n.Cc=i,t}))}function eh(t,e){var n=No(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)}))}function nh(t,e){var n=No(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.jo.bo(t,e).next((function(i){return i?su.resolve(r=i):n.jo.fo(t).next((function(i){return r=new us(e,i,0,t.Fo),n.jo.Ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t}))}function rh(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ge.d)(this,(function(a){switch(a.label){case 0:r=No(t),i=r.Cc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Vr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!wu(s=a.sent()))throw s;return ko("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}}))}))}function ih(t,e,n){var r=No(t),i=Bo.min(),o=Es();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=No(t),i=r.Nc.get(n);return void 0!==i?su.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,Ll(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Dc.ws(t,e,n?i:Bo.min(),n?o:Es())})).next((function(t){return{documents:t,Bc:o}}))}))}function oh(t,e){var n=No(t),r=No(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function sh(t){var e=No(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=No(t),i=vs(),o=Hu(n),s=ac(e),a=IDBKeyRange.lowerBound(o,!0);return s._i({index:wc.readTimeIndex,range:a},(function(t,e){var n=Gu(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime})).next((function(){return{qc:i,readTime:Ku(o)}}))}(e.Fc,t,e.xc)})).then((function(t){var n=t.qc;return e.xc=t.readTime,n}))}function ah(t){return Object(ge.b)(this,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(n){return[2,(e=No(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ac(t),n=Bo.min();return e._i({index:wc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ku(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.xc=t}))]}))}))}function lh(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){if(t.code!==Do.FAILED_PRECONDITION||t.message!==hu)throw t;return ko("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var uh=function(){function t(t,e,n,r,i,o){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new mu(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return t.Xc()})))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){return this.zc()?[2,this.close(0)]:[2]}))}))},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===Do.RESOURCE_EXHAUSTED?(Io(e.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Do.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(e){t.Wc===n&&t.iu(e)}),(function(n){e((function(){var e=new Lo(Do.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)}))}))},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu((function(){n((function(){return e.state=2,e.listener.cu()}))})),this.stream.nu((function(t){n((function(){return e.ru(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(ge.b)(t,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.ru=function(t){return ko("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Wc===t?n():(ko("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ch=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(ge.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ao()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(xo(void 0===e||"string"==typeof e),ss.fromBase64String(e||"")):(xo(void 0===e||e instanceof Uint8Array),ss.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?Do.UNKNOWN:ds(t.code);return new Lo(e,t.message||"")}(s);n=new js(r,i,o,a||null)}else if("documentChange"in e){var l=e.documentChange,u=wa(t,l.document.name),c=ma(l.document.updateTime),h=new bl({mapValue:{fields:l.document.fields}}),d=new Cl(u,c,h,{});n=new Ds(l.targetIds||[],l.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var p=e.documentDelete,f=wa(t,p.document),g=p.readTime?ma(p.readTime):Bo.min(),m=new Sl(f,g);n=new Ds([],p.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var y=e.documentRemove,b=wa(t,y.document);n=new Ds([],y.removedTargetIds||[],b,null)}else{if(!("filter"in e))return Ao();var v=e.filter,w=new cs(v.count||0);n=new Ls(v.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Bo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Bo.min():e.readTime?ma(e.readTime):Bo.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Sa(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=os(r)?{documents:Oa(t,r)}:{query:Pa(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=fa(t,e.resumeToken):e.ft.F(Bo.min())>0&&(n.readTime=pa(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ao()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Sa(this.serializer),e.removeTarget=t,this.Zc(e)},e}(uh),hh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s._u=!1,s}return Object(ge.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(xo(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(xo(void 0!==e),t.map((function(t){return function(t,e){var n=ma(t.updateTime?t.updateTime:e);n.isEqual(Bo.min())&&(n=ma(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new el(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ma(t.commitTime);return this.listener.wu(n,e)}return xo(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Sa(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ka(e.serializer,t)}))};this.Zc(n)},e}(uh),dh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(ge.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new Lo(Do.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(t,e,n,i)})).catch((function(t){throw t.code===Do.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(t,e,n,i)})).catch((function(t){throw t.code===Do.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Iu=!1},e}((function(){})),ph=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()})))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(Io(e),this.Vu=!1):ko("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),fh=function(t,e,n,r,i){var o=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu((function(t){n.Ri((function(){return Object(ge.b)(o,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){switch(t.label){case 0:return Sh(this)?(ko("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ge.b)(this,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(n){switch(n.label){case 0:return(e=No(t)).Mu.add(4),[4,mh(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,gh(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Bu=new ph(n,r)};function gh(t){return Object(ge.b)(this,void 0,void 0,(function(){var e,n;return Object(ge.d)(this,(function(r){switch(r.label){case 0:if(!Sh(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function mh(t){return Object(ge.b)(this,void 0,void 0,(function(){var e,n;return Object(ge.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yh(t,e){var n=No(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),Ch(n)?_h(n):Fh(n).zc()&&vh(n,e))}function bh(t,e){var n=No(t),r=Fh(n);n.Ou.delete(e),r.zc()&&wh(n,e),0===n.Ou.size&&(r.zc()?r.Yc():Sh(n)&&n.Bu.set("Unknown"))}function vh(t,e){t.qu.De(e.targetId),Fh(t).hu(e)}function wh(t,e){t.qu.De(e),Fh(t).lu(e)}function _h(t){t.qu=new Ms({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),Fh(t).start(),t.Bu.pu()}function Ch(t){return Sh(t)&&!Fh(t).Gc()&&t.Ou.size>0}function Sh(t){return 0===No(t).Mu.size}function Th(t){t.qu=void 0}function Eh(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){return t.Ou.forEach((function(e,n){vh(t,e)})),[2]}))}))}function kh(t,e){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(n){return Th(t),Ch(t)?(t.Bu.Su(e),_h(t)):t.Bu.set("Unknown"),[2]}))}))}function Ih(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o;return Object(ge.d)(this,(function(s){switch(s.label){case 0:if(t.Bu.set("Online"),!(e instanceof js&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ge.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Ou.has(o=i[r])?[4,t.xu.Uu(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Ou.delete(o),t.qu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ko("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Oh(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ds?t.qu.$e(e):e instanceof Ls?t.qu.je(e):t.qu.qe(e),n.isEqual(Bo.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Zc(t.Cu)];case 8:return i=s.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(ss.lt,n.ft)),wh(t,e);var r=new us(n.target,e,1,n.sequenceNumber);vh(t,r)}})),t.xu.Qu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ko("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Oh(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Oh(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r=this;return Object(ge.d)(this,(function(i){switch(i.label){case 0:if(!wu(e))throw e;return t.Mu.add(1),[4,mh(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return Zc(t.Cu)}),t.di.Mi((function(){return Object(ge.b)(r,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return ko("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,gh(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ph(t,e){return e().catch((function(n){return Oh(t,n,e)}))}function Ah(t){return Object(ge.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(ge.d)(this,(function(s){switch(s.label){case 0:e=No(t),n=Vh(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Sh(t)&&t.Fu.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,eh(e.Cu,r)];case 3:return null===(i=s.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=Vh(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Oh(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return xh(e)&&Nh(e),[2]}}))}))}function xh(t){return Sh(t)&&!Vh(t).Gc()&&t.Fu.length>0}function Nh(t){Vh(t).start()}function Dh(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){return Vh(t).Tu(),[2]}))}))}function Lh(t){return Object(ge.b)(this,void 0,void 0,(function(){var e,n,r;return Object(ge.d)(this,(function(i){for(e=Vh(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]}))}))}function jh(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i;return Object(ge.d)(this,(function(o){switch(o.label){case 0:return r=t.Fu.shift(),i=iu.from(r,e,n),[4,Ph(t,(function(){return t.xu.Ku(i)}))];case 1:return o.sent(),[4,Ah(t)];case 2:return o.sent(),[2]}}))}))}function Rh(t,e){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(n){switch(n.label){case 0:return e&&Vh(t).fu?[4,function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return hs(r=e.code)&&r!==Do.ABORTED?(n=t.Fu.shift(),Vh(t).Jc(),[4,Ph(t,(function(){return t.xu.Wu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ah(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xh(t)&&Nh(t),[2]}}))}))}function Mh(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return n=No(t),e?(n.Mu.delete(2),[4,gh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,mh(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Fh(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=No(t);return r.mu(),new ch(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Eh.bind(null,t),nu:kh.bind(null,t),au:Ih.bind(null,t)}),t.ku.push((function(n){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return n?(t.ju.Jc(),Ch(t)?_h(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Th(t),e.label=3;case 3:return[2]}}))}))}))),t.ju}function Vh(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=No(t);return r.mu(),new hh(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Dh.bind(null,t),nu:Rh.bind(null,t),Eu:Lh.bind(null,t),wu:jh.bind(null,t)}),t.ku.push((function(n){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,Ah(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(ko("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}}))}))}))),t.Gu}var Uh=function(){this.zu=void 0,this.listeners=[]},qh=function(){this.queries=new ou((function(t){return Ml(t)}),Rl),this.onlineState="Unknown",this.Hu=new Set};function Gh(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,l;return Object(ge.d)(this,(function(u){switch(u.label){case 0:if(n=No(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Uh),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.Ju(r)];case 2:return s.zu=u.sent(),[3,4];case 3:return a=u.sent(),l=Au(a,"Initialization of query '"+Fl(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Yu(n.onlineState),o.zu&&e.Xu(o.zu)&&Bh(n),[2]}}))}))}function Wh(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ge.d)(this,(function(a){return n=No(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function Hh(t,e){for(var n=No(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var l=0,u=a.listeners;l<u.length;l++)u[l].Xu(s)&&(r=!0);a.zu=s}}r&&Bh(n)}function Kh(t,e,n){var r=No(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Bh(t){t.Hu.forEach((function(t){t.next()}))}var zh=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new As(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ea?this.sa(t)&&(this.ta.next(t),o=!0):this.ia(t,this.onlineState)&&(this.ra(t),o=!0),this.na=t,o},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=As.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),Qh=function(){function t(){this.ca=new ms(Jh.ua),this.aa=new ms(Jh.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new Jh(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach((function(t){return n.Do(t,e)}))},t.prototype.No=function(t,e){this._a(new Jh(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach((function(t){return n.No(t,e)}))},t.prototype.da=function(t){var e=this,n=new $o(new Qo([])),r=new Jh(n,t),i=new Jh(n,t+1),o=[];return this.aa.Kt([r,i],(function(t){e._a(t),o.push(t.key)})),o},t.prototype.wa=function(){var t=this;this.ca.forEach((function(e){return t._a(e)}))},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new $o(new Qo([])),n=new Jh(e,t),r=new Jh(e,t+1),i=Es();return this.aa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Qr=function(t){var e=new Jh(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Jh=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return $o.$(t.key,e.key)||Go(t.Ta,e.Ta)},t.ha=function(t,e){return Go(t.Ta,e.Ta)||$o.$(t.key,e.key)},t}();function Yh(t,e){return"firestore_clients_"+t+"_"+e}function $h(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Xh(t,e){return"firestore_targets_"+t+"_"+e}var Zh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Lo(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Io("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),td=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Lo(r.error.code,r.error.message)),i?new t(e,r.state,o):(Io("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ed=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Is(),s=0;i&&s<r.activeTargetIds.length;++s)i=ts(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Io("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),nd=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Io("SharedClientState","Failed to parse online state: "+e),null)},t}(),rd=function(){function t(){this.activeTargetIds=Is()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),id=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new ps(Go),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=Yh(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new rd),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ge.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,l,u,c=this;return Object(ge.d)(this,(function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(Yh(this.persistenceKey,r)))&&(o=ed.Ia(r,i))&&(this.pa=this.pa.Tt(o.clientId,o));for(this.Oa(),(s=this.storage.getItem(this.xa))&&(a=this.Ma(s))&&this.ka(a),l=0,u=this.va;l<u.length;l++)this.Va(u[l]);return this.va=[],this.window.addEventListener("unload",(function(){return c.fc()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Xh(this.persistenceKey,t));if(n){var r=td.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Xh(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach((function(t){r.Ka(t)})),this.currentUser=t,n.forEach((function(t){r.qa(t)}))},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ko("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ko("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ko("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ko("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void Io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(ge.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(ge.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(o=this.Ma(n.newValue)))return[2,this.ka(o)]}else if(n.key===this.Sa)(s=function(t){var e=gu.Ds;if(null!=t)try{var n=JSON.parse(t);xo("number"==typeof n),e=n}catch(t){Io("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==gu.Ds&&this.ps(s);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new Zh(this.currentUser,t,e,n),i=$h(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=$h(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=Xh(this.persistenceKey,t),i=new td(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return ed.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return Zh.Ia(new So(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return td.Ia(r,e)},t.prototype.Ma=function(t){return nd.Ia(t)},t.prototype.uh=function(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(ko("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),o=this.La(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.ga.dh(s,a).then((function(){n.pa=r}))},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=Is();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),od=function(){function t(){this.wh=new rd,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new rd,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),sd=function(t){this.key=t},ad=function(t){this.key=t},ld=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Es(),this.ee=Es(),this.Ah=Ul(t),this.Rh=new Os(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Ps,i=e?e.Rh:this.Rh,o=e?e.ee:this.ee,s=i,a=!1,l=Ol(this.query)&&i.size===this.query.limit?i.last():null,u=Pl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var c=i.get(t),h=e instanceof Cl?e:null;h&&(h=Vl(n.query,h)?h:null);var d=!!c&&n.ee.has(c.key),p=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data().isEqual(h.data())?d!==p&&(r.track({type:3,doc:h}),f=!0):n.Vh(c,h)||(r.track({type:2,doc:h}),f=!0,(l&&n.Ah(h,l)>0||u&&n.Ah(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),f=!0):c&&!h&&(r.track({type:1,doc:c}),f=!0,(l||u)&&(a=!0)),f&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ol(this.query)||Pl(this.query))for(;s.size>this.query.limit;){var c=Ol(this.query)?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Rh:s,yh:r,ph:a,ee:o}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var o=t.yh.Zt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ao()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var s=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,l=a!==this.Ih;return this.Ih=a,0!==o.length||l?{snapshot:new As(this.query,t.Rh,i,o,t.ee,0===a,l,!1),Dh:s}:{Dh:s}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Ps,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Th=e.Th.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Th=e.Th.delete(t)})),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Es(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new ad(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new sd(t))})),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Es();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return As.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),ud=function(t,e,n){this.query=t,this.targetId=e,this.view=n},cd=function(t){this.key=t,this.Fh=!1},hd=function(){function t(t,e,n,r,i,o){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new ou((function(t){return Ml(t)}),Rl),this.qh=new Map,this.Uh=[],this.Qh=new ps($o.$),this.Kh=new Map,this.Wh=new Qh,this.jh={},this.Gh=new Map,this.zh=Rc._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function dd(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ge.d)(this,(function(a){switch(a.label){case 0:return n=qd(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,nh(n.Cu,Ll(e))];case 2:return o=a.sent(),s=n.kh.Wa(o.targetId),[4,pd(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Jh&&yh(n.Oh,o),a.label=4;case 4:return[2,r]}}))}))}function pd(t,e,n,r){return Object(ge.b)(this,void 0,void 0,(function(){var i,o,s,a,l,u;return Object(ge.d)(this,(function(c){switch(c.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(ge.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ge.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,ih(t.Cu,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.re.get(e.targetId),s=e.view.Zn(i,t.Jh,o),[2,(kd(t,e.targetId,s.Dh),s.snapshot)]}}))}))}(t,e,n,r)},[4,ih(t.Cu,e,!0)];case 1:return i=c.sent(),o=new ld(e,i.Bc),s=o.gh(i.documents),a=Ns.he(n,r&&"Offline"!==t.onlineState),l=o.Zn(s,t.Jh,a),kd(t,n,l.Dh),u=new ud(e,n,o),[2,(t.Bh.set(e,u),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),l.snapshot)]}}))}))}function fd(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ge.d)(this,(function(o){switch(o.label){case 0:return n=No(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!Rl(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,rh(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),bh(n.Oh,r.targetId),Td(n,r.targetId)})).catch(lh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Td(n,r.targetId),[4,rh(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function gd(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ge.d)(this,(function(a){switch(a.label){case 0:r=Gd(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=No(t),i=Ko.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Es());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Oc._s(t,o).next((function(o){n=o;for(var s=[],a=0,l=e;a<l.length;a++){var u=l[a],c=al(u,n.get(u.key));null!=c&&s.push(new hl(u.key,c,wl(c.proto.mapValue),nl.exists(!0)))}return r.rs.Sr(t,i,s,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new ps(Go)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Pd(r,i.Qn)];case 3:return a.sent(),[4,Ah(r.Oh)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Au(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function md(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r;return Object(ge.d)(this,(function(i){switch(i.label){case 0:n=No(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,th(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Kh.get(e);r&&(xo(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?xo(r.Fh):t.de.size>0&&(xo(r.Fh),r.Fh=!1))})),[4,Pd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,lh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function yd(t,e,n){var r=No(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=No(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(e)&&(r=!0)})),r&&Bh(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function bd(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o,s,a,l;return Object(ge.d)(this,(function(u){switch(u.label){case 0:return(r=No(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(o=i&&i.key)?(s=(s=new ps($o.$)).Tt(o,new Sl(o,Bo.min())),a=Es().add(o),l=new xs(Bo.min(),new Map,new ms(Go),s,a),[4,md(r,l)]):[3,2];case 1:return u.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(e),Od(r),[3,4];case 2:return[4,rh(r.Cu,e,!1).then((function(){return Td(r,e,n)})).catch(lh)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function vd(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ge.d)(this,(function(o){switch(o.label){case 0:n=No(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Xc(n.Cu,e)];case 2:return i=o.sent(),Sd(n,r,null),Cd(n,r),n.kh.Qa(r,"acknowledged"),[4,Pd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,lh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function wd(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i;return Object(ge.d)(this,(function(o){switch(o.label){case 0:r=No(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=No(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.Cr(t,e).next((function(e){return xo(null!==e),r=e.keys(),n.rs.$r(t,e)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}(r.Cu,e)];case 2:return i=o.sent(),Sd(r,e,n),Cd(r,e),r.kh.Qa(e,"rejected",n),[4,Pd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,lh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function _d(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ge.d)(this,(function(a){switch(a.label){case 0:Sh((n=No(t)).Oh)||ko("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=No(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Or(t)}))}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return o=a.sent(),s=Au(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Cd(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function Sd(t,e,n){var r=No(t),i=r.jh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Td(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach((function(e){t.Wh.Qr(e)||Ed(t,e)}))}function Ed(t,e){var n=t.Qh.get(e);null!==n&&(bh(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Od(t))}function kd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof sd?(t.Wh.Do(o.key,e),Id(t,o)):o instanceof ad?(ko("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.No(o.key,e),t.Wh.Qr(o.key)||Ed(t,o.key)):Ao()}}function Id(t,e){var n=e.key;t.Qh.get(n)||(ko("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Od(t))}function Od(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new cd(e)),t.Qh=t.Qh.Tt(e,n),yh(t.Oh,new us(Ll(Il(e.path)),n,2,gu.Ds))}}function Pd(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ge.d)(this,(function(a){switch(a.label){case 0:return r=No(t),i=[],o=[],s=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(t,a){s.push(r.Yh(a,e,n).then((function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=fu.Vs(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,l,u;return Object(ge.d)(this,(function(c){switch(c.label){case 0:n=No(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return su.forEach(e,(function(e){return su.forEach(e.gs,(function(r){return n.persistence.Vr.Do(t,e.targetId,r)})).next((function(){return su.forEach(e.ys,(function(r){return n.persistence.Vr.No(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!wu(r=c.sent()))throw r;return ko("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(l=n.Cc.get(a),u=l.Et(l.ft),n.Cc=n.Cc.Tt(a,u));return[2]}}))}))}(r.Cu,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Ad(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return(n=No(t)).currentUser.isEqual(e)?[3,3]:(ko("SyncEngine","User change. New user:",e.h()),[4,$c(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new Lo(Do.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,Pd(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function xd(t,e){var n=No(t),r=n.Kh.get(e);if(r&&r.Fh)return Es().add(r.key);var i=Es(),o=n.qh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var l=n.Bh.get(a[s]);i=i.Gt(l.view.Ph)}return i}function Nd(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ge.d)(this,(function(o){switch(o.label){case 0:return[4,ih((n=No(t)).Cu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Nh(r),[2,(n.Jh&&kd(n,e.targetId,i.Dh),i)]}}))}))}function Dd(t){return Object(ge.b)(this,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(n){return[2,sh((e=No(t)).Cu).then((function(t){return Pd(e,t)}))]}))}))}function Ld(t,e,n,r){return Object(ge.b)(this,void 0,void 0,(function(){var i,o;return Object(ge.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=No(t),r=No(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Nr(t,e).next((function(e){return e?n.Oc._s(t,e):su.resolve(null)}))}))}((i=No(t)).Cu,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ah(i.Oh)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Sd(i,e,r||null),Cd(i,e),function(t,e){No(No(t).rs).Br(e)}(i.Cu,e)):Ao(),s.label=4;case 4:return[4,Pd(i,o)];case 5:return s.sent(),[3,7];case 6:ko("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function jd(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,l;return Object(ge.d)(this,(function(u){switch(u.label){case 0:return qd(n=No(t)),Gd(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,Rd(n,r.H())]);case 1:return i=u.sent(),n.Hh=!0,[4,Mh(n.Oh,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)yh(n.Oh,s[o]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],l=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.za(e)?a.push(e):l=l.then((function(){return Td(n,e),rh(n.Cu,e,!0)})),bh(n.Oh,e)})),[4,l]);case 4:return u.sent(),[4,Rd(n,a)];case 5:return u.sent(),function(t){var e=No(t);e.Kh.forEach((function(t,n){bh(e.Oh,n)})),e.Wh.wa(),e.Kh=new Map,e.Qh=new ps($o.$)}(n),n.Hh=!1,[4,Mh(n.Oh,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Rd(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,l,u,c,h,d,p,f;return Object(ge.d)(this,(function(g){switch(g.label){case 0:n=No(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(l=void 0,(u=n.qh.get(a=s[o]))&&0!==u.length?[4,nh(n.Cu,Ll(u[0]))]:[3,7]):[3,13];case 2:l=g.sent(),c=0,h=u,g.label=3;case 3:return c<h.length?(d=n.Bh.get(h[c]),[4,Nd(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,oh(n.Cu,a)];case 8:return f=g.sent(),[4,nh(n.Cu,f)];case 9:return l=g.sent(),[4,pd(n,Md(f),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(l),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function Md(t){return kl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fd(t){var e=No(t);return No(No(e.Cu).persistence).Ic()}function Vd(t,e,n,r){return Object(ge.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ge.d)(this,(function(a){switch(a.label){case 0:return(i=No(t)).Hh?(ko("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sh(i.Cu)];case 3:return o=a.sent(),s=xs.ae(e,"current"===n),[4,Pd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,rh(i.Cu,e,!0)];case 6:return a.sent(),Td(i,e,r),[3,8];case 7:Ao(),a.label=8;case 8:return[2]}}))}))}function Ud(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o,s,a,l,u,c,h;return Object(ge.d)(this,(function(d){switch(d.label){case 0:if(!(r=qd(t)).Hh)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.qh.has(s=o[i])?(ko("SyncEngine","Adding an already active target "+s),[3,5]):[4,oh(r.Cu,s)]:[3,6];case 2:return a=d.sent(),[4,nh(r.Cu,a)];case 3:return l=d.sent(),[4,pd(r,Md(a),l.targetId,!1)];case 4:d.sent(),yh(r.Oh,l),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,rh(r.Cu,t,!1).then((function(){bh(r.Oh,t),Td(r,t)})).catch(lh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?[5,u(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function qd(t){var e=No(t);return e.Oh.xu.Qu=md.bind(null,e),e.Oh.xu.Xe=xd.bind(null,e),e.Oh.xu.Uu=bd.bind(null,e),e.Lh.au=Hh.bind(null,e.Mh),e.Lh.Xh=Kh.bind(null,e.Mh),e}function Gd(t){var e=No(t);return e.Oh.xu.Ku=vd.bind(null,e),e.Oh.xu.Wu=wd.bind(null,e),e}var Wd=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Bo.min())?this.tl(t,e):this.Zh._s(t,r).next((function(o){var s=i.el(e,o);return(Ol(e)||Pl(e))&&i.ph(e.limitType,s,r,n)?i.tl(t,e):(Eo()<=ye.a.DEBUG&&ko("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fl(e)),i.Zh.ws(t,e,n).next((function(t){return s.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new ms(Ul(t));return e.forEach((function(e,r){r instanceof Cl&&Vl(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Eo()<=ye.a.DEBUG&&ko("IndexFreeQueryEngine","Using full collection scan to execute query:",Fl(e)),this.Zh.ws(t,e,Bo.min())},t}(),Hd=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new ms(Jh.ua)}return t.prototype.br=function(t){return su.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var o=new ru(i,e,n,r);this.rs.push(o);for(var s=0,a=r;s<a.length;s++){var l=a[s];this.sl=this.sl.add(new Jh(l.key,i)),this.os.Dr(t,l.key.path.q())}return su.resolve(o)},t.prototype.Cr=function(t,e){return su.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return su.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return su.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return su.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Jh(e,0),i=new Jh(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ta);o.push(e)})),su.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new ms(Go);return e.forEach((function(t){var e=new Jh(t,0),i=new Jh(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ta)}))})),su.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;$o.ot(i)||(i=i.child(""));var o=new Jh(new $o(i),0),s=new ms(Go);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ta)),!0)}),o),su.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.$r=function(t,e){var n=this;xo(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return su.forEach(e.mutations,(function(i){var o=new Jh(i.key,e.batchId);return r=r.delete(o),n.Vr.qr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new Jh(e,0),r=this.sl.jt(n);return su.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return su.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Kd=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new ps($o.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return su.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=ws();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),su.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Cs(),i=new $o(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),a=s.value,l=a.zn,u=a.readTime;if(!e.path.j(s.key.path))break;u.F(n)<=0||l instanceof Cl&&Vl(e,l)&&(r=r.Tt(l.key,l))}return su.resolve(r)},t.prototype.al=function(t,e){return su.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Xr=function(t){return new Bd(this)},t.prototype.eo=function(t){return su.resolve(this.size)},t}(),Bd=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(ge.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)})),su.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(au),zd=function(){function t(t){this.persistence=t,this.hl=new ou((function(t){return rs(t)}),is),this.lastRemoteSnapshotVersion=Bo.min(),this.highestTargetId=0,this.ll=0,this._l=new Qh,this.targetCount=0,this.fl=Rc.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),su.resolve()},t.prototype.To=function(t){return su.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return su.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),su.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),su.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Rc(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,su.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),su.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,su.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.po(t,a.targetId)),i++)})),su.qn(o).next((function(){return i}))},t.prototype.vo=function(t){return su.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return su.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),su.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),su.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),su.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return su.resolve(n)},t.prototype.Qr=function(t,e){return su.resolve(this._l.Qr(e))},t}(),Qd=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return su.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:ma(n.createTime)}),su.resolve()},t.prototype.co=function(t,e){return su.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:$u(n.bundledQuery),readTime:ma(n.readTime)}),su.resolve()},t}(),Jd=function(){function t(t,e){var n=this;this.El={},this.ko=new gu(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new zd(this),this.os=new cc,this.ss=function(t,e){return new Kd(t,(function(t){return n.Vr.Tl(t)}))}(this.os),this.serializer=new qu(e),this.Go=new Qd(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new Hd(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;ko("MemoryPersistence","Starting transaction:",t);var i=new Yd(this.ko.next());return this.Vr.Il(),n(i).next((function(t){return r.Vr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return su.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(t,e)}})))},t}(),Yd=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(ge.c)(e,t),e}(du),$d=function(){function t(t){this.persistence=t,this.Rl=new Qh,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Ao()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),su.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),su.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),su.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Ac();return r.xo(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Vo(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return su.forEach(this.yl,(function(r){var i=$o.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return su.Un([function(){return su.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Xd=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Zd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(ge.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var s=new vo;s.listenOnce(mo.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case go.NO_ERROR:var e=s.getResponseJson();ko("Connection","XHR received:",JSON.stringify(e)),i(e);break;case go.TIMEOUT:ko("Connection",'RPC "'+t+'" timed out'),o(new Lo(Do.DEADLINE_EXCEEDED,"Request time out"));break;case go.HTTP_ERROR:var n=s.getStatus();if(ko("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Do).indexOf(e)>=0?e:Do.UNKNOWN}(r.status);o(new Lo(a,r.message))}else o(new Lo(Do.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Lo(Do.UNAVAILABLE,"Connection failed."));break;default:Ao()}}finally{ko("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new uo,i=dr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(be.t)()||Object(be.w)()||Object(be.q)()||Object(be.s)()||Object(be.x)()||Object(be.p)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ko("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),l=!1,u=!1,c=new Xd({pl:function(t){u?ko("Connection","Not sending because WebChannel is closed:",t):(l||(ko("Connection","Opening WebChannel transport."),a.open(),l=!0),ko("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,bo.EventType.OPEN,(function(){u||ko("Connection","WebChannel transport opened.")})),h(a,bo.EventType.CLOSE,(function(){u||(u=!0,ko("Connection","WebChannel transport closed"),c.Nl())})),h(a,bo.EventType.ERROR,(function(t){u||(u=!0,Oo("Connection","WebChannel transport errored:",t),c.Nl(new Lo(Do.UNAVAILABLE,"The operation could not be completed")))})),h(a,bo.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];xo(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ko("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=as[t];if(void 0!==e)return ds(e)}(i),s=r.message;void 0===o&&(o=Do.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,c.Nl(new Lo(o,s)),a.close()}else ko("Connection","WebChannel received:",n),c.xl(n)}})),h(i,yo.STAT_EVENT,(function(t){10===t.stat?ko("Connection","Detected buffering proxy"):11===t.stat&&ko("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Cl()}),0),c},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);ko("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return ko("RestConnection","Received: ",t),t}),(function(e){throw Oo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Zd[t]},t}()),ep=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){ko("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){ko("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),np=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),rp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return this.serializer=uu(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Yc(this.persistence,new Wd,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Jd($d.gl,this.serializer)},t.prototype.jl=function(t){return new od},t.prototype.terminate=function(){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}}))}))},t}(),ip=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ge.c)(e,t),e.prototype.initialize=function(e){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ah(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Gd(this.Xl.ga)];case 4:return n.sent(),[4,Ah(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Yc(this.persistence,new Wd,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new ju(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=Qc(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Lu.er(this.cacheSizeBytes):Lu.ir;return new Wc(this.synchronizeTabs,e,t.clientId,n,t.di,ku(),Iu(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new od},e}(rp),op=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ge.c)(e,t),e.prototype.initialize=function(e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof id?(this.kh.ga={_h:Ld.bind(null,n),fh:Vd.bind(null,n),dh:Ud.bind(null,n),Ic:Fd.bind(null,n),lh:Dd.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo((function(t){return Object(ge.b)(r,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,jd(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=ku();if(!id.Gs(e))throw new Lo(Do.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qc(t.Fl.t,t.Fl.persistenceKey);return new id(e,t.di,n,t.clientId,t.Yl)},e}(ip),sp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n=this;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return yd(n.ga,t,1)},this.Oh.xu.s_=Ad.bind(null,this.ga),[4,Mh(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new qh},t.prototype.Zl=function(t){var e=uu(t.Fl.t),n=new tp(t.Fl);return function(t,e,n){return new dh(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return yd(s.ga,t,0)},o=ep.Gs()?new ep:new np,new fh(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new hd(t,e,n,r,i,o);return s&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(ge.b)(this,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(n){switch(n.label){case 0:return e=No(t),ko("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,mh(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),ap=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),lp=function(t){this.o_=t};function up(t,e,n){if(!n)throw new Lo(Do.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Lo(Do.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hp(t,e,n,r){if(!0===e&&!0===r)throw new Lo(Do.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function dp(t){if(!$o.ot(t))throw new Lo(Do.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function pp(t){if($o.ot(t))throw new Lo(Do.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function fp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ao()}function gp(t,e){if(t instanceof lp&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Lo(Do.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fp(t);throw new Lo(Do.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function mp(t,e){if(e<=0)throw new Lo(Do.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var yp=function(t){this.c_=t},bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(yp);function vp(t,e,n){return new Sf({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.u_=function(t){return new tl(t.path,new Ka)},e.prototype.isEqual=function(t){return t instanceof e},e}(yp),_p=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(ge.c)(e,t),e.prototype.u_=function(t){var e=vp(this,t,!0),n=this.f_.map((function(t){return Pf(t,e)})),r=new Ba(n);return new tl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(yp),Cp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(ge.c)(e,t),e.prototype.u_=function(t){var e=vp(this,t,!0),n=this.f_.map((function(t){return Pf(t,e)})),r=new Qa(n);return new tl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(yp),Sp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(ge.c)(e,t),e.prototype.u_=function(t){var e=new Ya(t.serializer,da(t.serializer,this.d_));return new tl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(yp),Tp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lo(Do.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lo(Do.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return Go(this.w_,t.w_)||Go(this.E_,t.E_)},t}(),Ep=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(ss.fromBase64String(e))}catch(e){throw new Lo(Do.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ss.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),kp=new Map,Ip=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Lo(Do.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lo(Do.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,hp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Op=function(){function t(t,e){this.I_="(lite)",this.m_=new Ip({}),this.A_=!1,t instanceof Co?(this.R_=t,this.P_=new Ro):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Lo(Do.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(t.options.projectId)}(t),this.P_=new Mo(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new Lo(Do.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new Lo(Do.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new Ip(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new Ro;switch(t.type){case"gapi":var e=t.client;return xo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Lo(Do.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=kp.get(t);e&&(ko("ComponentProvider","Removing Datastore"),kp.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Pp(){if("undefined"==typeof Uint8Array)throw new Lo(Do.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ap(){if("undefined"==typeof atob)throw new Lo(Do.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.fromBase64String=function(t){return Ap(),new e(Ep.fromBase64String(t))},e.fromUint8Array=function(t){return Pp(),new e(Ep.fromUint8Array(t))},e.prototype.toBase64=function(){return Ap(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Pp(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(lp),Np=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),Bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zs(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(ta(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw Ao()}},t.prototype.L_=function(t,e){var n=this,r={};return qs(t.fields||{},(function(t,i){r[t]=n.C_(i,e)})),r},t.prototype.M_=function(t){return new Tp(Zs(t.latitude),Zs(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.C_(t,e)}))},t.prototype.x_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Ws(n)?t(n):n}(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(Hs(t));default:return null}},t.prototype.N_=function(t){var e=Xs(t);return new Ko(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=Qo.Y(t);xo(Ua(n));var r=new Co(n.get(1),n.get(3)),i=new $o(n.B(5));return r.isEqual(e)||Io("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Dp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ge.c)(e,t),e.prototype.F_=function(t){return new xp(new Ep(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return ag.q_(e,this.firestore,null)},e}(Np),Lp=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $p(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new jp(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(Rp("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Lp);function Rp(t,e){return"string"==typeof e?jf(t,e):e instanceof lp?e.o_.G_:e.G_}var Mp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Lo(Do.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new Yo(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),Fp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Pu,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(ge.c)(e,t),e.prototype.D_=function(){return this.H_||ig(this),this.H_.terminate()},e}(Op);function Vp(t,e,n){var r=this,i=new lu;return t.di.enqueue((function(){return Object(ge.b)(r,void 0,void 0,(function(){var r;return Object(ge.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,qf(t,n)];case 1:return o.sent(),[4,Gf(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Do.FAILED_PRECONDITION||t.code===Do.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Up(t){if(t.y_||t.V_)throw new Lo(Do.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var qp=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).U_=e,a.J_=e,a.metadata=o,a}return Object(ge.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new Gp(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(Rp("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(Lp),Gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(qp),Wp=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new hg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach((function(r){t.call(e,new Gp(n.U_,n.Q_,r.key,r,new hg(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new Lo(Do.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map((function(e){return{type:"added",doc:new Gp(t.U_,t.Q_,e.doc.key,e.doc,new hg(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}}))}var r=t.Y_.te;return t.Y_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Gp(t.U_,t.Q_,e.doc.key,e.doc,new hg(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Hp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.Z_=e),this.X_},t}();function Hp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ao()}}function Kp(t,e){return t instanceof qp&&e instanceof qp?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof Wp&&e instanceof Wp&&t.U_===e.U_&&yf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var Bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ge.c)(e,t),e.prototype.F_=function(t){return new Ep(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new $p(this.firestore,null,e)},e}(Np);function zp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=gp(t.firestore,Fp),s=bf(o);return e instanceof lp&&(e=e.o_),Jp(o,("string"==typeof e||e instanceof Mp?If(s,"updateDoc",t.K_,e,n,r):kf(s,"updateDoc",t.K_,e)).ef(t.K_,nl.exists(!0)))}function Qp(t){for(var e,n,r,i=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var a={includeMetadataChanges:!1},l=0;"object"!=typeof o[l]||cu(o[l])||(a=o[l],l++);var u,c,h,d={includeMetadataChanges:a.includeMetadataChanges};if(cu(o[l])){var p=o[l];o[l]=null===(e=p.next)||void 0===e?void 0:e.bind(p),o[l+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[l+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof $p)c=gp(t.firestore,Fp),h=Il(t.K_.path),u={next:function(e){o[l]&&o[l](Yp(c,t,e))},error:o[l+1],complete:o[l+2]};else{c=gp(t.firestore,Fp),h=t.tf;var f=new Bp(c);u={next:function(e){o[l]&&o[l](new Wp(c,f,t,e))},error:o[l+1],complete:o[l+2]},hf(t.tf)}var g=rg(c),m=new ap(u),y=new zh(h,m,d);return c.z_.Ri((function(){return Object(ge.b)(i,void 0,void 0,(function(){var t;return Object(ge.d)(this,(function(e){switch(e.label){case 0:return t=Gh,[4,Jf(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))})),function(){m.r_(),c.z_.Ri((function(){return Object(ge.b)(i,void 0,void 0,(function(){var t;return Object(ge.d)(this,(function(e){switch(e.label){case 0:return t=Wh,[4,Jf(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))}))}}function Jp(t,e){return function(t,e){var n=this,r=new lu;return t.di.Ri((function(){return Object(ge.b)(n,void 0,void 0,(function(){var n;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return n=gd,[4,Qf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(rg(t),e)}function Yp(t,e,n){var r=n.docs.get(e.K_),i=new Bp(t);return new qp(t,i,e.K_,r,new hg(n.hasPendingWrites,n.fromCache),e.j_)}var $p=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new df(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Xp=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),Zp=function(){};function tf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.sf(t)}return t}var ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(ge.c)(e,t),e.prototype.sf=function(t){var e=bf(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new Lo(Do.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){uf(s,o);for(var l=[],u=0,c=s;u<c.length;u++)l.push(lf(r,t,c[u]));a={arrayValue:{values:l}}}else a=lf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||uf(s,o),a=Of(n,"where",s,"in"===o||"not-in"===o);var h=ql.create(i,o,a);return function(t,e){if(e.An()){var n=xl(t);if(null!==n&&!n.isEqual(e.field))throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Al(t);null!==r&&cf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Lo(Do.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Xp(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new El(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(Zp),nf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(ge.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new tu(e,n);return function(t,e){if(null===Al(t)){var n=xl(t);null!==n&&cf(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Xp(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new El(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(Zp),rf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(ge.c)(e,t),e.prototype.sf=function(t){return new Xp(t.firestore,t.j_,jl(t.tf,this.hf,this.lf))},e}(Zp),of=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(ge.c)(e,t),e.prototype.sf=function(t){var e=af(t,this.type,this._f,this.ff);return new Xp(t.firestore,t.j_,function(t,e){return new El(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(Zp),sf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(ge.c)(e,t),e.prototype.sf=function(t){var e=af(t,this.type,this._f,this.ff);return new Xp(t.firestore,t.j_,function(t,e){return new El(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(Zp);function af(t,e,n,r){if(n[0]instanceof lp&&(n[0]=n[0].o_),n[0]instanceof Lp)return function(t,e,n,r,i){if(!r)throw new Lo(Do.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Dl(t);s<a.length;s++){var l=a[s];if(l.field.tt())o.push(ea(e,r.key));else{var u=r.field(l.field);if(Ws(u))throw new Lo(Do.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=l.field.J();throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Yl(o,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=bf(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new Lo(Do.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<i.length;l++){var u=i[l];if(s[l].field.tt()){if("string"!=typeof u)throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Nl(t)&&-1!==u.indexOf("/"))throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=t.path.child(Qo.Y(u));if(!$o.ot(c))throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new $o(c);a.push(ea(e,h))}else{var d=Of(n,r,u);a.push(d)}}return new Yl(a,o)}(t.tf,t.firestore.R_,i,e,n,r)}function lf(t,e,n){if(n instanceof lp&&(n=n.o_),"string"==typeof n){if(""===n)throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nl(e)&&-1!==n.indexOf("/"))throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Qo.Y(n));if(!$o.ot(r))throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ea(t,new $o(r))}if(n instanceof $p)return ea(t,n.K_);throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fp(n)+".")}function uf(t,e){if(!Array.isArray(t)||0===t.length)throw new Lo(Do.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Lo(Do.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function cf(t,e,n){if(!n.isEqual(e))throw new Lo(Do.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function hf(t){if(Pl(t)&&0===t.Tn.length)throw new Lo(Do.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var df=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Il(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(ge.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new $p(this.firestore,null,new $o(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(Xp);function pf(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(up("collection","path",e),t instanceof Op){var i=Qo.Y.apply(Qo,Object(ge.g)([e],n));return pp(i),new df(t,null,i)}if(!(t instanceof $p||t instanceof df))throw new Lo(Do.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=Qo.Y.apply(Qo,Object(ge.g)([t.path],n)).child(Qo.Y(e));return pp(o),new df(t.firestore,null,o)}function ff(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=qo.D()),up("doc","path",e),t instanceof Op){var i=Qo.Y.apply(Qo,Object(ge.g)([e],n));return dp(i),new $p(t,null,new $o(i))}if(!(t instanceof $p||t instanceof df))throw new Lo(Do.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.nf.child(Qo.Y.apply(Qo,Object(ge.g)([e],n)));return dp(o),new $p(t.firestore,t instanceof df?t.j_:null,new $o(o))}var gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ge.c)(e,t),e.prototype.F_=function(t){return new Ep(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new $p(this.firestore,null,e)},e}(Np);function mf(t,e){return(t instanceof $p||t instanceof df)&&(e instanceof $p||e instanceof df)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function yf(t,e){return t instanceof Xp&&e instanceof Xp&&t.firestore===e.firestore&&Rl(t.tf,e.tf)&&t.j_===e.j_}function bf(t){var e=t.S_(),n=uu(t.R_);return new Tf(t.R_,!!e.ignoreUndefinedProperties,n)}var vf=/^__.*__$/,wf=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new hl(t,this.data,this.en,e):new cl(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new pl(t,this.fieldTransforms)),n},t}(),_f=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new hl(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new pl(t,this.fieldTransforms)),n},t}();function Cf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ao()}}var Sf=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return Rf(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Cf(this.a_)&&vf.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Tf=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||uu(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Sf({a_:t,methodName:e,l_:n,path:Yo.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Ef(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Rf(o.merge||o.mergeFields?2:0,e,n,i);Nf("Data must be an object, but it was:",s,r);var a,l,u=Af(r,s);if(o.merge)a=new Za(s.en),l=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,d=o.mergeFields;h<d.length;h++){var p=Df(e,d[h],n);if(!s.contains(p))throw new Lo(Do.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Mf(c,p)||c.push(p)}a=new Za(c),l=s.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,l=s.fieldTransforms;return new wf(new bl(u),a,l)}function kf(t,e,n,r){var i=t.Rf(1,e,n);Nf("Data must be an object, but it was:",i,r);var o=[],s=new vl;qs(r,(function(t,r){var a=jf(e,t,n);r instanceof lp&&(r=r.o_);var l=i.If(a);if(r instanceof bp)o.push(a);else{var u=Pf(r,l);null!=u&&(o.push(a),s.set(a,u))}}));var a=new Za(o);return new _f(s.hn(),a,i.fieldTransforms)}function If(t,e,n,r,i,o){var s=t.Rf(1,e,n),a=[Df(e,r,n)],l=[i];if(o.length%2!=0)throw new Lo(Do.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(Df(e,o[u])),l.push(o[u+1]);for(var c=[],h=new vl,d=a.length-1;d>=0;--d)if(!Mf(c,a[d])){var p=a[d],f=l[d];f instanceof lp&&(f=f.o_);var g=s.If(p);if(f instanceof bp)c.push(p);else{var m=Pf(f,g);null!=m&&(c.push(p),h.set(p,m))}}var y=new Za(c);return new _f(h.hn(),y,s.fieldTransforms)}function Of(t,e,n,r){return void 0===r&&(r=!1),Pf(n,t.Rf(r?4:3,e))}function Pf(t,e){if(t instanceof lp&&(t=t.o_),xf(t))return Nf("Unsupported field value:",e,t),Af(t,e);if(t instanceof yp)return function(t,e){if(!Cf(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Pf(o[i],e.mf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof lp&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return da(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ko.fromDate(t);return{timestampValue:pa(e.serializer,n)}}if(t instanceof Ko){var r=new Ko(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pa(e.serializer,r)}}if(t instanceof Tp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ep)return{bytesValue:fa(e.serializer,t.T_)};if(t instanceof $p){var i=e.t,o=t.firestore.R_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ya(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+fp(t))}(t,e)}function Af(t,e){var n={};return Gs(t)?e.path&&e.path.length>0&&e.en.push(e.path):qs(t,(function(t,r){var i=Pf(r,e.Ef(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function xf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ko||t instanceof Tp||t instanceof Ep||t instanceof $p||t instanceof yp)}function Nf(t,e,n){if(!xf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=fp(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function Df(t,e,n){if(e instanceof lp&&(e=e.o_),e instanceof Mp)return e.G_;if("string"==typeof e)return jf(t,e);throw Rf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Lf=new RegExp("[~\\*/\\[\\]]");function jf(t,e,n){if(e.search(Lf)>=0)throw Rf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Mp.bind.apply(Mp,Object(ge.g)([void 0],e.split("."))))).G_}catch(r){throw Rf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rf(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(o||s)&&(l+=" (found",o&&(l+=" in field "+r),s&&(l+=" in document "+i),l+=")"),new Lo(Do.INVALID_ARGUMENT,(a+=". ")+t+l)}function Mf(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ff=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(ge.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ge.d)(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new Lo(Do.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(ge.d)(this,(function(l){switch(l.label){case 0:return n=No(t),r=Sa(n.serializer)+"/documents",i={documents:e.map((function(t){return va(n.serializer,t)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return o=l.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){xo(!!e.found);var n=wa(t,e.found.name),r=ma(e.found.updateTime),i=new bl({mapValue:{fields:e.found.fields}});return new Cl(n,r,i,{})}(t,e):"missing"in e?function(t,e){xo(!!e.missing),xo(!!e.readTime);var n=wa(t,e.missing),r=ma(e.readTime);return new Sl(n,r)}(t,e):Ao()}(n.serializer,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());xo(!!e),a.push(e)})),a)]}}))}))}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Sl||t instanceof Cl?n.bf(t):Ao()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new ml(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(ge.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ge.d)(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=$o.st(n);e.mutations.push(new yl(r,e.rn(r)))})),[4,function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ge.d)(this,(function(o){switch(o.label){case 0:return n=No(t),r=Sa(n.serializer)+"/documents",i={writes:e.map((function(t){return ka(n.serializer,t)}))},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},t.prototype.bf=function(t){var e;if(t instanceof Cl)e=t.version;else{if(!(t instanceof Sl))throw Ao();e=Bo.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Lo(Do.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?nl.updateTime(e):nl.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(Bo.min()))throw new Lo(Do.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nl.updateTime(e)}return nl.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),Vf=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new mu(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs((function(){return Object(ge.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(ge.d)(this,(function(r){return t=new Ff(this.Nu),(e=this.Nf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.xf(t)}))}))})).catch((function(t){n.xf(t)})),[2]}))}))}))},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!Xo(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri((function(){return e.Cf(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!hs(e)}return!1},t}(),Uf=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=So.UNAUTHENTICATED,this.clientId=qo.D(),this.Of=function(){},this.g=new lu,this.credentials.A((function(t){ko("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then((function(){return e.Of(e.user)}))},t.prototype.kf=function(){if(this.di.Ci)throw new Lo(Do.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new lu;return this.di.Ni((function(){return Object(ge.b)(t,void 0,void 0,(function(){var t,n;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Au(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function qf(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),ko("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return Object(ge.b)(r,void 0,void 0,(function(){return Object(ge.d)(this,(function(t){switch(t.label){case 0:return[4,$c(e.Cu,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.tc((function(){return t.terminate()})),t.Lf=e,[2]}}))}))}function Gf(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,Wf(t)];case 1:return n=i.sent(),ko("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return function(t,e){return Object(ge.b)(this,void 0,void 0,(function(){var n,r;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return(n=No(t)).di.Li(),ko("RemoteStore","RemoteStore received new credentials"),r=Sh(n),n.Mu.add(3),[4,mh(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,gh(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t.$f=e,[2]}}))}))}function Wf(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return t.Lf?[3,2]:(ko("FirestoreClient","Using default OfflineComponentProvider"),[4,qf(t,new rp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}}))}))}function Hf(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(ko("FirestoreClient","Using default OnlineComponentProvider"),[4,Gf(t,new sp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function Kf(t){return Wf(t).then((function(t){return t.persistence}))}function Bf(t){return Wf(t).then((function(t){return t.Cu}))}function zf(t){return Hf(t).then((function(t){return t.Oh}))}function Qf(t){return Hf(t).then((function(t){return t.ga}))}function Jf(t){return Object(ge.b)(this,void 0,void 0,(function(){var e,n;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return[4,Hf(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=dd.bind(null,e.ga),n.Zu=fd.bind(null,e.ga),n)]}}))}))}function Yf(t,e,n,r,i){var o=new ap({next:function(o){e.Ri((function(){return Wh(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Lo(Do.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Lo(Do.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new zh(Il(n.path),o,{includeMetadataChanges:!0,oa:!0});return Gh(t,s)}function $f(t,e,n,r,i){var o=new ap({next:function(n){e.Ri((function(){return Wh(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Lo(Do.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new zh(n,o,{includeMetadataChanges:!0,oa:!0});return Gh(t,s)}var Xf=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=bf(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=Zf(t,this.U_),i=vg(r.j_,e,n),o=Ef(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,nl.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,s=Zf(t,this.U_);return e instanceof lp&&(e=e.o_),o="string"==typeof e||e instanceof Mp?If(this.Qf,"WriteBatch.update",s.K_,e,n,r):kf(this.Qf,"WriteBatch.update",s.K_,e),this.qf=this.qf.concat(o.ef(s.K_,nl.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=Zf(t,this.U_);return this.qf=this.qf.concat(new ml(e.K_,nl.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new Lo(Do.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Zf(t,e){if(t instanceof lp&&(t=t.o_),t.firestore!==e)throw new Lo(Do.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var tg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(ge.c)(e,t),e.prototype.get=function(e){var n=this,r=Zf(e,this.U_),i=new Bp(this.U_);return t.prototype.get.call(this,e).then((function(t){return new qp(n.U_,i,r.K_,t.W_,new hg(!1,!1),r.j_)}))},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=bf(t)}return t.prototype.get=function(t){var e=this,n=Zf(t,this.U_),r=new gf(this.U_);return this.Wf.pf([n.K_]).then((function(t){if(!t||1!==t.length)return Ao();var i=t[0];if(i instanceof Sl)return new Lp(e.U_,r,n.K_,null,n.j_);if(i instanceof Cl)return new Lp(e.U_,r,i.key,i,n.j_);throw Ao()}))},t.prototype.set=function(t,e,n){var r=Zf(t,this.U_),i=vg(r.j_,e,n),o=Ef(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Zf(t,this.U_);return e instanceof lp&&(e=e.o_),o="string"==typeof e||e instanceof Mp?If(this.Qf,"Transaction.update",s.K_,e,n,r):kf(this.Qf,"Transaction.update",s.K_,e),this.Wf.update(s.K_,o),this},t.prototype.delete=function(t){var e=Zf(t,this.U_);return this.Wf.delete(e.K_),this},t}()),eg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Up(t);var n=rg(t),r=t.S_(),i=new sp;return Vp(n,i,new ip(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Up(t);var e=rg(t),n=t.S_(),r=new sp;return Vp(e,r,new op(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new Lo(Do.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new lu;return t.z_.Ni((function(){return Object(ge.b)(e,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ge.b)(this,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return yu.Gs()?[4,yu.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Qc(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),ng=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Co||(i.Gf=e),i}return Object(ge.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(ge.b)(e,void 0,void 0,(function(){var e,n;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return[4,Kf(t)];case 1:return e=r.sent(),[4,zf(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=No(t);return e.Mu.delete(0),gh(e)}(n))]}}))}))}))}(rg(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(ge.b)(e,void 0,void 0,(function(){var e,n;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return[4,Kf(t)];case 1:return e=r.sent(),[4,zf(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(ge.b)(this,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(n){switch(n.label){case 0:return(e=No(t)).Mu.add(0),[4,mh(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(rg(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&hp("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new lu;return t.di.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){var e;return Object(ge.d)(this,(function(r){switch(r.label){case 0:return e=_d,[4,Qf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(rg(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=rg(t),i=cu(e)?e:{next:e},o=new ap(i);return t.z_.Ri((function(){return Object(ge.b)(n,void 0,void 0,(function(){var t;return Object(ge.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){No(t).Hu.add(e),e.next()},[4,Jf(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}}))}))})),function(){o.r_(),t.z_.Ri((function(){return Object(ge.b)(n,void 0,void 0,(function(){var t;return Object(ge.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){No(t).Hu.delete(e)},[4,Jf(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new Lo(Do.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yg(this,pf(this.o_,t))}catch(t){throw lg(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ag(this,ff(this.o_,t))}catch(t){throw lg(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new fg(this,function(t,e){if(up("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lo(Do.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xp(t,null,function(t){return new El(Qo.X(),t)}(e))}(this.o_,t))}catch(t){throw lg(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new lu;return t.di.Ri((function(){return Object(ge.b)(n,void 0,void 0,(function(){var n;return Object(ge.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Hf(t).then((function(t){return t.Nu}))}(t)];case 1:return n=i.sent(),new Vf(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(rg(t),(function(n){return e(new tg(t,n))}))}(this.o_,(function(n){return t(new og(e,n))}))},e.prototype.batch=function(){var t=this;return rg(this.o_),new sg(new Xf(this.o_,(function(e){return Jp(t.o_,e)})))},e}(lp);function rg(t){return t.H_||ig(t),t.H_.kf(),t.H_}function ig(t){var e=t.S_(),n=function(t,e,n){return new _o(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new Uf(t.P_,t.z_,n)}var og=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ge.c)(e,t),e.prototype.get=function(t){var e=this,n=bg(t);return this.o_.get(n).then((function(t){return new dg(e.U_,t)}))},e.prototype.set=function(t,e,n){var r=bg(t);return n?(cp("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=bg(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(ge.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=bg(t);return this.o_.delete(e),this},e}(lp),sg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.set=function(t,e,n){var r=bg(t);return n?(cp("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=bg(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(ge.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=bg(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(lp),ag=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new Dp(e),r}return Object(ge.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new Lo(Do.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new $p(n.o_,r,new $o(t)))},e.q_=function(t,n,r){return new e(n,new $p(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yg(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yg(this.firestore,pf(this.o_,t))}catch(t){throw lg(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof lp&&(t=t.o_),t instanceof $p&&mf(this.o_,t)},e.prototype.set=function(t,e){e=cp("DocumentReference.set",e);try{return function(t,e,n){var r=gp(t.firestore,Fp),i=vg(t.j_,e,n);return Jp(r,Ef(bf(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,nl.on()))}(this.o_,t,e)}catch(t){throw lg(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?zp(this.o_,t):zp.apply(void 0,Object(ge.g)([this.o_,t,e],n))}catch(t){throw lg(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Jp(gp((t=this.o_).firestore,Fp),[new ml(t.K_,nl.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ug(e),i=cg(e,(function(e){return new dg(t.firestore,new qp(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}));return Qp(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=gp(t.firestore,Fp),r=rg(n),i=new Bp(n),o=new lu;return n.z_.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,Bf(r)];case 1:return[4,function(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o;return Object(ge.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=No(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Oc.cs(t,e)}))}(t,e)];case 1:return(r=s.sent())instanceof Cl?n.resolve(r):r instanceof Sl?n.resolve(null):n.reject(new Lo(Do.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=Au(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))}(e.sent(),t.K_,o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new qp(n,i,t.K_,e,new hg(e instanceof Cl&&e.an,!0),t.j_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=gp(t.firestore,Fp),r=rg(n),i=new lu;return n.z_.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,Jf(r)];case 1:return[4,Yf(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Yp(n,t,e)}))}(this.o_):function(t){var e=this,n=gp(t.firestore,Fp),r=rg(n),i=new lu;return n.z_.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,Jf(r)];case 1:return[4,Yf(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Yp(n,t,e)}))}(this.o_)).then((function(t){return new dg(e.firestore,new qp(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(lp);function lg(t,e,n){return t.message=t.message.replace(e,n),t}function ug(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!cu(r))return r}return{}}function cg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=cu(t[0])?t[0]:cu(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),dg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ge.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ag(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Kp(this.o_,t.o_)},e}(lp),pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(dg),fg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(ge.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,tf(this.o_,function(t,e,n){var r=e,i=Rp("where",t);return new ef(i,r,n)}(t,n,r)))}catch(t){throw lg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,tf(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Rp("orderBy",t);return new nf(r,n)}(t,n)))}catch(t){throw lg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,tf(this.o_,function(t){return mp("limit",t),new rf("limit",t,"F")}(t)))}catch(t){throw lg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,tf(this.o_,function(t){return mp("limitToLast",t),new rf("limitToLast",t,"L")}(t)))}catch(t){throw lg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tf(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new of("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw lg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tf(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new of("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw lg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tf(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sf("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw lg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tf(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sf("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw lg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return yf(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=gp(t.firestore,Fp),r=rg(n),i=new Bp(n),o=new lu;return n.z_.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,Bf(r)];case 1:return[4,function(t,e,n){return Object(ge.b)(this,void 0,void 0,(function(){var r,i,o,s,a,l;return Object(ge.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ih(t,e,!0)];case 1:return r=u.sent(),i=new ld(e,r.Bc),o=i.gh(r.documents),s=i.Zn(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=u.sent(),l=Au(a,"Failed to execute query '"+e+" against cache"),n.reject(l),[3,3];case 3:return[2]}}))}))}(e.sent(),t.tf,o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new Wp(n,i,t,e)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=gp(t.firestore,Fp),r=rg(n),i=new Bp(n),o=new lu;return n.z_.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,Jf(r)];case 1:return[4,$f(e.sent(),n.z_,t.tf,{source:"server"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new Wp(n,i,t,e)}))}(this.o_):function(t){var e=this,n=gp(t.firestore,Fp),r=rg(n),i=new Bp(n);hf(t.tf);var o=new lu;return n.z_.Ri((function(){return Object(ge.b)(e,void 0,void 0,(function(){return Object(ge.d)(this,(function(e){switch(e.label){case 0:return[4,Jf(r)];case 1:return[4,$f(e.sent(),n.z_,t.tf,{source:"default"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new Wp(n,i,t,e)}))}(this.o_)).then((function(t){return new mg(e.firestore,t)}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ug(e),i=cg(e,(function(e){return new mg(t.firestore,e)}));return Qp(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(lp),gg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ge.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new pg(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(lp),mg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ge.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new fg(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new pg(t.U_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new gg(e.U_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new pg(n.U_,r))}))},e.prototype.isEqual=function(t){return Kp(this.o_,t.o_)},e}(lp),yg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(ge.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new ag(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ag(this.firestore,void 0===t?ff(this.o_):ff(this.o_,t))}catch(t){throw lg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=gp(t.firestore,Fp),r=ff(t),i=vg(t.j_,e);return Jp(n,Ef(bf(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,nl.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new ag(e.firestore,t)}))},e.prototype.isEqual=function(t){return mf(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(fg);function bg(t){return t instanceof lp&&(t=t.o_),gp(t,$p)}function vg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var wg,_g=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Mp.bind.apply(Mp,Object(ge.g)([void 0],e))))||this}return Object(ge.c)(e,t),e.documentId=function(){return new e(Yo.et().J())},e.prototype.isEqual=function(t){return t instanceof lp&&(t=t.o_),t instanceof Mp&&this.o_.G_.isEqual(t.G_)},e}(lp),Cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ge.c)(e,t),e.serverTimestamp=function(){var t=new wp("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bp("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _p("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cp("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Sp("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(lp),Sg={Firestore:ng,GeoPoint:Tp,Timestamp:Ko,Blob:xp,Transaction:og,WriteBatch:sg,DocumentReference:ag,DocumentSnapshot:dg,Query:fg,QueryDocumentSnapshot:pg,QuerySnapshot:mg,CollectionReference:yg,FieldPath:_g,FieldValue:Cg,setLogLevel:function(t){To.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new wo.a("firestore",(function(t){return function(t,e){return new ng(t,new Fp(t,e),new eg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Sg)))})(wg=me.a),wg.registerVersion("@firebase/firestore","2.0.4");var Tg=n("Jgta"),Eg=n("XNiG"),kg=n("VRyK"),Ig=n("zx2A");function Og(t,e){return"function"==typeof e?n=>n.pipe(Og((n,r)=>Object(ce.a)(t(n,r)).pipe(Object(Pt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Pg(t))}class Pg{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ag(t,this.project))}}class Ag extends Ig.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ig.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ig.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}n("qgXg");var xg=n("quSY"),Ng=n("9ppp");n("Ylt2");const Dg=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Lg=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var jg=n("EY2u");function Rg(t){return e=>0===t?Object(jg.b)():e.lift(new Mg(t))}class Mg{constructor(t){if(this.total=t,this.total<0)throw new Lg}call(t,e){return e.subscribe(new Fg(t,this.total))}}class Fg extends Et.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Vg(t=null){return e=>e.lift(new Ug(t))}class Ug{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new qg(t,this.defaultValue))}}class qg extends Et.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Gg(t=Kg){return e=>e.lift(new Wg(t))}class Wg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Hg(t,this.errorFactory))}}class Hg extends Et.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Kg(){return new Dg}var Bg=n("SpAZ");function zg(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kt((e,n)=>t(e,n,r)):Bg.a,Rg(1),n?Vg(e):Gg(()=>new Dg))}const Qg=new r.q("angularfire2.auth.use-emulator");function Jg(t,e){return function(t,e=ue.a){return new Ct.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Yg(t,e){return Jg(t,e).pipe(Object(Pt.a)(t=>({payload:t,type:"query"})))}function $g(t,e){return Yg(t,e).pipe(Object(Pt.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Xg(t,e,n){return Yg(t,n).pipe(Object(Pt.a)(t=>t.payload.docChanges()),he((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(Pt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Zg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class tm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?$g(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):$g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(he((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Zg(t);return Xg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Yg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ce.a)(this.query.get(t)).pipe(Object(fe.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new em(this.ref.doc(t),this.afs)}}class em{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=am(n,e);return new tm(r,i,this.afs)}snapshotChanges(){return Jg(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Pt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ce.a)(this.ref.get(t)).pipe(Object(fe.b)(this.afs.schedulers.insideAngular))}}class nm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$g(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):$g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(he((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Zg(t);return Xg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Yg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ce.a)(this.query.get(t)).pipe(Object(fe.b)(this.afs.schedulers.insideAngular))}}const rm=new r.q("angularfire2.enableFirestorePersistence"),im=new r.q("angularfire2.firestore.persistenceSettings"),om=new r.q("angularfire2.firestore.settings"),sm=new r.q("angularfire2.firestore.use-emulator");function am(t,e=(t=>t)){return{query:e(t),ref:t}}let lm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,l){this.schedulers=new le.d(o),this.keepUnstableUntilFirst=Object(le.h)(this.schedulers);const u=Object(le.g)(t,o,e);!Tg.a.auth&&l&&Object(le.j)();const c=a;[this.firestore,this.persistenceEnabled$]=Object(le.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=o.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),c&&t.useEmulator(...c),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(ce.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(_t.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(_t.a)(!1)]},[r,c,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=am(n,e),o=this.schedulers.ngZone.run(()=>r);return new tm(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new nm(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new em(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(le.c),r.Pb(le.b,8),r.Pb(rm,8),r.Pb(om,8),r.Pb(r.B),r.Pb(r.z),r.Pb(im,8),r.Pb(sm,8),r.Pb(Qg,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(le.c),Object(r.Pb)(le.b,8),Object(r.Pb)(rm,8),Object(r.Pb)(om,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(im,8),Object(r.Pb)(sm,8),Object(r.Pb)(Qg,8))},token:t,providedIn:"any"}),t})(),um=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:rm,useValue:!0},{provide:im,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[lm]}),t})();var cm=n("w1tV");class hm{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new dm(t,this.compare,this.keySelector))}}class dm extends Et.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class pm extends Et.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class fm extends Et.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var gm=n("SeVD");function mm(t,e,n,r,i=new fm(t,n,r)){if(!i.closed)return e instanceof Ct.a?e.subscribe(i):Object(gm.a)(e)(i)}class ym{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new bm(t,this.observables,this.project))}}class bm extends pm{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(mm(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class vm{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new wm(t,this.predicate))}}class wm extends Et.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function _m(t){return null==t}function Cm(t){return"function"==typeof t.set}function Sm(t,e){return Cm(e)?e:t.ref(e)}function Tm(t,e){if("string"==typeof t)return e.stringCase();if(Cm(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Em(t,e,n="on",r=ue.a){return new Ct.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(Pt.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(cm.a)())}function km(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Im(t,e){const{payload:n,prevKey:r,key:i}=e,o=km(t,i),s=function(t,e){if(_m(e))return 0;{const n=km(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function Om(t){return(_m(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Pm(t,e,n){return function(t,e,n){return Em(t,"value","once",n).pipe(Og(r=>{const i=[Object(_t.a)(r)];return e.forEach(e=>i.push(Em(t,e,"on",n))),Object(kg.a)(...i).pipe(he(Im,[]))}),t=>t.lift(new hm(void 0,void 0)))}(t,e=Om(e),n)}function Am(t,e,n){const r=(e=Om(e)).map(e=>Em(t,e,"on",n));return Object(kg.a)(...r)}function xm(t,e){return function(n,r){return Tm(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function Nm(t,e){return function(){return Em(t,"value","on",e)}}n("6Uf2");const Dm=new r.q("angularfire2.realtimeDatabaseURL"),Lm=new r.q("angularfire2.database.use-emulator");let jm=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new le.d(i),this.keepUnstableUntilFirst=Object(le.h)(this.schedulers);const a=o,l=Object(le.g)(t,i,e);!Tg.a.auth&&s&&Object(le.j)(),this.database=Object(le.f)(`${l.name}.database.${n}`,"AngularFireDatabase",l,()=>{const t=i.runOutsideAngular(()=>l.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>Sm(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:xm(r,"update"),set:xm(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?Tm(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>Pm(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>Am(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return Em(t,"value","on",e).pipe(Object(Pt.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new ym(t,n))}}(e),Object(Pt.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new vm(r))),Object(Pt.a)(t=>t.actions));var r}(t,Am(t,e).pipe(he((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>Pm(t,r,n).pipe(Object(Pt.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>Sm(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>Nm(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Nm(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(Pt.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(le.c),r.Pb(le.b,8),r.Pb(Dm,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Lm,8),r.Pb(Qg,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(le.c),Object(r.Pb)(le.b,8),Object(r.Pb)(Dm,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Lm,8),Object(r.Pb)(Qg,8))},token:t,providedIn:"any"}),t})(),Rm=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[jm]}),t})();var Mm=n("DH7j"),Fm=n("XoHu");function Vm(t,e){return new Ct.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=Object(ce.a)(t[a]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Um=new r.q("NgValueAccessor"),qm={provide:Um,useExisting:Object(r.T)(()=>Gm),multi:!0};let Gm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([qm])]}),t})();const Wm={provide:Um,useExisting:Object(r.T)(()=>Km),multi:!0},Hm=new r.q("CompositionEventMode");let Km=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Hm,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([Wm])]}),t})(),Bm=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),zm=(()=>{class t extends Bm{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qm(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Qm=r.Nb(zm);class Jm extends Bm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Ym{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let $m=(()=>{class t extends Ym{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Jm,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Xm=(()=>{class t extends Ym{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zm,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function Zm(t){return null==t||0===t.length}function ty(t){return null!=t&&"number"==typeof t.length}const ey=new r.q("NgValidators"),ny=new r.q("NgAsyncValidators"),ry=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class iy{static min(t){return e=>{if(Zm(e.value)||Zm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Zm(e.value)||Zm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Zm(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Zm(t.value)||ry.test(t.value)?null:{email:!0}}static minLength(t){return e=>Zm(e.value)||!ty(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>ty(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return iy.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Zm(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(oy);return 0==e.length?null:function(t){return ay(ly(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(oy);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Mm.a)(e))return Vm(e,null);if(Object(Fm.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Vm(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Vm(t=1===t.length&&Object(Mm.a)(t[0])?t[0]:t,null).pipe(Object(Pt.a)(t=>e(...t)))}return Vm(t,null)}(ly(t,e).map(sy)).pipe(Object(Pt.a)(ay))}}}function oy(t){return null!=t}function sy(t){const e=Object(r.qb)(t)?Object(ce.a)(t):t;return Object(r.pb)(e),e}function ay(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ly(t,e){return e.map(e=>e(t))}function uy(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const cy={provide:Um,useExisting:Object(r.T)(()=>hy),multi:!0};let hy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([cy])]}),t})();const dy={provide:Um,useExisting:Object(r.T)(()=>fy),multi:!0};let py=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),fy=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Jm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(py),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([dy])]}),t})();const gy={provide:Um,useExisting:Object(r.T)(()=>my),multi:!0};let my=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([gy])]}),t})();const yy={provide:Um,useExisting:Object(r.T)(()=>vy),multi:!0};function by(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let vy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=by(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([yy])]}),t})(),wy=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(by(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(vy,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const _y={provide:Um,useExisting:Object(r.T)(()=>Sy),multi:!0};function Cy(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Sy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([_y])]}),t})(),Ty=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Cy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Cy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(Sy,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Ey(t,e){return[...e.path,t]}function ky(t,e){t.validator=iy.compose([t.validator,e.validator]),t.asyncValidator=iy.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Iy(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Iy(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Iy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oy(t,e){t.validator=iy.compose([t.validator,e.validator]),t.asyncValidator=iy.composeAsync([t.asyncValidator,e.asyncValidator])}function Py(t){return null!=t?iy.compose(uy(t)):null}function Ay(t){return null!=t?iy.composeAsync(uy(t)):null}function xy(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Ny=[Gm,my,hy,vy,Sy,fy];function Dy(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Ly(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Km?n=t:(e=t,Ny.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function jy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ry="VALID",My="INVALID",Fy="PENDING",Vy="DISABLED";function Uy(t){return(Hy(t)?t.validators:t)||null}function qy(t){return Array.isArray(t)?Py(t):t||null}function Gy(t,e){return(Hy(e)?e.asyncValidators:t)||null}function Wy(t){return Array.isArray(t)?Ay(t):t||null}function Hy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ky{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=qy(this._rawValidators),this._composedAsyncValidatorFn=Wy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ry}get invalid(){return this.status===My}get pending(){return this.status==Fy}get disabled(){return this.status===Vy}get enabled(){return this.status!==Vy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=qy(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Wy(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Fy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vy,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ry,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ry&&this.status!==Fy||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vy:Ry}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Fy,this._hasOwnPendingAsyncValidator=!0;const e=sy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof zy?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Qy&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Vy:this.errors?My:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fy)?Fy:this._anyControlsHaveStatus(My)?My:Ry}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Hy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class By extends Ky{constructor(t=null,e,n){super(Uy(e),Gy(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class zy extends Ky{constructor(t,e,n){super(Uy(e),Gy(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof By?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Qy extends Ky{constructor(t,e,n){super(Uy(e),Gy(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof By?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Jy={provide:zm,useExisting:Object(r.T)(()=>$y)},Yy=(()=>Promise.resolve(null))();let $y=(()=>{class t extends zm{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new zy({},Py(t),Ay(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Yy.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ky(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Yy.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),jy(this._directives,t)})}addFormGroup(t){Yy.then(()=>{const e=this._findContainer(t.path),n=new zy({});Oy(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Yy.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Yy.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Dy(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ey,10),r.Ib(ny,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Jy]),r.vb]}),t})();const Xy={provide:Jm,useExisting:Object(r.T)(()=>tb)},Zy=(()=>Promise.resolve(null))();let tb=(()=>{class t extends Jm{constructor(t,e,n,i){super(),this.control=new By,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Ly(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),xy(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ey(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Py(this._rawValidators)}get asyncValidator(){return Ay(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ky(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Zy.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Zy.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zm,9),r.Ib(ey,10),r.Ib(ny,10),r.Ib(Um,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Xy]),r.vb,r.wb]}),t})(),eb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const nb=new r.q("NgModelWithFormControlWarning"),rb={provide:zm,useExisting:Object(r.T)(()=>ib)};let ib=(()=>{class t extends zm{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ky(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){jy(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Oy(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Oy(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Dy(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ky(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Py(this._validators);this.form.validator=iy.compose([this.form.validator,t]);const e=Ay(this._asyncValidators);this.form.asyncValidator=iy.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ey,10),r.Ib(ny,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([rb]),r.vb,r.wb]}),t})();const ob={provide:Jm,useExisting:Object(r.T)(()=>sb)};let sb=(()=>{class t extends Jm{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Ly(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),xy(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ey(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Py(this._rawValidators)}get asyncValidator(){return Ay(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zm,13),r.Ib(ey,10),r.Ib(ny,10),r.Ib(Um,10),r.Ib(nb,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([ob]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})();const ab={provide:ey,useExisting:Object(r.T)(()=>lb),multi:!0};let lb=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?iy.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([ab])]}),t})();const ub={provide:ey,useExisting:Object(r.T)(()=>cb),multi:!0};let cb=(()=>{class t{constructor(){this._validator=iy.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=iy.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.xb([ub]),r.wb]}),t})(),hb=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),db=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new zy(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new By(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Qy(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof By||t instanceof zy||t instanceof Qy?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),pb=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[py],imports:[hb]}),t})(),fb=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:nb,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[db,py],imports:[hb]}),t})();class gb extends Eg.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ng.a;return this._value}next(t){super.next(this._value=t)}}var mb=n("z+Ro"),yb=n("yCtX");const bb={};class vb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new wb(t,this.resultSelector))}}class wb extends pm{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(bb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(mm(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===bb?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function _b(t){return new Ct.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ce.a)(n):Object(jg.b)()).subscribe(e)})}var Cb=n("bHdf");function Sb(){return Object(Cb.a)(1)}function Tb(t){return function(e){return 0===t?Object(jg.b)():e.lift(new Eb(t))}}class Eb{constructor(t){if(this.total=t,this.total<0)throw new Lg}call(t,e){return e.subscribe(new kb(t,this.total))}}class kb extends Et.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ib(...t){return Sb()(Object(_t.a)(...t))}function Ob(t){return function(e){const n=new Pb(t),r=e.lift(n);return n.caught=r}}class Pb{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ab(t,this.selector,this.caught))}}class Ab extends Ig.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ig.a(this);this.add(r);const i=Object(Ig.c)(n,r);i!==r&&this.add(i)}}}var xb=n("vkgz");class Nb{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Db(t,this.callback))}}class Db extends Et.a{constructor(t,e){super(t),this.add(new xg.a(e))}}class Lb{constructor(t,e){this.id=t,this.url=e}}class jb extends Lb{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rb extends Lb{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mb extends Lb{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fb extends Lb{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vb extends Lb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ub extends Lb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qb extends Lb{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gb extends Lb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wb extends Lb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bb{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zb{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qb{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jb{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yb{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $b="primary";class Xb{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zb(t){return new Xb(t)}function tv(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ev(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function nv(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!rv(t[i],e[i]))return!1;return!0}function rv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function iv(t){return Array.prototype.concat.apply([],t)}function ov(t){return t.length>0?t[t.length-1]:null}function sv(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function av(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(ce.a)(Promise.resolve(t)):Object(_t.a)(t)}function lv(t,e,n){return n?function(t,e){return nv(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!dv(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rv(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!dv(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!dv(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!dv(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class uv{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zb(this.queryParams)),this._queryParamMap}toString(){return mv.serialize(this)}}class cv{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sv(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yv(this)}}class hv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zb(this.parameters)),this._parameterMap}toString(){return Sv(this)}}function dv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function pv(t,e){let n=[];return sv(t.children,(t,r)=>{r===$b&&(n=n.concat(e(t,r)))}),sv(t.children,(t,r)=>{r!==$b&&(n=n.concat(e(t,r)))}),n}class fv{}class gv{parse(t){const e=new Ov(t);return new uv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return yv(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return sv(e.children,(e,n)=>{n!==$b&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=pv(e,(n,r)=>r===$b?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${yv(e)}/${n[0]}`:`${yv(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${vv(e)}=${vv(t)}`).join("&"):`${vv(e)}=${vv(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const mv=new gv;function yv(t){return t.segments.map(t=>Sv(t)).join("/")}function bv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vv(t){return bv(t).replace(/%3B/gi,";")}function wv(t){return bv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _v(t){return decodeURIComponent(t)}function Cv(t){return _v(t.replace(/\+/g,"%20"))}function Sv(t){return`${wv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${wv(t)}=${wv(e[t])}`).join("")}`;var e}const Tv=/^[^\/()?;=#]+/;function Ev(t){const e=t.match(Tv);return e?e[0]:""}const kv=/^[^=?&#]+/,Iv=/^[^?&#]+/;class Ov{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cv([],{}):new cv([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new cv(t,e)),n}parseSegment(){const t=Ev(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new hv(_v(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ev(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ev(this.remaining);t&&(n=t,this.capture(n))}t[_v(e)]=_v(n)}parseQueryParam(t){const e=function(t){const e=t.match(kv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Iv);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Cv(e),i=Cv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ev(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=$b);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new cv([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Av(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Av(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return xv(t,this._root).map(t=>t.value)}}function Av(t,e){if(t===e.value)return e;for(const n of e.children){const e=Av(t,n);if(e)return e}return null}function xv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xv(t,n);if(r.length)return r.unshift(e),r}return[]}class Nv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Dv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Lv extends Pv{constructor(t,e){super(t),this.snapshot=e,Uv(this,t)}toString(){return this.snapshot.toString()}}function jv(t,e){const n=function(t,e){const n=new Fv([],{},{},"",{},$b,e,null,t.root,-1,{});return new Vv("",new Nv(n,[]))}(t,e),r=new gb([new hv("",{})]),i=new gb({}),o=new gb({}),s=new gb({}),a=new gb(""),l=new Rv(r,i,s,a,o,$b,e,n.root);return l.snapshot=n.root,new Lv(new Nv(l,[]),n)}class Rv{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Pt.a)(t=>Zb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Pt.a)(t=>Zb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mv(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Fv{constructor(t,e,n,r,i,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vv extends Pv{constructor(t,e){super(e),this.url=t,Uv(this,e)}toString(){return qv(this._root)}}function Uv(t,e){e.value._routerState=t,e.children.forEach(e=>Uv(t,e))}function qv(t){const e=t.children.length>0?` { ${t.children.map(qv).join(", ")} } `:"";return`${t.value}${e}`}function Gv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),nv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),nv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Wv(t,e){return nv(t.params,e.params)&&function(t,e){return dv(t,e)&&t.every((t,n)=>nv(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Wv(t.parent,e.parent))}function Hv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Kv(t,e,n,r,i){let o={};return r&&sv(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new uv(n.root===t?e:function t(e,n,r){const i={};return sv(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new cv(e.segments,i)}(n.root,t,e),o,i)}class Bv{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Hv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==ov(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zv{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Qv(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Jv(t,e,n){if(t||(t=new cv([],{})),0===t.segments.length&&t.hasChildren())return Yv(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Qv(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!tw(s,a,e))return o;r+=2}else{if(!tw(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new cv(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new cv(t.segments.slice(r.pathIndex),t.children),Yv(e,0,i)}return r.match&&0===i.length?new cv(t.segments,{}):r.match&&!t.hasChildren()?$v(t,e,n):r.match?Yv(t,0,i):$v(t,e,n)}function Yv(t,e,n){if(0===n.length)return new cv(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[$b]:t}}(n),i={};return sv(r,(n,r)=>{null!==n&&(i[r]=Jv(t.children[r],e,n))}),sv(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new cv(t.segments,i)}}function $v(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Xv(n[i].outlets);return new cv(r,t)}if(0===i&&Hv(n[0])){r.push(new hv(t.segments[e].path,n[0])),i++;continue}const o=Qv(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Hv(s)?(r.push(new hv(o,Zv(s))),i+=2):(r.push(new hv(o,{})),i++)}return new cv(r,{})}function Xv(t){const e={};return sv(t,(t,n)=>{null!==t&&(e[n]=$v(new cv([],{}),0,t))}),e}function Zv(t){const e={};return sv(t,(t,n)=>e[n]=""+t),e}function tw(t,e,n){return t==n.path&&nv(e,n.parameters)}class ew{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Gv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Dv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),sv(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Dv(t),i=t.value.component?n.children:e;sv(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Dv(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Jb(t.value.snapshot))}),t.children.length&&this.forwardEvent(new zb(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Gv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),nw(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function nw(t){Gv(t.value),t.children.forEach(nw)}class rw{constructor(t,e){this.routes=t,this.module=e}}function iw(t){return"function"==typeof t}function ow(t){return t instanceof uv}const sw=Symbol("INITIAL_VALUE");function aw(){return Og(t=>function(...t){let e=void 0,n=void 0;return Object(mb.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Mm.a)(t[0])&&(t=t[0]),Object(yb.a)(t,n).lift(new vb(e))}(...t.map(t=>t.pipe(Rg(1),function(...t){const e=t[t.length-1];return Object(mb.a)(e)?(t.pop(),n=>Ib(t,n,e)):e=>Ib(t,e)}(sw)))).pipe(he((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==sw)return t;if(r===sw&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ow(r))return r}return t},t)},sw),kt(t=>t!==sw),Object(Pt.a)(t=>ow(t)?t:!0===t),Rg(1)))}class lw{constructor(t){this.segmentGroup=t||null}}class uw{constructor(t){this.urlTree=t}}function cw(t){return new Ct.a(e=>e.error(new lw(t)))}function hw(t){return new Ct.a(e=>e.error(new uw(t)))}function dw(t){return new Ct.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class pw{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,$b).pipe(Object(Pt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ob(t=>{if(t instanceof uw)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lw)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,$b).pipe(Object(Pt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ob(t=>{if(t instanceof lw)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new cv([],{[$b]:t}):t;return new uv(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Pt.a)(t=>new cv([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(_t.a)({});const n=[],r=[],i={};return sv(t,(t,o)=>{const s=e(o,t).pipe(Object(Pt.a)(t=>i[o]=t));o===$b?n.push(s):r.push(s)}),_t.a.apply(null,n.concat(r)).pipe(Sb(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kt((e,n)=>t(e,n,r)):Bg.a,Tb(1),n?Vg(e):Gg(()=>new Dg))}(),Object(Pt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(_t.a)(...n).pipe(Tt(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ob(t=>{if(t instanceof lw)return Object(_t.a)(null);throw t}))),zg(t=>!!t),Ob((t,n)=>{if(t instanceof Dg||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(_t.a)(new cv([],{}));throw new lw(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return yw(r)!==o?cw(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):cw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hw(i):this.lineralizeSegments(n,i).pipe(Object(St.a)(n=>{const i=new cv(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=fw(e,r,i);if(!s)return cw(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?hw(c):this.lineralizeSegments(r,c).pipe(Object(St.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Pt.a)(t=>(n._loadedConfig=t,new cv(r,{})))):Object(_t.a)(new cv(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=fw(e,n,r);if(!i)return cw(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(St.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>mw(t,e,n)&&yw(n)!==$b)}(t,n,r)?{segmentGroup:gw(new cv(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&yw(r)!==$b&&(n[yw(r)]=new cv([],{}));return n}(r,new cv(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>mw(t,e,n))}(t,n,r)?{segmentGroup:gw(new cv(t.segments,function(t,e,n,r){const i={};for(const o of n)mw(t,e,o)&&!r[yw(o)]&&(i[yw(o)]=new cv([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Pt.a)(t=>new cv(o,t))):0===r.length&&0===s.length?Object(_t.a)(new cv(o,{})):this.expandSegment(n,i,r,s,$b,!0).pipe(Object(Pt.a)(t=>new cv(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(_t.a)(new rw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(_t.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(St.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Pt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ct.a(e=>e.error(tv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(_t.a)(new rw([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(_t.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&iw(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!iw(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return av(o)});return Object(_t.a)(i).pipe(aw(),Object(xb.a)(t=>{if(!ow(t))return;const e=tv(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Pt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(_t.a)(n);if(r.numberOfChildren>1||!r.children.primary)return dw(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new uv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return sv(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return sv(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new cv(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function fw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||ev)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gw(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new cv(t.segments.concat(e.segments),e.children)}return t}function mw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function yw(t){return t.outlet||$b}class bw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vw{constructor(t,e){this.component=t,this.route=e}}function ww(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Dv(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!dv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!dv(t.url,e.url)||!nv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wv(t,e)||!nv(t.queryParams,e.queryParams);case"paramsChange":default:return!Wv(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new bw(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:r,i,o),u&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new vw(l.outlet.component,a))}else a&&Cw(n,l,o),o.canActivateChecks.push(new bw(i)),t(e,null,s.component?l?l.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),sv(s,(t,e)=>Cw(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function _w(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cw(t,e,n){const r=Dv(t),i=t.value;sv(r,(t,r)=>{Cw(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new vw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Sw(t,e){return null!==t&&e&&e(new Qb(t)),Object(_t.a)(!0)}function Tw(t,e){return null!==t&&e&&e(new Bb(t)),Object(_t.a)(!0)}function Ew(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(_t.a)(!0);const i=r.map(r=>_b(()=>{const i=_w(r,e,n);let o;if(function(t){return t&&iw(t.canActivate)}(i))o=av(i.canActivate(e,t));else{if(!iw(i))throw new Error("Invalid CanActivate guard");o=av(i(e,t))}return o.pipe(zg())}));return Object(_t.a)(i).pipe(aw())}function kw(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>_b(()=>{const i=e.guards.map(i=>{const o=_w(i,e.node,n);let s;if(function(t){return t&&iw(t.canActivateChild)}(o))s=av(o.canActivateChild(r,t));else{if(!iw(o))throw new Error("Invalid CanActivateChild guard");s=av(o(r,t))}return s.pipe(zg())});return Object(_t.a)(i).pipe(aw())}));return Object(_t.a)(i).pipe(aw())}class Iw{}class Ow{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=xw(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,$b),n=new Fv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$b,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nv(n,e),i=new Vv(this.url,r);return this.inheritParamsAndData(i._root),Object(_t.a)(i)}catch(t){return new Ct.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Mv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=pv(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===$b?-1:e.value.outlet===$b?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Iw))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Iw}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Iw;if((t.outlet||$b)!==r)throw new Iw;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?ov(n).parameters:{};i=new Fv(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lw(t),r,t.component,t,Pw(e),Aw(e)+n.length,jw(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Iw;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||ev)(n,t,e);if(!r)throw new Iw;const i={};sv(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Fv(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lw(t),r,t.component,t,Pw(e),Aw(e)+o.length,jw(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=xw(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Nv(i,t)]}if(0===a.length&&0===u.length)return[new Nv(i,[])];const c=this.processSegment(a,l,u,$b);return[new Nv(i,c)]}}function Pw(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Aw(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function xw(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Nw(t,e,n)&&Dw(n)!==$b)}(t,n,r)){const i=new cv(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Dw(o)!==$b){const n=new cv([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Dw(o)]=n}return i}(t,e,r,new cv(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Nw(t,e,n))}(t,n,r)){const o=new cv(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Nw(t,n,a)&&!i[Dw(a)]){const n=new cv([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Dw(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new cv(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Nw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Dw(t){return t.outlet||$b}function Lw(t){return t.data||{}}function jw(t){return t.resolve||{}}function Rw(t){return function(e){return e.pipe(Og(e=>{const n=t(e);return n?Object(ce.a)(n).pipe(Object(Pt.a)(()=>e)):Object(ce.a)([e])}))}}class Mw extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Fw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[t_]},encapsulation:2}),t})();function Vw(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Uw(r,qw(e,r))}}function Uw(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==$b)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Vw(t.children,e)}function qw(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Gw(t){const e=t.children&&t.children.map(Gw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$b&&(n.component=Fw),n}const Ww=new r.q("ROUTES");class Hw{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Pt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new rw(iv(r.injector.get(Ww)).map(Gw),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(ce.a)(this.loader.load(t)):av(t()).pipe(Object(St.a)(t=>t instanceof r.v?Object(_t.a)(t):Object(ce.a)(this.compiler.compileModuleAsync(t))))}}class Kw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Bw,this.attachRef=null}}class Bw{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Kw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class zw{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qw(t){throw t}function Jw(t,e,n){return e.parse("/")}function Yw(t,e){return Object(_t.a)(null)}let $w=(()=>{class t{constructor(t,e,n,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Eg.a,this.errorHandler=Qw,this.malformedUriErrorHandler=Jw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yw,afterPreactivation:Yw},this.urlHandlingStrategy=new zw,this.routeReuseStrategy=new Mw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const u=o.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(l),this.currentUrlTree=new uv(new cv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hw(s,a,t=>this.triggerEvent(new Hb(t)),t=>this.triggerEvent(new Kb(t))),this.routerState=jv(this.currentUrlTree,this.rootComponentType),this.transitions=new gb({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(kt(t=>0!==t.id),Object(Pt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Og(t=>{let n=!1,r=!1;return Object(_t.a)(t).pipe(Object(xb.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Og(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(_t.a)(t).pipe(Og(t=>{const n=this.transitions.getValue();return e.next(new jb(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?jg.a:[t]}),Og(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Og(t=>function(t,e,n,r,i){return new pw(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Pt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(xb.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(St.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Ow(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Pt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(xb.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(xb.a)(t=>{const n=new Vb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new jb(n,this.serializeUrl(r),i,o);e.next(a);const l=jv(r,this.rootComponentType).snapshot;return Object(_t.a)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),jg.a}),Rw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(xb.a)(t=>{const e=new Ub(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Pt.a)(t=>Object.assign(Object.assign({},t),{guards:ww(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(St.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(_t.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ce.a)(t).pipe(Object(St.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(_t.a)(!0);const s=o.map(o=>{const s=_w(o,e,i);let a;if(function(t){return t&&iw(t.canDeactivate)}(s))a=av(s.canDeactivate(t,e,n,r));else{if(!iw(s))throw new Error("Invalid CanDeactivate guard");a=av(s(t,e,n,r))}return a.pipe(zg())});return Object(_t.a)(s).pipe(aw())}(t.component,t.route,n,e,r)),zg(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(St.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ce.a)(e).pipe(Tt(e=>Object(ce.a)([Tw(e.route.parent,r),Sw(e.route,r),kw(t,e.path,n),Ew(t,e.route,n)]).pipe(Sb(),zg(t=>!0!==t,!0))),zg(t=>!0!==t,!0))}(r,o,t,e):Object(_t.a)(n)),Object(Pt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(xb.a)(t=>{if(ow(t.guardsResult)){const e=tv(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(xb.a)(t=>{const e=new qb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Mb(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Rw(t=>{if(t.guards.canActivateChecks.length)return Object(_t.a)(t).pipe(Object(xb.a)(t=>{const e=new Gb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Og(t=>{let n=!1;return Object(_t.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(St.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(_t.a)(t);let o=0;return Object(ce.a)(n).pipe(Tt(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(_t.a)({});const o={};return Object(ce.a)(i).pipe(Object(St.a)(i=>function(t,e,n,r){const i=_w(t,e,r);return av(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(xb.a)(t=>{o[i]=t}))),Tb(1),Object(St.a)(()=>Object.keys(o).length===i.length?Object(_t.a)(o):jg.a))}(t._resolve,t,e,r).pipe(Object(Pt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Mv(t,n).resolve),null)))}(t.route,e,r,i)),Object(xb.a)(()=>o++),Tb(1),Object(St.a)(e=>o===n.length?Object(_t.a)(t):jg.a))}))}),Object(xb.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Mb(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(xb.a)(t=>{const e=new Wb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Rw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Pt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Nv(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Rv(new gb((i=n.value).url),new gb(i.params),new gb(i.queryParams),new gb(i.fragment),new gb(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Nv(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Lv(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(xb.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Pt.a)(t=>(new ew(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(xb.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Mb(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Nb(i))),Ob(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ow(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Mb(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Fb(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return jg.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Vw(t),this.config=t.map(Gw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:l}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Kv(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Bv(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return sv(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Bv(n,e,r)}(n);if(o.toRoot())return Kv(e.root,new cv([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new zv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new zv(t,t===e.root,0)}const r=Hv(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new zv(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Yv(s.segmentGroup,s.index,o.commands):Jv(s.segmentGroup,s.index,o.commands);return Kv(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ow(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ow(t))return lv(this.currentUrlTree,t,e);const n=this.parseUrl(t);return lv(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Rb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let l,u,c;i?(l=i.resolve,u=i.reject,c=i.promise):c=new Promise((t,e)=>{l=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(fv),r.Pb(Bw),r.Pb(S),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Xw=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Eg.a,this.subscription=t.events.subscribe(t=>{t instanceof Rb&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Zw(this.skipLocationChange),replaceUrl:Zw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zw(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zw(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w),r.Ib(Rv),r.Ib(b))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Ob("href",e.href,r.ic),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Zw(t){return""===t||!!t}let t_=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||$b,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new e_(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Bw),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class e_{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Rv?this.route:t===Bw?this.childContexts:this.parent.get(t,e)}}class n_{}class r_{preload(t,e){return Object(_t.a)(null)}}let i_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Hw(e,n,e=>t.triggerEvent(new Hb(e)),e=>t.triggerEvent(new Kb(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(kt(t=>t instanceof Rb),Tt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ce.a)(n).pipe(Object(Cb.a)(),Object(Pt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(St.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($w),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(n_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),o_=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Yb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($w),r.Pb(W),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const s_=new r.q("ROUTER_CONFIGURATION"),a_=new r.q("ROUTER_FORROOT_GUARD"),l_=[S,{provide:fv,useClass:gv},{provide:$w,useFactory:function(t,e,n,r,i,o,s,l={},u,c){const h=new $w(null,t,e,n,r,i,o,iv(s));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=a();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h},deps:[fv,Bw,S,r.r,r.w,r.i,Ww,s_,[class{},new r.A],[class{},new r.A]]},Bw,{provide:Rv,useFactory:function(t){return t.routerState.root},deps:[$w]},{provide:r.w,useClass:r.J},i_,r_,class{preload(t,e){return e().pipe(Ob(()=>Object(_t.a)(null)))}},{provide:s_,useValue:{enableTracing:!1}}];function u_(){return new r.y("Router",$w)}let c_=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[l_,f_(e),{provide:a_,useFactory:p_,deps:[[$w,new r.A,new r.I]]},{provide:s_,useValue:n||{}},{provide:b,useFactory:d_,deps:[u,[new r.p(w),new r.A],s_]},{provide:o_,useFactory:h_,deps:[$w,W,s_]},{provide:n_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:r_},{provide:r.y,multi:!0,useFactory:u_},[g_,{provide:r.d,multi:!0,useFactory:m_,deps:[g_]},{provide:b_,useFactory:y_,deps:[g_]},{provide:r.b,multi:!0,useExisting:b_}]]}}static forChild(e){return{ngModule:t,providers:[f_(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(a_,8),r.Pb($w,8))}}),t})();function h_(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new o_(t,e,n)}function d_(t,e,n={}){return n.useHash?new C(t,e):new _(t,e)}function p_(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function f_(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ww,multi:!0,useValue:t}]}let g_=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Eg.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get($w),r=this.injector.get(s_);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(_t.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(s_),n=this.injector.get(i_),i=this.injector.get(o_),o=this.injector.get($w),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function m_(t){return t.appInitializer.bind(t)}function y_(t){return t.bootstrapListener.bind(t)}const b_=new r.q("Router Initializer");let v_=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}loginRedirect(){this.router.navigate(["/login"])}homepageRedirect(){this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-landing-page"]],decls:63,vars:0,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css","integrity","sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2","crossorigin","anonymous"],[1,"page-container"],["id","carouselExampleIndicators","data-ride","carousel","data-interval","5000",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],["data-target","#carouselExampleIndicators","data-slide-to","1"],["data-target","#carouselExampleIndicators","data-slide-to","2"],["data-target","#carouselExampleIndicators","data-slide-to","3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/images/carousel1mr.jpg","alt","First slide",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","assets/images/carousel2m.jpg","alt","Second slide",1,"d-block","w-100"],["src","assets/images/carousel3.jpg","alt","Third slide",1,"d-block","w-100"],["src","assets/images/carousel9.jpg","alt","Fourth slide",1,"d-block","w-100"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"middle-portion"],[1,"btn-group-justified","btn-group-lg","btn-group-horizontal"],["type","button",1,"btn","btn-dark","btn-space",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"html",0),r.Lb(1,"head"),r.Jb(2,"meta",1),r.Jb(3,"meta",2),r.Jb(4,"link",3),r.Lb(5,"title"),r.lc(6,"Carousel Slider"),r.Kb(),r.Kb(),r.Lb(7,"body"),r.Lb(8,"div",4),r.Lb(9,"div",5),r.Lb(10,"ol",6),r.Jb(11,"li",7),r.Jb(12,"li",8),r.Jb(13,"li",9),r.Jb(14,"li",10),r.Kb(),r.Lb(15,"div",11),r.Lb(16,"div",12),r.Jb(17,"img",13),r.Lb(18,"div",14),r.Lb(19,"h1"),r.lc(20,"Welcome to MyGameList!"),r.Kb(),r.Lb(21,"p"),r.lc(22,"This is more than just your average place to search and browse video game titles."),r.Kb(),r.Kb(),r.Kb(),r.Lb(23,"div",15),r.Jb(24,"img",16),r.Lb(25,"div",14),r.Lb(26,"h1"),r.lc(27,"Connect to Communty"),r.Kb(),r.Lb(28,"p"),r.lc(29,"Find and connect with other users in your gaming sub-community by registering as a user and creating a profile. As a registered user, you'll also be able to create your own custom lists of video game titles."),r.Kb(),r.Kb(),r.Kb(),r.Lb(30,"div",15),r.Jb(31,"img",17),r.Lb(32,"div",14),r.Lb(33,"h1"),r.lc(34,"Find Gaming Reccomendations"),r.Kb(),r.Lb(35,"p"),r.lc(36,"Browse other users' public lists for suggestions on what to play (or avoid!) next. You can browse through all available public lists on the site until you find those that speak to you or identify those users whose interests align with your own and check out all their lists"),r.Kb(),r.Kb(),r.Kb(),r.Lb(37,"div",15),r.Jb(38,"img",18),r.Lb(39,"div",14),r.Lb(40,"h1"),r.lc(41,"Join Us Now!"),r.Kb(),r.Lb(42,"p"),r.lc(43,"Log in and register today to enjoy the full benefits of what this site has to offer!"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(44,"a",19),r.Jb(45,"span",20),r.Lb(46,"span",21),r.lc(47,"Previous"),r.Kb(),r.Kb(),r.Lb(48,"a",22),r.Jb(49,"span",23),r.Lb(50,"span",21),r.lc(51,"Next"),r.Kb(),r.Kb(),r.Kb(),r.Jb(52,"br"),r.Lb(53,"div",24),r.Lb(54,"div",25),r.Lb(55,"button",26),r.Sb("click",(function(){return e.loginRedirect()})),r.lc(56,"Login/Register"),r.Kb(),r.Lb(57,"button",26),r.Sb("click",(function(){return e.homepageRedirect()})),r.lc(58,"Continue as Guest"),r.Kb(),r.Kb(),r.Kb(),r.Lb(59,"footer"),r.Lb(60,"div"),r.Lb(61,"p"),r.lc(62," Copyright \xa9 2020, Team 3: Farhaana Mujid, John Diatte, Weijian Xu, Kelly Chuang, Jingyi Huang"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},styles:["footer[_ngcontent-%COMP%]{background:#222;color:#fff;position:absolute;bottom:0;width:100%;height:5rem;padding:50px}.middle-portion[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{text-align:center}.page-container[_ngcontent-%COMP%]{position:relative;min-height:100vh}.carousel-item[_ngcontent-%COMP%]{height:32rem;background:#777;color:#fff;position:relative}.container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding-bottom:50px}.carousel-caption[_ngcontent-%COMP%]{color:#fff}.btn-space[_ngcontent-%COMP%]{margin-right:10px}.btn[_ngcontent-%COMP%]{background-color:#009688}"]}),t})();class w_{}let __=(()=>{class t{constructor(t){this.db=t,this.dbPath="/subscribledLists",this.subscribledListRef=null,this.subscribledListRef=t.collection(this.dbPath)}getAll(){return this.subscribledListRef}create(t){return this.subscribledListRef.add(Object.assign({},t))}getfiles(){return this.db.collection(this.dbPath).snapshotChanges()}delete(t){return this.db.collection(this.dbPath).doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(lm))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C_=(()=>{class t{constructor(t){this.firestore=t,this.form=new zy({listTitle:new By(""),listComments:new By(""),listGames:new By(""),private:new By(!1)})}createList(t){return new Promise((e,n)=>{this.firestore.collection("myLists").add(t).then(t=>{},t=>n(t))})}updateList(t){return this.firestore.collection("myLists").doc(t.payload.doc.id).set({private:!0},{merge:!0})}getAllLists(){return this.firestore.collection("myLists").snapshotChanges()}deleteList(t){return this.firestore.collection("myLists").doc(t.payload.doc.id).delete()}getListID(t){this.firestore.collection("myLists").doc(t.payload.doc.id).get()}getAllListsAlphabetically(){return this.firestore.collection("myLists",t=>t.orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyA(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","a").where("listTitle","<=","b").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyB(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","b").where("listTitle","<=","c").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyC(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","c").where("listTitle","<=","d").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyD(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","d").where("listTitle","<=","e").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyE(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","e").where("listTitle","<=","f").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyF(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","f").where("listTitle","<=","g").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyG(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","g").where("listTitle","<=","h").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyH(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","h").where("listTitle","<=","i").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyI(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","i").where("listTitle","<=","j").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyJ(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","j").where("listTitle","<=","k").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyK(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","k").where("listTitle","<=","l").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyL(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","l").where("listTitle","<=","m").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyM(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","m").where("listTitle","<=","n").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyN(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","n").where("listTitle","<=","o").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyO(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","o").where("listTitle","<=","p").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyP(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","p").where("listTitle","<=","q").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyQ(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","q").where("listTitle","<=","r").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyR(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","r").where("listTitle","<=","s").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyS(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","s").where("listTitle","<=","t").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyT(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","t").where("listTitle","<=","u").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyU(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","u").where("listTitle","<=","v").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyV(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","v").where("listTitle","<=","w").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyW(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","w").where("listTitle","<=","x").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyX(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","x").where("listTitle","<=","y").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyY(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","y").where("listTitle","<=","z").orderBy("listTitle")).snapshotChanges()}getListsAlphabeticallyZ(){return this.firestore.collection("myLists",t=>t.where("listTitle",">=","z").orderBy("listTitle")).snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(lm))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function S_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",14),r.Sb("click",(function(){return r.gc(t),r.Wb().userInfor()})),r.lc(1,"Profile"),r.Kb(),r.Lb(2,"button",14),r.Sb("click",(function(){return r.gc(t),r.Wb().logoff()})),r.lc(3,"Log Off"),r.Kb()}}function T_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"button",15),r.Sb("click",(function(){return r.gc(t),r.Wb().login()})),r.lc(1,"Login"),r.Kb()}}const E_=function(){return["/myGames"]},k_=function(){return["/subscribeList"]};function I_(t,e){1&t&&(r.Lb(0,"li",16),r.Lb(1,"a",17),r.lc(2," My Games "),r.Kb(),r.Lb(3,"div",18),r.Lb(4,"a",19),r.lc(5,"My Lists"),r.Kb(),r.Lb(6,"a",19),r.lc(7,"My Followed Lists"),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(4),r.ac("routerLink",r.bc(2,E_)),r.yb(2),r.ac("routerLink",r.bc(3,k_)))}function O_(t,e){if(1&t&&(r.Lb(0,"ul",20),r.Lb(1,"li",9),r.Lb(2,"span",21),r.Lb(3,"b"),r.lc(4),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=r.Wb();r.yb(4),r.nc("Welcome, ",t.userInfo.username,"!")}}const P_=function(){return["/home"]},A_=function(){return["/games"]},x_=function(){return["/lists"]},N_=function(){return["/aboutus"]};let D_=(()=>{class t{constructor(t,e,n){this.d=t,this.router=e,this.u=n,this.userInfo=n.get()}ngOnInit(){}login(){this.router.navigateByUrl("/login")}isLogin(){return"email"in this.u.get()}logoff(){this.u.clear(),this.router.navigateByUrl("/home")}initSession(){localStorage.setItem("EmailID","")}userInfor(){this.router.navigateByUrl("/profileDisplay")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(l),r.Ib($w),r.Ib(o))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:33,vars:12,consts:[["charset","UTF-8"],[1,"container"],[1,"header"],[3,"ngIf"],[1,"navigation"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"nav-item"],[2,"float","right"],[1,"form-inline","my-2","my-lg-0"],["type","Search","placeholder","Search","aria-label","Search",1,"form-control","mr-sm-2"],["type","submit ",1,"btn","btn-outline-success","my-2","my-sm-0"],["type","button",1,"btn","btn-secondary","btn-sm",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"nav-item","dropdown"],["href","javascript: void(0);","id","routerLinkDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","routerLinkDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"nav","navbar-nav","navbar-right"],[1,"navbar-text"]],template:function(t,e){1&t&&(r.Lb(0,"head"),r.Jb(1,"meta",0),r.Lb(2,"title"),r.lc(3,"My Game List"),r.Kb(),r.Kb(),r.Lb(4,"body"),r.Lb(5,"header",1),r.Lb(6,"div",2),r.Lb(7,"h1"),r.lc(8,"My Game List "),r.kc(9,S_,4,0,"ng-template",3),r.kc(10,T_,2,0,"ng-template",3),r.Kb(),r.Kb(),r.Kb(),r.Lb(11,"div",4),r.Lb(12,"nav",5),r.Lb(13,"ul",6),r.Lb(14,"li",7),r.Lb(15,"a",8),r.lc(16,"Home"),r.Kb(),r.Kb(),r.Lb(17,"li",9),r.Lb(18,"a",8),r.lc(19,"Games"),r.Kb(),r.Kb(),r.Lb(20,"li",9),r.Lb(21,"a",8),r.lc(22,"Lists"),r.Kb(),r.Kb(),r.kc(23,I_,8,4,"ng-template",3),r.Lb(24,"li",9),r.Lb(25,"a",8),r.lc(26,"About Us"),r.Kb(),r.Kb(),r.Lb(27,"li",10),r.Lb(28,"form",11),r.Jb(29,"input",12),r.Lb(30,"button",13),r.lc(31,"Search"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.kc(32,O_,5,1,"ng-template",3),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(9),r.ac("ngIf",e.isLogin()),r.yb(1),r.ac("ngIf",!e.isLogin()),r.yb(5),r.ac("routerLink",r.bc(8,P_)),r.yb(3),r.ac("routerLink",r.bc(9,A_)),r.yb(3),r.ac("routerLink",r.bc(10,x_)),r.yb(2),r.ac("ngIf",e.isLogin()),r.yb(2),r.ac("routerLink",r.bc(11,N_)),r.yb(7),r.ac("ngIf",e.isLogin()))},directives:[L,Xw,eb,Xm,$y],styles:[""]}),t})();function L_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"tr"),r.Lb(1,"td"),r.lc(2),r.Kb(),r.Jb(3,"td"),r.Lb(4,"div",21),r.Lb(5,"td"),r.Lb(6,"a",22),r.Sb("click",(function(){r.gc(t);const n=e.index;return r.Wb().refresh(n)})),r.lc(7),r.Kb(),r.Kb(),r.Kb(),r.Lb(8,"td"),r.lc(9),r.Kb(),r.Lb(10,"td"),r.Lb(11,"a",23),r.Sb("click",(function(){r.gc(t);const n=e.$implicit;return r.Wb().Subscribe(n.payload.doc.data().listTitle,n.payload.doc.data().listComments)})),r.lc(12,"Subscribe"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.nc(" ",n+1," "),r.yb(5),r.mc(t.payload.doc.data().listTitle),r.yb(2),r.mc(t.payload.doc.data().listComments)}}function j_(t,e){if(1&t&&(r.Lb(0,"tr"),r.Lb(1,"td"),r.lc(2),r.Kb(),r.Lb(3,"td"),r.Jb(4,"img",24),r.Kb(),r.Lb(5,"td"),r.Lb(6,"a",25),r.lc(7),r.Kb(),r.Kb(),r.Jb(8,"td"),r.Jb(9,"td"),r.Jb(10,"td"),r.Jb(11,"td"),r.Kb()),2&t){const t=e.$implicit,n=e.index,i=r.Wb(2);r.yb(2),r.mc(n+1),r.yb(2),r.ac("src",i.getImgUrl(n+1),r.ic),r.yb(3),r.mc(t)}}function R_(t,e){if(1&t&&(r.Lb(0,"tbody"),r.kc(1,j_,12,3,"tr",11),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.ac("ngForOf",t.gameLists[t.currentIndex].payload.doc.data().gameList)}}let M_=(()=>{class t{constructor(t,e,n,r){this.service=t,this.router=e,this.listsService=n,this.routerInfor=r,this.currentlist=!1,this.sList=new w_,this.deleteList=t=>this.listsService.deleteList(t),this.markPrivate=t=>this.listsService.updateList(t),this.getAllLists=()=>this.listsService.getAllLists().subscribe(t=>this.gameLists=t),this.getAllListsAlphabetically=()=>this.listsService.getAllListsAlphabetically().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyA=()=>{this.listsService.getListsAlphabeticallyA().subscribe(t=>this.gameLists=t)},this.getListsAlphabeticallyB=()=>{this.listsService.getListsAlphabeticallyB().subscribe(t=>this.gameLists=t)},this.getListsAlphabeticallyC=()=>this.listsService.getListsAlphabeticallyC().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyD=()=>this.listsService.getListsAlphabeticallyD().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyE=()=>this.listsService.getListsAlphabeticallyE().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyF=()=>this.listsService.getListsAlphabeticallyF().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyG=()=>this.listsService.getListsAlphabeticallyG().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyH=()=>this.listsService.getListsAlphabeticallyH().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyI=()=>this.listsService.getListsAlphabeticallyI().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyJ=()=>this.listsService.getListsAlphabeticallyJ().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyK=()=>this.listsService.getListsAlphabeticallyK().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyL=()=>{this.listsService.getListsAlphabeticallyL().subscribe(t=>this.gameLists=t)},this.getListsAlphabeticallyM=()=>this.listsService.getListsAlphabeticallyM().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyN=()=>this.listsService.getListsAlphabeticallyN().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyO=()=>this.listsService.getListsAlphabeticallyO().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyP=()=>this.listsService.getListsAlphabeticallyP().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyQ=()=>this.listsService.getListsAlphabeticallyQ().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyR=()=>this.listsService.getListsAlphabeticallyR().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyS=()=>this.listsService.getListsAlphabeticallyS().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyT=()=>{this.listsService.getListsAlphabeticallyT().subscribe(t=>this.gameLists=t)},this.getListsAlphabeticallyU=()=>this.listsService.getListsAlphabeticallyU().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyV=()=>this.listsService.getListsAlphabeticallyV().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyW=()=>this.listsService.getListsAlphabeticallyW().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyX=()=>this.listsService.getListsAlphabeticallyX().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyY=()=>this.listsService.getListsAlphabeticallyY().subscribe(t=>this.gameLists=t),this.getListsAlphabeticallyZ=()=>this.listsService.getListsAlphabeticallyZ().subscribe(t=>this.gameLists=t)}ngOnInit(){this.getAllListsAlphabetically(),this.myLists$=this.listsService.firestore.collection("myLists").valueChanges()}showListDetail(t){this.router.navigate(["/listdetail"],{state:{data:t.payload.doc.id}})}getImgUrl(t){let e="";return e=t+"","assets/images/"+e+".png"}checkData(){console.log(this.currentIndex)}refresh(t){this.currentlist=!0,this.currentIndex=t}windowRefresh(){window.location.reload()}Subscribe(t,e){this.sList.title=t,this.sList.description=e,console.log(this.sList),this.service.create(this.sList).then(()=>{console.log("Created new item successfully!")})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(__),r.Ib($w),r.Ib(C_),r.Ib(Rv))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-addedlists-list"]],decls:140,vars:2,consts:[["charset","UTF-8"],["ng-app","app"],[1,"head-tag"],[1,"alpha-container"],[1,"index-tag"],[1,"link-container"],["role","button",1,"text-info",3,"click"],[1,"table-container"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],["id","accordion"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-link","text-info"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse","show"],[1,"card-body","justify-content-center"],[1,"thead-light"],[4,"ngIf"],[1,"cell-container"],[1,"text-info",3,"click"],[1,"active",3,"click"],["alt","","width","150","height","150",3,"src"],["href","#"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"html"),r.Lb(2,"head"),r.Jb(3,"meta",0),r.Lb(4,"title"),r.lc(5,"Lists"),r.Kb(),r.Kb(),r.Lb(6,"body",1),r.Lb(7,"div",2),r.Lb(8,"header"),r.lc(9," All Lists "),r.Kb(),r.Lb(10,"h6"),r.lc(11,"Explore other users' public lists"),r.Kb(),r.Kb(),r.Lb(12,"div",3),r.Lb(13,"div",4),r.Lb(14,"p"),r.lc(15," Index by List Title: "),r.Kb(),r.Kb(),r.Lb(16,"div",5),r.Lb(17,"ul"),r.Lb(18,"li"),r.Lb(19,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyA()})),r.lc(20," a "),r.Kb(),r.Kb(),r.Lb(21,"li"),r.Lb(22,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyB()})),r.lc(23," b "),r.Kb(),r.Kb(),r.Lb(24,"li"),r.Lb(25,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyC()})),r.lc(26," c "),r.Kb(),r.Kb(),r.Lb(27,"li"),r.Lb(28,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyD()})),r.lc(29," d "),r.Kb(),r.Kb(),r.Lb(30,"li"),r.Lb(31,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyE()})),r.lc(32," e "),r.Kb(),r.Kb(),r.Lb(33,"li"),r.Lb(34,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyF()})),r.lc(35," f "),r.Kb(),r.Kb(),r.Lb(36,"li"),r.Lb(37,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyG()})),r.lc(38," g "),r.Kb(),r.Kb(),r.Lb(39,"li"),r.Lb(40,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyH()})),r.lc(41," h "),r.Kb(),r.Kb(),r.Lb(42,"li"),r.Lb(43,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyI()})),r.lc(44," i "),r.Kb(),r.Kb(),r.Lb(45,"li"),r.Lb(46,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyJ()})),r.lc(47," j "),r.Kb(),r.Kb(),r.Lb(48,"li"),r.Lb(49,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyK()})),r.lc(50," k "),r.Kb(),r.Kb(),r.Lb(51,"li"),r.Lb(52,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyL()})),r.lc(53," l "),r.Kb(),r.Kb(),r.Lb(54,"li"),r.Lb(55,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyM()})),r.lc(56," m "),r.Kb(),r.Kb(),r.Lb(57,"li"),r.Lb(58,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyN()})),r.lc(59," n "),r.Kb(),r.Kb(),r.Lb(60,"li"),r.Lb(61,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyO()})),r.lc(62," o "),r.Kb(),r.Kb(),r.Lb(63,"li"),r.Lb(64,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyP()})),r.lc(65," p "),r.Kb(),r.Kb(),r.Lb(66,"li"),r.Lb(67,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyQ()})),r.lc(68," q "),r.Kb(),r.Kb(),r.Lb(69,"li"),r.Lb(70,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyR()})),r.lc(71," r "),r.Kb(),r.Kb(),r.Lb(72,"li"),r.Lb(73,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyS()})),r.lc(74," s "),r.Kb(),r.Kb(),r.Lb(75,"li"),r.Lb(76,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyT()})),r.lc(77," t "),r.Kb(),r.Kb(),r.Lb(78,"li"),r.Lb(79,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyU()})),r.lc(80," u "),r.Kb(),r.Kb(),r.Lb(81,"li"),r.Lb(82,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyV()})),r.lc(83," v "),r.Kb(),r.Kb(),r.Lb(84,"li"),r.Lb(85,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyW()})),r.lc(86," w "),r.Kb(),r.Kb(),r.Lb(87,"li"),r.Lb(88,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyX()})),r.lc(89," x "),r.Kb(),r.Kb(),r.Lb(90,"li"),r.Lb(91,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyY()})),r.lc(92," y "),r.Kb(),r.Kb(),r.Lb(93,"li"),r.Lb(94,"a",6),r.Sb("click",(function(){return e.getListsAlphabeticallyZ()})),r.lc(95," z "),r.Kb(),r.Kb(),r.Lb(96,"li"),r.Lb(97,"a",6),r.Sb("click",(function(){return e.getAllListsAlphabetically()})),r.lc(98," ..all "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(99,"div",7),r.Lb(100,"table",8),r.Lb(101,"thead",9),r.Lb(102,"tr"),r.Lb(103,"th",10),r.lc(104,"#"),r.Kb(),r.Lb(105,"th",10),r.lc(106,"User"),r.Kb(),r.Lb(107,"th",10),r.lc(108,"Title"),r.Kb(),r.Lb(109,"th",10),r.lc(110,"Comments"),r.Kb(),r.Lb(111,"th",10),r.lc(112,"Edit"),r.Kb(),r.Kb(),r.Kb(),r.Lb(113,"tbody"),r.kc(114,L_,13,3,"tr",11),r.Kb(),r.Kb(),r.Kb(),r.Lb(115,"div",12),r.Lb(116,"div",13),r.Lb(117,"div",14),r.Lb(118,"h5",15),r.Lb(119,"button",16),r.lc(120," +/- List "),r.Kb(),r.Kb(),r.Kb(),r.Lb(121,"div",17),r.Lb(122,"div",18),r.Lb(123,"thead",19),r.Lb(124,"tr"),r.Lb(125,"th"),r.lc(126,"#"),r.Kb(),r.Lb(127,"th"),r.lc(128,"Image"),r.Kb(),r.Lb(129,"th"),r.lc(130,"Title"),r.Kb(),r.Lb(131,"th"),r.lc(132,"Description"),r.Kb(),r.Lb(133,"th"),r.lc(134,"Genre"),r.Kb(),r.Lb(135,"th"),r.lc(136,"Platforms"),r.Kb(),r.Lb(137,"th"),r.lc(138,"Rating"),r.Kb(),r.Kb(),r.Kb(),r.kc(139,R_,2,1,"tbody",20),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(114),r.ac("ngForOf",e.gameLists),r.yb(25),r.ac("ngIf",e.currentlist))},directives:[D_,N,L],styles:["ul[_ngcontent-%COMP%]{margin:0 auto;list-style:none}table[_ngcontent-%COMP%]{color:#757575;font-family:Arial,Helvetica,sans-serif;font-size:large;margin:3rem auto}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px #009688;text-align:left;padding:2px 5px}th.thead-dark[_ngcontent-%COMP%]{color:#009688}.table[_ngcontent-%COMP%]   .thead-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#495057;background-color:#26a69a;border-color:#26a69a}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f5f5f5}.link-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-decoration:underline;margin-top:0}.link-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px;display:inline}.alpha-container[_ngcontent-%COMP%]{padding-top:50px;display:flex;height:0;justify-content:center}.head-tag[_ngcontent-%COMP%]{text-align:center;font-size:50px;font-weight:650;padding-top:25px}.table-container[_ngcontent-%COMP%]{margin:10px}"]}),t})(),F_=(()=>{class t{constructor(t,e,n){this.d=t,this.location=e,this.ls=n;const r=window.location.origin+n.getBaseHref()+"login/callback";console.log("Redirect = "+r);const i=`https://discord.com/api/oauth2/authorize?client_id=764530278793347122&redirect_uri=${encodeURIComponent(r)}&response_type=code&scope=identify%20email`;window.location.href=i}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(l),r.Ib(S),r.Ib(b))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})();class V_{}let U_=(()=>{class t{constructor(t){this.firestore=t,this.dbPath="/userProfiles",this.userProfilesRef=null,this.userProfileCollectionRef=null,this.userProfilesRef=t.collection(this.dbPath)}getAll(){return this.userProfilesRef}create(t){return this.userProfilesRef.add(Object.assign({},t))}update(t,e){return this.userProfilesRef.doc(t).update(e)}delete(t){return this.userProfilesRef.doc(t).delete()}queryByEmail(t){return this.firestore.collection("userProfiles",e=>e.where("email","==",t)).snapshotChanges()}getUserKeyByEmail(){}getUserProfiles(){return this.firestore.collection(this.dbPath).snapshotChanges().pipe(Object(Pt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}getProfiles(){return this.firestore.collection(this.dbPath).snapshotChanges()}createProfile(t){return this.firestore.collection(this.dbPath).add(t)}updateProfile(t){delete t.key,this.firestore.doc("userProfiles/"+t.key).update(t)}deleteProfile(t){this.firestore.doc("userProfiles/"+t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(lm))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.u=e,this.ls=n,this.pfService=r,this.routerInfor=i,this.currentUrl="",this.oauthData={client_id:"764530278793347122",client_secret:"0UPOGjJEplQiVCKfy1ANfGABBnm8ce50"},this.userInfo={email:"",username:""},this.profile=new V_,this.exchangeToken()}ngOnInit(){}exchangeToken(){const t=n("oY9k"),e=this.oauthData.client_id,r=this.oauthData.client_secret,i=this.getAccessCode();console.log("code = "+i);const o={client_id:e,client_secret:r,grant_type:"authorization_code",redirect_uri:window.location.origin+this.ls.getBaseHref()+"login/callback",code:i,scope:"identify email"};console.log("posting...."),t("https://discord.com/api/oauth2/token",{method:"POST",body:new URLSearchParams(o),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(t=>t.json()).then(t=>(console.log(t),t)).then(e=>t("https://discord.com/api/users/@me",{headers:{authorization:`${e.token_type} ${e.access_token}`}})).then(t=>t.json()).then(t=>{console.log(t),this.userJson=JSON.stringify(t);const e=t.username;this.userInfo.email=t.email,this.userInfo.username=e,this.u.setOption("email",this.userInfo.email),this.u.setOption("username",this.userInfo.username),this.checkUserProfile(this.userInfo.email),this.router.navigateByUrl("/home")})}getAccessCode(){const t=window.location.href,e=n("CxY0").parse(t,!0);if(e.query.code)return e.query.code}initUserProfile(){this.profile.userName=this.userInfo.username,this.profile.email=this.userInfo.email,this.profile.gender="",this.profile.phone="",this.pfService.create(this.profile).then(()=>{console.log("Created new profile successfully!")})}checkUserProfile(t){this.pfService.queryByEmail(t).subscribe(t=>{0==t.length&&this.initUserProfile()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w),r.Ib(o),r.Ib(b),r.Ib(U_),r.Ib(Rv))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-oauth-login"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),G_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-aboutus"]],decls:46,vars:0,consts:[[2,"background-color","#80cbc4"],[1,"container"],[1,"row"],["align","center",1,"col"],["src","assets/images/Farhaana.jpg","width","155","height","150","alt","Farhanna"],[1,"name"],["src","assets/images/John.jpg","width","155","height","150","alt","John"],["src","assets/images/WeiJian.jpg","width","155","height","150","alt","WeiJian"],["src","assets/images/Kelly.jpg","width","155","height","150","alt","Kelly"],["src","assets/images/Jing.jpg","width","155","height","150","alt","Jing"],[2,"background-color","#e0f2f1"],[1,"paragraph"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Jb(1,"br"),r.Lb(2,"h1"),r.lc(3,"\u2014The Team\u2014"),r.Kb(),r.Lb(4,"div",0),r.Jb(5,"br"),r.Lb(6,"div",1),r.Lb(7,"div",2),r.Lb(8,"div",3),r.Jb(9,"img",4),r.Lb(10,"p",5),r.lc(11,"Farhaana Mujid"),r.Kb(),r.Kb(),r.Lb(12,"div",3),r.Jb(13,"img",6),r.Lb(14,"p",5),r.lc(15,"John Diatte"),r.Kb(),r.Kb(),r.Lb(16,"div",3),r.Jb(17,"img",7),r.Lb(18,"p",5),r.lc(19,"Weijian Xu"),r.Kb(),r.Kb(),r.Lb(20,"div",3),r.Jb(21,"img",8),r.Lb(22,"p",5),r.lc(23,"Kelly Chuang"),r.Kb(),r.Kb(),r.Lb(24,"div",3),r.Jb(25,"img",9),r.Lb(26,"p",5),r.lc(27,"Jingyi Huang"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(28,"br"),r.Lb(29,"h1"),r.lc(30,"\u2014Our Motivation\u2014"),r.Kb(),r.Lb(31,"div",10),r.Jb(32,"br"),r.Lb(33,"div",1),r.Lb(34,"p",11),r.Lb(35,"b"),r.lc(36,"As a gamer you\u2019re unique,"),r.Kb(),r.lc(37," we get that. Long gone are the days gamers came in just two varieties\u2014 \u201chardcore\u201d or \u201ccasual\u201d. Nowadays we have categories like "),r.Lb(38,"i"),r.lc(39,"\u201cpopcorn gamer who watches twitch streams of turn-based strategy games for PC\u201d "),r.Kb(),r.lc(40,"amongst hundreds of other oddly specific segmentations. The fact is, the state of today\u2019s gaming environment has become so complex and diverse that the average individual within the community of people who play games can\u2019t identify with the larger whole. So when it comes to deciding which games you may want to buy net, play next, make next, or even watch people play next, it no longer suffices to just scroll through lists of the top rated games as they may not appeal to the specific strain of gamer you are. For this reason, we created MyGamesList. "),r.Jb(41,"br"),r.Jb(42,"br"),r.lc(43," MyGamesList is not just your average source for video game information and reviews. We have the added twist that registered users can curate custom lists of video game titles on their created user profiles. You can add descriptive titles and comments to your lists which can be made either public or private. More importantly, you can peruse other users\u2019 public lists to inspire your own lists and motivate your gaming decisions. In this way, you\u2019re finding those individuals within your specific subcommunity and getting gaming suggestions actually suited to you through their lists. Lastly, don\u2019t forget to tailor your own profile to allow those same like-minded users to be able to find you and your lists too! "),r.Kb(),r.Kb(),r.Jb(44,"br"),r.Jb(45,"br"),r.Kb())},directives:[D_],styles:[".name[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-style:normal;color:#004d40;font-size:large}img[_ngcontent-%COMP%]{border:3px solid #b2dfdb;border-radius:50%}p[_ngcontent-%COMP%]{color:#00695c}h1[_ngcontent-%COMP%]{text-align:center;color:#004d40}"]}),t})();const W_=function(){return["/games"]},H_=function(){return["/lists"]};let K_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-popular"]],decls:35,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"col"],[1,"col-3"],[3,"routerLink"],["src","https://cdn-products.eneba.com/resized-products/InlPQPt7WRDHBRnySANJHVQrS2whLdUdTX9JB7djmGw_350x200_3x-0.jpeg","width","150","height","150","alt","Among Us"],["src","https://store.playstation.com/store/api/chihiro/00_09_000/container/US/en/999/UP2293-CUSA11587_00-SRBUNDLE00000004/1590593358000/image?w=240&h=240&bg_color=000000&opacity=100&_version=00_09_000","width","150","height","150","alt","Slime Rancher"],["src","https://www.kindpng.com/picc/m/24-248253_user-profile-default-image-png-clipart-png-download.png","width","150","height","150","alt","UserProfile"],["src","https://www.dailyesports.gg/wp-content/uploads/2019/10/League-of-Legends-Senna-Feature.png","width","150","height","150","alt","League of Legends"],["src","https://steamcdn-a.akamaihd.net/steam/apps/739630/header.jpg?t=1600451822","width","150","height","150","alt","Among Us"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h1"),r.lc(4,"Popular Games"),r.Kb(),r.Kb(),r.Lb(5,"div",2),r.Lb(6,"h1"),r.lc(7,"Public Game List"),r.Kb(),r.Kb(),r.Jb(8,"div",3),r.Kb(),r.Lb(9,"div",1),r.Lb(10,"div",4),r.Lb(11,"a",5),r.Jb(12,"img",6),r.Kb(),r.Kb(),r.Lb(13,"div",4),r.Lb(14,"a",5),r.Jb(15,"img",7),r.Kb(),r.Kb(),r.Lb(16,"div",4),r.Lb(17,"a",5),r.Jb(18,"img",8),r.Kb(),r.Kb(),r.Lb(19,"div",4),r.Lb(20,"a",5),r.Jb(21,"img",8),r.Kb(),r.Kb(),r.Kb(),r.Lb(22,"div",1),r.Lb(23,"div",4),r.Lb(24,"a",5),r.Jb(25,"img",9),r.Kb(),r.Kb(),r.Lb(26,"div",4),r.Lb(27,"a",5),r.Jb(28,"img",10),r.Kb(),r.Kb(),r.Lb(29,"div",4),r.Lb(30,"a",5),r.Jb(31,"img",8),r.Kb(),r.Kb(),r.Lb(32,"div",4),r.Lb(33,"a",5),r.Jb(34,"img",8),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(11),r.ac("routerLink",r.bc(8,W_)),r.yb(3),r.ac("routerLink",r.bc(9,W_)),r.yb(3),r.ac("routerLink",r.bc(10,H_)),r.yb(3),r.ac("routerLink",r.bc(11,H_)),r.yb(4),r.ac("routerLink",r.bc(12,W_)),r.yb(3),r.ac("routerLink",r.bc(13,W_)),r.yb(3),r.ac("routerLink",r.bc(14,H_)),r.yb(3),r.ac("routerLink",r.bc(15,H_)))},directives:[Xw],styles:[".row[_ngcontent-%COMP%]{padding-top:10px}"]}),t})(),B_=(()=>{class t{constructor(t){this.userInfo=JSON.stringify(t.get())}ngAfterViewInit(){window.twttr.widgets.load()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(o))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:41,vars:0,consts:[["charset","UTF-8"],[1,"container"],["id","carousel","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["data-interval","5000",1,"carousel-item","active"],["src","https://steamcdn-a.akamaihd.net/steam/apps/945360/header.jpg?t=1592601560","alt","Among Us",1,"d-block","w-100"],["data-interval","5000",1,"carousel-item"],["src","https://steamcdn-a.akamaihd.net/steam/apps/739630/header.jpg?t=1600451822","alt","Phasmophobia",1,"d-block","w-100"],[1,"carousel-item"],["src","https://steamcdn-a.akamaihd.net/steam/apps/219740/header.jpg?t=1602117150","alt","Party Animals",1,"d-block","w-100"],["href","#carousel","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carousel","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"row"],[1,"col-4"],["data-width","600","data-height","500","href","https://twitter.com/GameSpot?ref_src=twsrc%5Etfw",1,"twitter-timeline"],["data-width","600","data-height","500","href","https://twitter.com/CurseGamepedia?ref_src=twsrc%5Etfw",1,"twitter-timeline"],["data-width","600","data-height","500","href","https://twitter.com/pcgamer?ref_src=twsrc%5Etfw",1,"twitter-timeline"]],template:function(t,e){1&t&&(r.Lb(0,"head"),r.Jb(1,"meta",0),r.Lb(2,"title"),r.lc(3,"My Game List"),r.Kb(),r.Kb(),r.Jb(4,"app-navbar"),r.Lb(5,"body"),r.Lb(6,"div",1),r.Lb(7,"div",2),r.Lb(8,"div",3),r.Lb(9,"div",4),r.Jb(10,"img",5),r.Kb(),r.Lb(11,"div",6),r.Jb(12,"img",7),r.Kb(),r.Lb(13,"div",8),r.Jb(14,"img",9),r.Kb(),r.Kb(),r.Lb(15,"a",10),r.Jb(16,"span",11),r.Lb(17,"span",12),r.lc(18,"Previous"),r.Kb(),r.Kb(),r.Lb(19,"a",13),r.Jb(20,"span",14),r.Lb(21,"span",12),r.lc(22,"Next"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(23,"app-popular"),r.Jb(24,"br"),r.Jb(25,"br"),r.Lb(26,"div",1),r.Lb(27,"h1"),r.lc(28,"Gaming News"),r.Kb(),r.Kb(),r.Jb(29,"br"),r.Lb(30,"div",1),r.Lb(31,"div",15),r.Lb(32,"div",16),r.Lb(33,"a",17),r.lc(34,"Tweets by GameSpot"),r.Kb(),r.Kb(),r.Lb(35,"div",16),r.Lb(36,"a",18),r.lc(37,"Tweets by CurseGamepedia"),r.Kb(),r.Kb(),r.Lb(38,"div",16),r.Lb(39,"a",19),r.lc(40,"Tweets by pcgamer"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[D_,K_],styles:[".container[_ngcontent-%COMP%]{width:95%;margin:0 auto;padding:5px}.navigation[_ngcontent-%COMP%]{width:90%;margin:0 auto}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;float:right}.row[_ngcontent-%COMP%]{margin-left:80px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px;display:inline-block}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}h3[_ngcontent-%COMP%]{padding:10px;width:90%}h3[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:20px auto 0}ul[_ngcontent-%COMP%]{list-style:none}.carousel-inner[_ngcontent-%COMP%]{height:250px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px}"]}),t})();const z_={"Counter-Strike":{Name:"Counter-Strike",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Online Multi-Player;Local Multi-Player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"124534",Negative_ratings:"3339",Desc:"Play the world's number 1 online action game. Engage in an incredibly realistic brand of terrorist warfare in this wildly popular team-based game. Ally with teammates to complete strategic missions. Take out enemy sites. Rescue hostages. Your role affects your team's success. Your team's success affects your role."},"Team Fortress Classic":{Name:"Team Fortress Classic",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Online Multi-Player;Local Multi-Player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"3318",Negative_ratings:"633",Desc:"One of the most popular online action games of all time, Team Fortress Classic features over nine character classes -- from Medic to Spy to Demolition Man -- enlisted in a unique style of online team warfare. Each character class possesses unique weapons, items, and abilities, as teams compete online in a variety of game play modes."},"Day of Defeat":{Name:"Day of Defeat",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"3416",Negative_ratings:"398",Desc:"Enlist in an intense brand of Axis vs. Allied teamplay set in the WWII European Theatre of Operations. Players assume the role of light/assault/heavy infantry, sniper or machine-gunner class, each with a unique arsenal of historical weaponry at their disposal. Missions are based on key historical operations. And, as war rages, players must work together with their squad to accomplish a variety of mission-specific objectives."},"Deathmatch Classic":{Name:"Deathmatch Classic",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Online Multi-Player;Local Multi-Player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"1273",Negative_ratings:"267",Desc:"Enjoy fast-paced multiplayer gaming with Deathmatch Classic (a.k.a. DMC). Valve's tribute to the work of id software, DMC invites players to grab their rocket launchers and put their reflexes to the test in a collection of futuristic settings."},"Half-Life: Opposing Force":{Name:"Half-Life: Opposing Force",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"5250",Negative_ratings:"288",Desc:"Return to the Black Mesa Research Facility as one of the military specialists assigned to eliminate Gordon Freeman. Experience an entirely new episode of single player action. Meet fierce alien opponents, and experiment with new weaponry. Named 'Game of the Year' by the Academy of Interactive Arts and Sciences."},Ricochet:{Name:"Ricochet",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Online Multi-Player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"2758",Negative_ratings:"684",Desc:"A futuristic action game that challenges your agility as well as your aim, Ricochet features one-on-one and team matches played in a variety of futuristic battle arenas."},"Half-Life":{Name:"Half-Life",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Online Multi-Player;Steam Cloud;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"27755",Negative_ratings:"1100",Desc:"Named Game of the Year by over 50 publications, Valve's debut title blends action and adventure with award-winning technology to create a frighteningly realistic world where players must think to survive. Also includes an exciting multiplayer mode that allows you to play against friends and enemies around the world."},"Counter-Strike: Condition Zero":{Name:"Counter-Strike: Condition Zero",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"12120",Negative_ratings:"1439",Desc:"With its extensive Tour of Duty campaign, a near-limitless number of skirmish modes, updates and new content for Counter-Strike's award-winning multiplayer game play, plus over 12 bonus single player missions, Counter-Strike: Condition Zero is a tremendous offering of single and multiplayer content."},"Half-Life: Blue Shift":{Name:"Half-Life: Blue Shift",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player",Genres:"Action",Positive_ratings:"3822",Negative_ratings:"420",Desc:"Made by Gearbox Software and originally released in 2001 as an add-on to Half-Life, Blue Shift is a return to the Black Mesa Research Facility in which you play as Barney Calhoun, the security guard sidekick who helped Gordon out of so many sticky situations."},"Half-Life 2":{Name:"Half-Life 2",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Steam Achievements;Steam Trading Cards;Captions available;Partial Controller Support;Steam Cloud;Includes Source SDK",Genres:"Action",Positive_ratings:"67902",Negative_ratings:"2419",Desc:'1998. HALF-LIFE sends a shock through the game industry with its combination of pounding action and continuous, immersive storytelling. Valve\'s debut title wins more than 50 game-of-the-year awards on its way to being named "Best PC Game Ever" by PC Gamer, and launches a franchise with more than eight million retail units sold worldwide.<br><br>\n\t\tNOW. By taking the suspense, challenge and visceral charge of the original, and adding startling new realism and responsiveness, Half-Life 2 opens the door to a world where the player\'s presence affects everything around him, from the physical environment to the behaviors even the emotions of both friends and enemies.<br><br>\n\t\tThe player again picks up the crowbar of research scientist Gordon Freeman, who finds himself on an alien-infested Earth being picked to the bone, its resources depleted, its populace dwindling. Freeman is thrust into the unenviable role of rescuing the world from the wrong he unleashed back at Black Mesa. And a lot of people he cares about are counting on him.<br><br>\n\t\tThe intense, real-time gameplay of Half-Life 2 is made possible only by Source&reg;, Valve\'s new proprietary engine technology. Source provides major enhancements in:<br><br>\n\t\t<ul>\n\t\t<li><span class="copyHead">Characters:</span> Advanced facial animation system delivers the most sophisticated in-game characters ever seen. With 40 distinct facial "muscles," human characters convey the full array of human emotion, and respond to the player with fluidity and intelligence.</li>\n\t\t<li><span class="copyHead">Physics:</span> From pebbles to water to 2-ton trucks respond as expected, as they obey the laws of mass, friction, gravity, and buoyancy.</li>\n\t\t<li><span class="copyHead">Graphics:</span> Source\'s shader-based renderer, like the one used at Pixar to create movies such as Toy Story&reg; and Monster\'s, Inc.&reg;, creates the most beautiful and realistic environments ever seen in a video game.</li>\n\t\t<li><span class="copyHead">AI:</span> Neither friends nor enemies charge blindly into the fray. They can assess threats, navigate tricky terrain, and fashion weapons from whatever is at hand.</li>\n\t\t</ul>'},"Counter-Strike: Source":{Name:"Counter-Strike: Source",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Cross-Platform Multiplayer;Steam Achievements;Steam Cloud;Valve Anti-Cheat enabled;Stats;Includes Source SDK",Genres:"Action",Positive_ratings:"76640",Negative_ratings:"3497",Desc:"THE NEXT INSTALLMENT OF THE WORLD'S # 1 ONLINE ACTION GAME <br>Counter-Strike: Source blends Counter-Strike's award-winning teamplay action with the advanced technology of Source&trade; technology. Featuring state of the art graphics, all new sounds, and introducing physics, Counter-Strike: Source is a must-have for every action gamer."},"Half-Life: Source":{Name:"Half-Life: Source",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player",Genres:"Action",Positive_ratings:"3767",Negative_ratings:"1053",Desc:"Winner of over 50 Game of the Year awards, Half-Life set new standards for action games when it was released in 1998. Half-Life: Source is a digitally remastered version of the critically acclaimed and best selling PC game, enhanced via Source technology to include physics simulation, enhanced effects, and more."},"Day of Defeat: Source":{Name:"Day of Defeat: Source",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Cross-Platform Multiplayer;Steam Achievements;Steam Trading Cards;Valve Anti-Cheat enabled;Stats;Includes Source SDK",Genres:"Action",Positive_ratings:"10489",Negative_ratings:"1210",Desc:"Day of Defeat offers intense online action gameplay set in Europe during WWII. Assume the role of infantry, sniper or machine-gunner classes, and more. DoD:S features enhanced graphics and sounds design to leverage the power of Source, Valve's new engine technology."},"Half-Life 2: Deathmatch":{Name:"Half-Life 2: Deathmatch",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Valve Anti-Cheat enabled;Includes Source SDK",Genres:"Action",Positive_ratings:"6020",Negative_ratings:"787",Desc:"Fast multiplayer action set in the Half-Life 2 universe! HL2's physics adds a new dimension to deathmatch play. Play straight deathmatch or try Combine vs. Resistance teamplay. Toss a toilet at your friend today!"},"Half-Life 2: Lost Coast":{Name:"Half-Life 2: Lost Coast",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Commentary available",Genres:"Action",Positive_ratings:"5783",Negative_ratings:"1020",Desc:"Originally planned as a section of the Highway 17 chapter of Half-Life 2, Lost Coast is a playable technology showcase that introduces High Dynamic Range lighting to the Source engine."},"Half-Life Deathmatch: Source":{Name:"Half-Life Deathmatch: Source",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"1362",Negative_ratings:"473",Desc:"Half-Life Deathmatch: Source is a recreation of the first multiplayer game set in the Half-Life universe. Features all the classic weapons and most-played maps, now running on the Source engine."},"Half-Life 2: Episode One":{Name:"Half-Life 2: Episode One",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Steam Achievements;Captions available;Partial Controller Support;Steam Cloud;Stats;Includes Source SDK;Commentary available",Genres:"Action",Positive_ratings:"7908",Negative_ratings:"517",Desc:"Half-Life 2 has sold over 4 million copies worldwide, and earned over 35 Game of the Year Awards. Episode One is the first in a series of games that reveal the aftermath of Half-Life 2 and launch a journey beyond City 17. Also features two multiplayer games. Half-Life 2 not required."},Portal:{Name:"Portal",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Steam Achievements;Captions available;Partial Controller Support;Includes level editor;Includes Source SDK;Commentary available",Genres:"Action",Positive_ratings:"51801",Negative_ratings:"1080",Desc:"<p>Portal&trade; is a new single player game from Valve. Set in the mysterious Aperture Science Laboratories, Portal has been called one of the most innovative new games on the horizon and will offer gamers hours of unique gameplay.</p>\n\t\t\t\t\t<p>The game is designed to change the way players approach, manipulate, and surmise the possibilities in a given environment; similar to how Half-Life&reg; 2's Gravity Gun innovated new ways to leverage an object in any given situation.</p>\n\t\t\t\t\t<p>Players must solve physical puzzles and challenges by opening portals to maneuvering objects, and themselves, through space.</p>\n\t\t\t\t\t"},"Half-Life 2: Episode Two":{Name:"Half-Life 2: Episode Two",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Steam Achievements;Captions available;Partial Controller Support;Steam Cloud;Stats;Includes Source SDK;Commentary available",Genres:"Action",Positive_ratings:"13902",Negative_ratings:"696",Desc:"<p>Half-Life&reg; 2: Episode Two is the second in a trilogy of new games created by Valve that extends the award-winning and best-selling Half-Life&reg; adventure.</p>\n\t\t\t\t\t<p>As Dr. Gordon Freeman, you were last seen exiting City 17 with Alyx Vance as the Citadel erupted amidst a storm of unknown proportions. In Episode Two, you must battle and race against Combine forces as you traverse the White Forest to deliver a crucial information packet stolen from the Citadel to an enclave of fellow resistance scientists.</p>\n\t\t\t\t\t<p>Episode Two extends the award-winning Half-Life gameplay with unique weapons, vehicles, and newly-spawned creatures.</p>\n\t\t\t\t\t"},"Team Fortress 2":{Name:"Team Fortress 2",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Cross-Platform Multiplayer;Steam Achievements;Steam Trading Cards;Captions available;Steam Workshop;In-App Purchases;Partial Controller Support;Valve Anti-Cheat enabled;Stats;Includes level editor;Commentary available",Genres:"Action;Free to Play",Positive_ratings:"515879",Negative_ratings:"34036",Desc:'<h1>The Jungle Inferno Update</h1><p><a href="https://steamcommunity.com/linkfilter/?url=http://www.teamfortress.com/jungleinferno/" target="_blank" rel="noopener"  >Play the all-new Jungle Inferno Campaign! </a><br><ul class="bb_ul"><li> 1 new official map: Mercenary Park<br></li><li> 5 featured community maps: Mossrock, Lazarus, Brazil, Enclosure, and Banana Bay<br></li><li> 2 new official taunts: Yeti Punch and Yeti Smash<br></li><li> 5 new community taunts: The Dueling Banjo, The Jumping Jack, The Soviet Strongarm, The Russian Arms Race, and The Headcase<br></li><li> 2 community cosmetic cases with 20 items each<br></li><li> 2 new War Paint collections made up of community-made War Paints and official War Paints<br></li><li> 2 new War Paint collections filled with classic weapon skins being brought back for another tour<br></li><li> 4 new Pyro items: The Dragon\'s Fury, The Thermal Thruster (with a new kill taunt: The Gas Blast), The Gas Passer, and the Hot Hand<br></li><li> 1 new Heavy item: The Second Banana<br></li><li> Free contracts to earn the new Pyro and Heavy items<br></li><li> 36 campaign contracts</li></ul><a href="https://steamcommunity.com/linkfilter/?url=http://www.teamfortress.com/jungleinferno/" target="_blank" rel="noopener"  ><img src="https://steamcdn-a.akamaihd.net/steam/apps/440/extras/jungle_inferno_blog.jpg?t=1539304875" ></a></p><br><h1>About the Game</h1><p><strong>"The most fun you can have online"</strong> - PC Gamer<br><br>\t\t\t\t\t\t\t\t\t <strong>Is now FREE!</strong><br><br>\t\t\t\t\t\t\t\t\t There\u2019s no catch! Play as much as you want, as long as you like!</p><br>\t\t\t\t\t\t\t\t\t <p><strong>The most highly-rated free game of all time!</strong><br><br>\t\t\t\t\t\t\t\t\t One of the most popular online action games of all time, Team Fortress 2 delivers constant free updates\u2014new game modes, maps, equipment and, most importantly, hats. Nine distinct classes provide a broad range of tactical abilities and personalities, and lend themselves to a variety of player skills.</p><br>\t\t\t\t\t\t\t\t\t <p><strong>New to TF? Don\u2019t sweat it!</strong><br><br>\t\t\t\t\t\t\t\t\t No matter what your style and experience, we\u2019ve got a character for you. Detailed training and offline practice modes will help you hone your skills before jumping into one of TF2\u2019s many game modes, including Capture the Flag, Control Point, Payload, Arena, King of the Hill and more.</p><br>\t\t\t\t\t\t\t\t\t <p><strong>Make a character your own!</strong><br><br>\t\t\t\t\t\t\t\t\t There are hundreds of weapons, hats and more to collect, craft, buy and trade. Tweak your favorite class to suit your gameplay style and personal taste. You don\u2019t need to pay to win\u2014virtually all of the items in the Mann Co. Store can also be found in-game.</p><br>\t\t\t\t\t\t\t\t\t<a href="<a href="https://steamcommunity.com/linkfilter/?url=http://www.teamfortress.com/freetoplay" target="_blank" rel="noopener"  >http://www.teamfortress.com/freetoplay</a>"><img src="<a href="http://storefront.steampowered.com/v/gfx/apps/440/extras/page_banner_english1.jpg" target="_blank" rel="noreferrer"  >http://storefront.steampowered.com/v/gfx/apps/440/extras/page_banner_english1.jpg</a>"></a><br>\t\t\t\t\t\t\t\t\t'},"Left 4 Dead":{Name:"Left 4 Dead",Publisher:"Valve",Platforms:"windows;mac",Type:"Single-player;Multi-player;Co-op;Steam Achievements;Full controller support;Captions available;Steam Cloud;Valve Anti-Cheat enabled;Stats;Steam Leaderboards;Includes Source SDK;Commentary available",Genres:"Action",Positive_ratings:"17951",Negative_ratings:"948",Desc:'From Valve (the creators of Counter-Strike, Half-Life and more) comes Left 4 Dead, a co-op action horror game for the PC and Xbox 360 that casts up to four players in an epic struggle for survival against swarming zombie hordes and terrifying mutant monsters.                    <br>\t\t\t\t\tSet in the immediate aftermath of the zombie apocalypse, L4D\'s survival co-op mode lets you blast a path through the infected in four unique \u201cmovies,\u201d guiding your survivors across the rooftops of an abandoned metropolis, through rural ghost towns and pitch-black forests in your quest to escape a devastated Ground Zero crawling with infected enemies. Each &quot;movie&quot; is comprised of five large maps, and can be played by one to four human players, with an emphasis on team-based strategy and objectives.                     <br>\t\t\t\t\tNew technology dubbed &quot;the AI Director&quot; is used to generate a unique gameplay experience every time you play. The Director tailors the frequency and ferocity of the zombie attacks to your performance, putting you in the middle of a fast-paced, but not overwhelming, Hollywood horror movie.                    <br>\t\t\t\t\t<ul class="bb_ul"><li>Addictive single player, co-op, and multiplayer action gameplay from the makers of Counter-Strike and Half-Life                    <br>\t\t\t\t\t</li><li>Versus Mode lets you compete four-on-four with friends, playing as a human trying to get rescued, or as a zombie boss monster that will stop at nothing to destroy them.<br>\t\t\t\t\t</li><li>See how long you and your friends can hold out against the infected horde in the new Survival Mode<br>\t\t\t\t\t</li><li>An advanced AI director dynamically creates intense and unique experiences every time the game is played                     <br>\t\t\t\t\t</li><li>20 maps, 10 weapons and unlimited possibilities in four sprawling &quot;movies&quot;                     <br>\t\t\t\t\t</li><li>Matchmaking, stats, rankings, and awards system drive collaborative play                     <br>\t\t\t\t\t</li><li>Designer\'s Commentary allows gamers to go &quot;behind the scenes&quot; of the game                     <br>\t\t\t\t\t</li><li>Powered by Source and Steam                     </li></ul><h2 class="bb_tag">THE SACRIFICE</h2><img src="https://steamcdn-a.akamaihd.net/steam/apps/550/extras/pageRibbon.jpg" >&quot;The Sacrifice\u201d is  the new add-on for Left 4 Dead.<br><br>&quot;The Sacrifice&quot; is the prequel to &quot;The Passing,&quot; and takes place from the L4D Survivors\' perspective as they make their way South. In addition to advancing the story, &quot;The Sacrifice&quot; introduces a new style finale featuring &quot;Sacrificial Gameplay&quot; where players get to decide who will give their life so the others may live.<br><br>In The Sacrifice for Left 4 Dead owners receive &quot;The Sacrifice&quot; campaign playable in Campaign, Versus,  and Survival modes.'},"Left 4 Dead 2":{Name:"Left 4 Dead 2",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Co-op;Steam Achievements;Full controller support;Steam Trading Cards;Captions available;Steam Workshop;Steam Cloud;Valve Anti-Cheat enabled;Stats;Includes Source SDK;Commentary available",Genres:"Action",Positive_ratings:"251789",Negative_ratings:"8418",Desc:"Set in the zombie apocalypse, Left 4 Dead 2 (L4D2) is the highly anticipated sequel to the award-winning Left 4 Dead, the #1 co-op game of 2008.<br>                    This co-operative action horror FPS takes you and your friends through the cities, swamps and cemeteries of the Deep South, from Savannah to New Orleans across five expansive campaigns.<br>                    You'll play as one of four new survivors armed with a wide and devastating array of classic and upgraded weapons. In addition to firearms, you'll also get a chance to take out some aggression on infected with a variety of carnage-creating melee weapons, from chainsaws to axes and even the deadly frying pan.<br>                    You'll be putting these weapons to the test against (or playing as in Versus) three horrific and formidable new Special Infected. You'll also encounter five new \x93uncommon\x94 common infected, including the terrifying Mudmen.<br>                    Helping to take L4D's frantic, action-packed gameplay to the next level is AI Director 2.0. This improved Director has the ability to procedurally change the weather you'll fight through and the pathways you'll take, in addition to tailoring the enemy population, effects, and sounds to match your performance. L4D2 promises a satisfying and uniquely challenging experience every time the game is played, custom-fitted to your style of play.<br>                    <ul class=\"bb_ul\"><li>Next generation co-op action gaming from the makers of Half-Life, Portal, Team Fortress and Counter-Strike.<br>                    </li><li>Over 20 new weapons &amp; items headlined by over 10 melee weapons \u2013 axe, chainsaw, frying pan, baseball bat \u2013 allow you to get up close with the zombies<br>                    </li><li>New survivors. New Story. New dialogue. <br>                    </li><li>Five expansive campaigns for co-operative, Versus and Survival game modes.<br>                    </li><li>An all new multiplayer mode.<br>                    </li><li>Uncommon common infected. Each of the five new campaigns contains at least one new \x93uncommon common\x94 zombies which are exclusive to that campaign. <br>                    </li><li>AI Director 2.0: Advanced technology dubbed \x93The AI Director\x94 drove L4D's unique gameplay \u2013 customizing enemy population, effects, and music, based upon the players\u2019 performance. L4D 2 features \x93The AI Director 2.0\x94 which expands the Director\u2019s ability to customize level layout, world objects, weather, and lighting to reflect different times of day.<br>                    </li><li>Stats, rankings, and awards system drives collaborative play<br>                    </li></ul>"},"Dota 2":{Name:"Dota 2",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Co-op;Steam Trading Cards;Steam Workshop;SteamVR Collectibles;In-App Purchases;Valve Anti-Cheat enabled",Genres:"Action;Free to Play;Strategy",Positive_ratings:"863507",Negative_ratings:"142079",Desc:"<strong>The most-played game on Steam.</strong><br>Every day, millions of players worldwide enter battle as one of over a hundred Dota heroes. And no matter if it's their 10th hour of play or 1,000th, there's always something new to discover. With regular updates that ensure a constant evolution of gameplay, features, and heroes, Dota 2 has truly taken on a life of its own.<br><br><strong>One Battlefield. Infinite Possibilities.</strong><br>When it comes to diversity of heroes, abilities, and powerful items, Dota boasts an endless array\u2014no two games are the same. Any hero can fill multiple roles, and there's an abundance of items to help meet the needs of each game. Dota doesn't provide limitations on how to play, it empowers you to express your own style.<br><br><strong>All heroes are free.</strong><br>Competitive balance is Dota's crown jewel, and to ensure everyone is playing on an even field, the core content of the game\u2014like the vast pool of heroes\u2014is available to all players. Fans can collect cosmetics for heroes and fun add-ons for the world they inhabit, but everything you need to play is already included before you join your first match.<br><br><strong>Bring your friends and party up.</strong><br>Dota is deep, and constantly evolving, but it's never too late to join. <br>Learn the ropes playing co-op vs. bots. Sharpen your skills in the hero demo mode. Jump into the behavior- and skill-based matchmaking system that ensures you'll <br>be matched with the right players each game."},"Portal 2":{Name:"Portal 2",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Co-op;Steam Achievements;Full controller support;Steam Trading Cards;Captions available;Steam Workshop;Steam Cloud;Stats;Includes level editor;Commentary available",Genres:"Action;Adventure",Positive_ratings:"138220",Negative_ratings:"1891",Desc:'Portal 2 draws from the award-winning formula of innovative gameplay, story, and music that earned the original Portal over 70 industry accolades and created a cult following.<br><br>\t\t\t\t\t\t\t\t\t\tThe single-player portion of Portal 2 introduces a cast of dynamic new characters, a host of fresh puzzle elements, and a much larger set of devious test chambers. Players will explore never-before-seen areas of the Aperture Science Labs and be reunited with GLaDOS, the occasionally murderous computer companion who guided them through the original game.<br>\t\t\t\t\t\t\t\t\t\t<br>\t\t\t\t\t\t\t\t\t\tThe game\u2019s two-player cooperative mode features its own entirely separate campaign with a unique story, test chambers, and two new player characters. This new mode forces players to reconsider everything they thought they knew about portals. Success will require them to not just act cooperatively, but to think cooperatively.<br>\t\t\t\t\t\t\t\t\t\t<br>\t\t\t\t\t\t\t\t\t\t<strong>Product Features</strong><br>\t\t\t\t\t\t\t\t\t\t<ul class="bb_ul"><li><strong>Extensive single player:</strong> Featuring next generation gameplay and a wildly-engrossing story.<br>\t\t\t\t\t\t\t\t\t\t</li><li><strong>Complete two-person co-op:</strong> Multiplayer game featuring its own dedicated story, characters, and gameplay.<br>\t\t\t\t\t\t\t\t\t\t</li><li><strong>Advanced physics:</strong> Allows for the creation of a whole new range of interesting challenges, producing a much larger but not harder game.<br>\t\t\t\t\t\t\t\t\t\t</li><li><strong>Original music.</strong><br>\t\t\t\t\t\t\t\t\t\t</li><li><strong>Massive sequel:</strong> The original Portal was named 2007\'s Game of the Year by over 30 publications worldwide. <br>\t\t\t\t\t\t\t\t\t\t</li><li><strong>Editing Tools:</strong> Portal 2 editing tools will be included.<br>\t\t\t\t\t\t\t\t\t\t</li></ul>'},"Alien Swarm":{Name:"Alien Swarm",Publisher:"Valve",Platforms:"windows",Type:"Single-player;Multi-player;Co-op;Steam Achievements;Captions available;Steam Cloud;Stats;Includes level editor",Genres:"Action",Positive_ratings:"17435",Negative_ratings:"941",Desc:'Alien Swarm is a game and Source SDK release from a group of talented designers at Valve who were hired from the Mod community.<br>\t\t\t\t\tAvailable free of charge, the game thrusts players into an epic bug hunt featuring a unique blend of co-op play and squad-level tactics. With your friends, form a squad of four distinct IAF Marine classes. Plan your attack using an unlockable arsenal of weapons with countless loadout configurations against a wide variety of aliens. Blaze your way through an overrun, off-world colony, eradicating the alien infestation in environments ranging from the icy planet\'s surface, to a subterranean lava-flooded mining facility.<br>\t\t\t\t\tAlong with the game get the complete code base for Alien Swarm that features updates to the Source engine as well as the SDK. Alien Swarm adds 3rd person camera, depth of field, improved dynamic shadows and a wide variety of gameplay additions to the Source engine.<br>\t\t\t\t\t<ul class="bb_ul"><li>Tactical, 4 player co-op action game with a top-down perspective <br>\t\t\t\t\t</li><li>Complete game code and mod tools <br>\t\t\t\t\t</li><li>Unlock persistent items by gaining levels <br>\t\t\t\t\t</li><li>Over 40 weapons and equipment with countless loadout configurations <br>\t\t\t\t\t</li><li>4 unique classes and 8 unique characters <br>\t\t\t\t\t</li><li>Matchmaking, Steam Cloud, Steam Stats <br>\t\t\t\t\t</li><li>64 achievements <br>\t\t\t\t\t</li><li>Tile-based map generation tool <br>\t\t\t\t\t</li><li>Powered by Source and Steam <br>\t\t\t\t\t</li></ul>'},"Counter-Strike: Global Offensive":{Name:"Counter-Strike: Global Offensive",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Multi-player;Steam Achievements;Full controller support;Steam Trading Cards;Steam Workshop;In-App Purchases;Valve Anti-Cheat enabled;Stats",Genres:"Action;Free to Play",Positive_ratings:"2644404",Negative_ratings:"402313",Desc:"Counter-Strike: Global Offensive (CS: GO) expands upon the team-based action gameplay that it pioneered when it was launched 19 years ago.<br />\n<br />\nCS: GO features new maps, characters, weapons, and game modes, and delivers updated versions of the classic CS content (de_dust2, etc.).<br />\n<br />\n&quot;Counter-Strike took the gaming industry by surprise when the unlikely MOD became the most played online PC action game in the world almost immediately after its release in August 1999,&quot; said Doug Lombardi at Valve. &quot;For the past 12 years, it has continued to be one of the most-played games in the world, headline competitive gaming tournaments and selling over 25 million units worldwide across the franchise. CS: GO promises to expand on CS' award-winning gameplay and deliver it to gamers on the PC as well as the next gen consoles and the Mac.&quot;"},"Rag Doll Kung Fu":{Name:"Rag Doll Kung Fu",Publisher:"Mark Healey",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Indie",Positive_ratings:"40",Negative_ratings:"17",Desc:"Featuring a wide collection of single and multiplayer games, either online or with multiple mice, Rag Doll Kung Fu provides players with one of the most creative and unique game experiences delivered in years. Additionally, between those game rounds, the challenges of an aspiring Kung Fu master are revealed via outlandish cut scenes inspired by classic Kung Fu cinema."},"Red Orchestra: Ostfront 41-45":{Name:"Red Orchestra: Ostfront 41-45",Publisher:"Tripwire Interactive",Platforms:"windows;mac;linux",Type:"Multi-player;Steam Achievements;Valve Anti-Cheat enabled",Genres:"Action",Positive_ratings:"1562",Negative_ratings:"223",Desc:'<h1>D-Day Anniversary 2016 Update for Darkest Hour</h1><p>To commemorate the 72nd anniversary of the D-Day landings in Normandy, we have added a total of five new official maps for the Darkest Hour mod!<br><br><ul class="bb_ul"><li>La Cambe (50+ players)<br></li><li>St-Clement (32+ players)<br></li><li>Dead Man\u2019s Corner (8-16 players)<br></li><li>Vierville (16-32 players)<br></li><li>Foucarville (8-16 players)</li></ul><br>If you own RO:Ostfront the mod is completely free to you. To get your copy, simply head for the store page: <a href="http://store.steampowered.com/app/1280/" target="_blank" rel="noreferrer"  >HERE</a></p><br><h1>About the Game</h1>Fight in the theatre of war that changed the world forever. Battle alongside your compatriots on some of the most inhospitable environments of the Eastern Front in Red Orchestra: Ostfront 41-45. Red Orchestra places you in the most realistic WWII first-person multi-player combat to date on the PC, allowing the player to fight through some of the most intense combat of the war. You can play as infantry, using a wide range of infantry weapons, or crew one of the many armored combat vehicles available in the game, from half-tracks to the most famous German and Soviet heavy tanks. Engage the enemy with everything in your arsenal, from your bayonet at close quarters up to the massive 122mm cannon on the Soviet IS-2. And if that isn\'t enough, find an officer and a radio to call in thunderous artillery strikes to shake the enemy loose.<br>\t\t\t\t\t<ul class="bb_ul"><li>Crew 16 fully realized vehicles with highly detailed exterior and interior models <br>\t\t\t\t\t</li><li>Choose from 30 authentic infantry weapons <br>\t\t\t\t\t</li><li>Full 50+ player online Multiplayer Support<br>\t\t\t\t\t</li><li>Unique Setting - the only FPS to focus on the WWII Russian Front<br>\t\t\t\t\t</li><li>Engage enemy tanks at 800 metres and more with the Simulation-level armored vehicle combat<br>\t\t\t\t\t</li><li>Fight the full range of combined arms infantry and vehicle combat in detailed environments based on real-world data, from city-centre to deeply rural settings <br>\t\t\t\t\t</li><li>Realistic bullet and projectile ballistics will make you duck for cover <br>\t\t\t\t\t</li><li>Coordinate strategies with your team-mates via Voice Over IP <br>\t\t\t\t\t</li><li>Authentic Immersive Sound FX and 3d Positional Sound System <br>\t\t\t\t\t</li><li>3D \'Iron Sights\' and unique 3D scope system <br>\t\t\t\t\t</li><li>True weapon deployment system including resting rifles on support<br>\t\t\t\t\t</li><li>Historically accurate artillery system <br>\t\t\t\t\t</li><li>Distance-based sound system dynamically creates the battle ambiance<br>\t\t\t\t\t</li><li>Advanced player movement system featuring diving over obstacles and leaning <br>\t\t\t\t\t</li><li>Custom 8 way animation system for highly realistic player animations </li></ul>New for Summer \'07<br>\t\t\t\t\tThis update includes a new map, a new vehicle and some major graphical enhancements to the game and is available to owners of the game for free through Steam. The new map - Krivoi Rog - gives players the largest tank slugfest to date, with 16 square kilometers of terrain, 3000 meter viewable range and up to 50 players. This map also features the new vehicle - the German Panzer IV G, providing the German players with some additional fire-power for the mid-war period.<br>\t\t\t\t\tIn addition to the new map and vehicle, an all-new adaptive bloom system has been added for the game\'s graphics, making the bloom crystal-clear even at low resolutions. For further eye-candy, Anti-Aliasing and Anisotropic Filtering settings are now configurable in-game.<br>\t\t\t\t\tNew for Spring \'07<br>\t\t\t\t\t<ul class="bb_ul"><li>Ten new maps, the winning entries in Tripwire\'s Custom Map Competition. Tripwire worked with the developers of each of these maps to ensure the maps are optimized, polished, and gameplay balanced. Highlights in the new map-pack include:<br>\t\t\t\t\t</li><li><strong>&quot;Smolensk Stalemate&quot;:</strong> the contest winning map features perfectly balanced to-and-fro infantry combat through ruined villages and trenches in August 1943.<br><strong>&quot;Leningrad&quot;:</strong> features close-quarters infantry fighting in the ruined streets of the city, above them in the bombed-out buildings and deep beneath them in the sewers, all with close-in armor support.<br><strong>&quot;Berezina&quot;:</strong> the After-Hourz team surpass themselves on this rural/village map, introducing not just a new vehicle (the Russian BT-7 light tank), but also the first functional anti-tank gun in the game. To cap it off, the BT-7 even carries tank-riders.<br><strong>&quot;Black Day July&quot;:</strong> one of the very best for tank combat fans, set in the rolling countryside around Prokhorovka as German and Russian armor clash en masse during the Battle of Kursk.<br>\t\t\t\t\t</li><li>Increased player limits. A new level of intensity with 50+ player multiplayer battles (up from the previous limit of 32).<br>\t\t\t\t\t</li><li>New community made content, including the Russian BT-7 light tank with infantry tank riders and the first player controllable anti-tank gun in the game.<br>\t\t\t\t\t</li><li>New soundtrack: The &quot;Orchestra&quot; comes to the Ostfront - the game now features a complete in-game soundtrack from composer Matthew Burns.<br>\t\t\t\t\t</li><li>Gameplay enhancements. The addition of several features requested by the clan/ladder/league community to enhance competitive play.</li></ul>'},"Killing Floor":{Name:"Killing Floor",Publisher:"Tripwire Interactive",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Co-op;Cross-Platform Multiplayer;Steam Achievements;Steam Trading Cards;Steam Workshop;Valve Anti-Cheat enabled;Stats;Includes level editor",Genres:"Action",Positive_ratings:"53710",Negative_ratings:"2649",Desc:"Killing Floor is a Co-op Survival Horror FPS set in the devastated cities and countryside of England after a series of cloning experiments for the military goes horribly wrong. You and your friends are members of the military dropped into these locations with a simple mission: Survive long enough to cleanse the area of the failed experiments!<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Cooperative gameplay for up to six players against multiple waves of specimens<br>\t\t\t\t\t</li><li>Persistent Perks system, allowing players to convert their in-game achievements into permanent improvements to their character's skills and abilities <br>\t\t\t\t\t</li><li>Over 170 Steam Achievements, including \u201cDignity for the dead\u201d for killing 10 enemies feeding on dead teammates' corpses and \u201cHot Cross Fun\u201d for finishing off 25 burning enemies with a Crossbow<br>\t\t\t\t\t</li><li>Slow-motion \u201cZEDtime\u201d to better watch those crucial and violent creature deaths, even in multiplayer <br>\t\t\t\t\t</li><li>Solo game mode for offline play <br>\t\t\t\t\t</li><li>Ten different monster types trying to eat your face off, armed with everything from teeth and claws, to chainsaws, chain-guns and rocket-launchers <br>\t\t\t\t\t</li><li>33+ weapons for the players to chose from, ranging from knives and fire-axes to pump shotguns, rifles and a flamethrower <br>\t\t\t\t\t</li><li>Equip your team with welders, medical tools and body armor to help your odds of survival <br>\t\t\t\t\t</li><li>Choose which Perks to play with to best balance out your co-op team against the horrors <br>\t\t\t\t\t</li><li>Open, non-linear play areas: choose when and where to fight \u2014 or run; weld doors closed to direct the monster horde down alternate corridors<br>\t\t\t\t\t</li><li>Fully-configurable, allowing players to change the difficulty level, number of creature waves, or even set up their own favorite waves of monsters <br>\t\t\t\t\t</li><li>Support for Steam Friends and other Steamworks features<br>\t\t\t\t\t</li><li>Includes Windows-only SDK for the creation of new levels and mods<br>\t\t\t\t\t</li></ul>"},"SiN Episodes: Emergence":{Name:"SiN Episodes: Emergence",Publisher:"Ritual Entertainment",Platforms:"windows",Type:"Single-player;Stats",Genres:"Action",Positive_ratings:"468",Negative_ratings:"61",Desc:"You are John Blade, commander of HardCorps, an elite security force dedicated to protecting the people of Freeport City. Four years have passed since your first battle with Elexis Sinclaire, a beautiful, brilliant, and ruthless scientist who is out to remake humanity according to her own twisted vision. The law has failed to bring Elexis and her multi-billion dollar empire, SiNTEK, to justice, so Blade is determined to take matters into his own hands. Joining Blade on his mission are JC - a hacker with a secret to keep - and Jessica Cannon, a fiery rookie who can find her way into any secure facility.<br>\t\t\t\t\tEnter the living, breathing world of Freeport City, a futuristic collision of New York, San Francisco and Tokyo. As Freeport continues to suffer from mutant attacks, you must now bring down Sinclaire before she can set her deadly plan in motion and alter the shape of humanity forever.<br>\t\t\t\t\tSiN Episodes\u2122: Emergence launches the new era of episodic gaming. A first person shooter powered by Valve's award-winning Source\u2122 technology, SiN Episodes offers unprecedented interactivity, an engrossing story, and a revolutionary dynamic difficulty system that provides a custom experience based on your skill level and play style.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Intense Combat: Face off against ruthless enemies, like jetpack soldiers and mutants that evolve as you fight them. Witness enemies that adapt to your actions and truly work as a team, as they cover each other and help fallen comrades to get back on their feet.<br>Outsmart your opponents by using your surroundings to your advantage as you set up traps using lethal elements of the environment. Location-based damage rewards accuracy while melee combat moves enable you to get up-close and personal.<br>\t\t\t\t\t</li><li>Unprecedented Interactivity: Blast your way through highly interactive environments powered by an enhanced version of the Source engine. Characters dynamically react to what you're looking at and the environment. Target and shoot off specific vehicle parts and literally blow cars to pieces. Experience the next level of vehicle combat with a flexible positioning system enabling you to move around the interior with an unprecedented degree of freedom, allowing you to pick the ideal position to attack that enemy position up ahead.<br>\t\t\t\t\t</li><li>Personal Challenge System\u2122: Driven by one of the most elaborate statistics systems ever created, SiN Episodes will constantly adapt to your playing style and offers a challenge that is custom-tailored to your skill level.<br>\t\t\t\t\t</li><li>Episodic Delivery: Buy as little or as much of the game as you want, with each installment offering 3 - 6 hours of action-packed gameplay. But tread lightly, as the choices you make may influence future episodes in unforeseen ways.<br>\t\t\t\t\t</li><li>Source Powered: Utilizing the same engine that powered Half-life\xae 2, Emergence gives you stunningly gorgeous graphics and intense physics-based gameplay.</li></ul>"},Darwinia:{Name:"Darwinia",Publisher:"Introversion Software",Platforms:"windows;mac;linux",Type:"Single-player",Genres:"Indie;Strategy",Positive_ratings:"472",Negative_ratings:"158",Desc:"Combining fast-paced action with strategic battle planning, Darwinia features a novel and intuitive control mechanism, a graphical style ripped from 80's retro classics like Tron and Defender, and a story concerning a tribe of nomadic sprites trapped in a modern 3D world."},Uplink:{Name:"Uplink",Publisher:"Introversion Software",Platforms:"windows;mac;linux",Type:"Single-player",Genres:"Indie;Strategy",Positive_ratings:"1602",Negative_ratings:"152",Desc:"You play an Uplink Agent who makes a living by performing jobs for major corporations. Your tasks involve hacking into rival computer systems, stealing research data, sabotaging other companies, laundering money, erasing evidence, or framing innocent people.<br />\n<br />\nYou use the money you earn to upgrade your computer systems, and to buy new software and tools. As your experience level increases you find more dangerous and profitable missions become available. You can speculate on a fully working stock market (and even influence its outcome). You can modify peoples academic or criminal records. You can divert money from bank transfers into your own accounts. You can even take part in the construction of the most deadly computer virus ever designed."},DEFCON:{Name:"DEFCON",Publisher:"Introversion Software",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player",Genres:"Indie;Strategy",Positive_ratings:"2057",Negative_ratings:"344",Desc:"Inspired by the 1983 cult classic film, Wargames, DEFCON superbly evokes the tension, paranoia and suspicion of the Cold War era, playing on the fascinating aspects of psychological gameplay that occur during strategic nuclear warfare.<br />\n\t\t\t\t\tYou play a General hidden deep within an underground bunker. Your mission is to successfully exterminate your enemy's civilian population whilst saving your own. Points are awarded or lost depending on both the efficacy and thoroughness of your nuclear vendetta and the number of your own civilian deaths.  In order to win you must wipe out the enemy population and simultaneously disable the enemy's ability to retaliate against you. This is an extremely difficult task since launching an attack on the enemy exposes the positions of your own Ground Silos, Subs and Bombers the moment they launch nuclear weapons, making you extremely vulnerable and exposed to a crushing counter-attack. <br />\n\t\t\t\t\tDesperate attempts must be made to form fast, tactical alliances, alliances that may at any moment break-down to become the treacherous and most deadly of betrayals. Everyone looks to each other in a state of nervous suspense and paranoid accusation. In all-out nuclear Armageddon, everybody dies, everybody loses, you just have to make sure you lose the least!"},Multiwinia:{Name:"Multiwinia",Publisher:"Introversion Software",Platforms:"windows;mac",Type:"Single-player;Multi-player;Steam Achievements",Genres:"Indie",Positive_ratings:"368",Negative_ratings:"75",Desc:"&quot;Long ago a computer scientist called Dr Sepulveda created a beautiful digital world existing entirely within a computer network of his own invention. This world was called Darwinia and it was inhabited by a peaceful, law-abiding digital life-form called the Darwinians.                    <br />\n\t\t\t\t\tAs the years wore on however the Darwinians became ever more aggressive and autonomous. They divided into factions, squabbling over Darwinia's limited natural resources. Tribes began to roam the fractal voids hell bent on each others destruction, drunk on power and unswerving in the pursuit of world supremacy.                    <br />\n\t\t\t\t\tFar and wide, they became known as the Multiwinians...&quot;                    <br />\n\t\t\t\t\tWelcome to Multiwinia: Survival of the Flattest \x97 the ultimate retro-arcade multiplayer experience! Choose from a selection of six spectacular action-packed game modes, set in one of the most beautiful game environs you will ever set eyes on.                    <br />\n\t\t\t\t\tChallenge your opponent to a game of stick-man slaughter, and watch digital-war unfold, as your Multiwinian army struggles to complete a chosen task faster and better than your rival's. It's fast, it's furious, and only the flattest will survive!"},"Dangerous Waters":{Name:"Dangerous Waters",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"140",Negative_ratings:"44",Desc:"S.C.S. - Dangerous Waters allows you total control over multiple air, surface, and submarine platforms in a modern-day naval environment. Take direct control of individual crew stations and also plan and execute combined arms naval strategies from a top-down 'Commanders Eye' perspective."},"Space Empires IV Deluxe":{Name:"Space Empires IV Deluxe",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"112",Negative_ratings:"26",Desc:"The award-winning Space Empires IV Deluxe is the latest edition in the Space Empires series. A grand strategy title in the space 4X (explore, expand, exploit, and exterminate) genre, Space Empires has already found a place in the heart of strategy gamers everywhere.<br />\n\t\t\tResearch technology, design new ships, wage war on a tactical level, put down rebellions, meet and greet new species, and much more. All the level and campaign design tools are included, allowing anyone to become a part of the expansive Space Empires Mod community."},"Disciples II: Rise of the Elves ":{Name:"Disciples II: Rise of the Elves ",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Strategy",Positive_ratings:"451",Negative_ratings:"108",Desc:"<p>The award-winning series Disciples introduced a milestone in the game's very successful history; the introduction of a new race: The Elves. The Elven Race added a new dimension to the game and added countless hours of gameplay.</p>\n\t\t\t\t\t   <p>Now that series has expanded further with Disciples II: Rise Of The Elves. This version features all of the campaigns found in the original and a brand new campaign that continues the storyline of the Elven Race. It also includes 14 new skirmish maps to test hone your skills.</p>\n\t\t\t\t\t   <h2>Key features</h2>\n\t\t\t\t\t   <ul>\n\t\t\t\t\t\t    <li>New campaign that continues the Elven Storyline \n\t\t\t\t\t\t    <li>14 new skirmish maps to test gamer's skills \n\t\t\t\t\t\t    <li>5 playable races to choose from; the Empire; the Undead Hordes, the Mountain Clans, the Legions of the Damned, and the Elven Alliance \n\t\t\t\t\t\t    <li>The Elven tech tree allows players to choose between Noble or Wild Elves increasing replayability \n\t\t\t\t\t\t    <li>Over 200 individually animated unit types and over 100 different spells \n\t\t\t\t\t\t    <li>Scenario editor to create your own adventures \n\t\t\t\t\t\t    <li>Battle friends and enemies in multiplayer over LAN, Internet or Hot-Seat play \n\t\t\t\t\t   </ul>\n\t\t\t\t\t  "},"Disciples II: Gallean's Return":{Name:"Disciples II: Gallean's Return",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Strategy",Positive_ratings:"490",Negative_ratings:"152",Desc:'<strong>Disciples II: Gallean\'s Return</strong> is a compilation edition that includes the base game, Disciples II: Dark Prophecy, plus the two standalone expansions Disciples II: Guardians of the Light and Disciples II: Servants of the Dark.<br>\t\t\t\t\t <br><strong>Disciples II: Guardians of the Light</strong> is a stand-alone expansion that lets you dive into the fantastical world of Disciples II as either the Empire or the Mountain Clans.<br>\t\t\t\t\t The Empire is decaying from within as self-proclaimed rulers struggle for control of the now vacant throne while a cruel Inquisition sweeps across the human lands, causing rebellion and misery. Meanwhile the Clans, recovering from their near-destruction, begin to reunite their tribes. They have received divine instructions and now seek to uncover an ancient ritual that will let them communicate with their god, Wotan.<br>\t\t\t\t\t <strong>Disciples II: Servants of the Dark</strong> is a stand-alone expansion that brings you into the never-ending quest for supremacy as either the Undead Hordes or the Legions of the Damned.<br>\t\t\t\t\t On the dark side, the Legions of the Damned enact a plan to spread Bethrezen\u2019s plague across Nevendaar. They sense the threat brought about by the rebirth of the Elven god and will stop at nothing to steal this power for their own purposes. Perhaps most pivotal to the conflict, however, is Mortis and her army of Undead Hordes. After all, the rebirth of her husband Gallean was her doing. He had rejected her for what she had become, a twisted, heartless beast. Now she would teach her mate a lesson... one that would scar his people for eternity...<br>\t\t\t\t\t <h2 class="bb_tag">Features</h2>\t\t\t\t\t <ul class="bb_ul"><li>Random map generator<br>\t\t\t\t\t\t </li><li>Multiple resolution support<br>\t\t\t\t\t\t </li><li>High level unit AI support<br>\t\t\t\t\t\t </li><li>Improved computer AI<br>\t\t\t\t\t\t </li><li>Improved editor<br>\t\t\t\t\t\t </li><li>Improved UI<br>\t\t\t\t\t\t </li><li>Auto-Resolve Combat mode<br>\t\t\t\t\t\t </li><li>Player can capture capitals<br>\t\t\t\t\t\t </li><li>Direct 3D support for improved performance<br>\t\t\t\t\t\t </li><li>Enhanced chat interface<br>\t\t\t\t\t\t </li><li>Support for large maps, 120x120 and 144x144<br>\t\t\t\t\t\t </li><li>All the updates for Disciples II: Dark Prophecy<br>\t\t\t\t\t\t </li><li>2 new high-level mini campaigns and original Disciples II campaigns<br>\t\t\t\t\t\t </li><li>16 skirmish/multiplayer maps including 10 never-before-seen maps<br>\t\t\t\t\t\t </li><li>3 new special characters<br>\t\t\t\t\t\t </li><li>New capital backgrounds<br>\t\t\t\t\t\t </li><li>New battle backgrounds<br>\t\t\t\t\t\t </li><li>Four new music tracks<br>\t\t\t\t\t\t </li><li>Exclusive portfolio containing original concept art and sketches<br>\t\t\t\t\t </li></ul>'},"Iron Warriors: T - 72 Tank Command ":{Name:"Iron Warriors: T - 72 Tank Command ",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"137",Negative_ratings:"102",Desc:"The most devastating mechanized armor to ever roll onto a battlefield is brought to life in Iron Warriors: T72-Tank Command. This epic combat simulator allows the player to command an entire platoon of tanks and ALL associated support units, or assume the role of ANY member in a complete tank crew!<br><br>The realism of both the physics and 3D engine creates game environments where real life armored tactic become the only way to survive on the today's modern battlefield!\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Three of Russia's most devastating and powerful tanks ever produced are  yours to control; the T - 34-85, T-55A and T-72B!</li>\n\t\t\t\t\t<li>Roll these mechanized monsters through 18 campaigns, 2 training missions, 5 single player missions and 3 multiplayer (LAN) missions. </li>\n\t\t\t\t\t<li>Master your tank and crew and you will soon take command of other units that round out your mechanized platoon.</li>\n\t\t\t\t\t<li>Cooperative multi-player support allows gamers to team up as a tank crew and play different positions within the same tank! </li>\n\t\t\t\t\t<li>Roll into battle on some of the most realistic terrain maps ever modeled; real weather, destructible terrain and detailed models. </li>\n\t\t\t\t\t<li>Ballistics models take into effect: wind, shell, aerodynamic flight characteristics, barrel wear and droop!</li>\n\t\t\t\t\t<li>Powerful mission editor, map editor, and structure editor included; modify existing content or create your own. </li></ul>"},"Space Empires V":{Name:"Space Empires V",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"191",Negative_ratings:"85",Desc:"Space Empires V is the latest edition in the Space Empires series. This new chapter completely updates the UI and takes the player into a real-time rendered 3D universe. Watch space battles played out in glorious detail and realistic effects. Expand, Explore, Exploit, and Exterminate in a huge living breathing galaxy. New features abound with political alliances between multiple empires, a top-down ship design system, a hexagonal movement grid, and many more. Due to player demand, the game is completely 'moddable' and even adds a scriptable AI system to the mix. Space Empires V boldly takes the next step in the genre of space strategy<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>24 bit 3D real-time rendered graphics. <br>\t\t\t\t\t</li><li>Detailed Tactical Combat (and a combat simulator to test your designs!). <br>\t\t\t\t\t</li><li>New vehicle types and sizes: Ships, Bases, Freighters, Fighters, Mines, Satellites, Troops, Drones, and Weapons Platforms. <br>\t\t\t\t\t</li><li>Ability to completely design and customize all of your vehicles. <br>\t\t\t\t\t</li><li>Large Galaxy: 100 solar systems with 15 planets each. <br>\t\t\t\t\t</li><li>Huge Technology Tree: Thousands of tech levels with hundreds of components and facilities. <br>\t\t\t\t\t</li><li>Completely customizable game graphics: Create your own planets, stars, vehicles, etc. <br>\t\t\t\t\t</li><li>Completely customizable AI players: Create your own AI players with unique traits, styles, and speech. <br>\t\t\t\t\t</li><li>14 unique races to play or customize (or just create your own!) <br>\t\t\t\t\t</li><li>Randomly generated map for every game (or load an existing map). <br>\t\t\t\t\t</li><li>Complete game customization allowed by players (&quot;mods&quot;). </li></ul>"},"Arx Fatalis":{Name:"Arx Fatalis",Publisher:"Arkane Studios",Platforms:"windows",Type:"Single-player",Genres:"RPG",Positive_ratings:"671",Negative_ratings:"106",Desc:"This critically acclaimed first-person RPG takes the player on an amazing journey into the fantasy world of Arx. The game mixes intelligent story with immersive and actual medieval surroundings. Arx Fatalis allows the player to feel that all his actions have a direct consequence on those around him.<br />\n\t\t\t\t\tThe goal of the game is to destroy the secret cult of Akbaa, the god of destruction. As a player, you must prevent the return of such a cruel creature to the physical world. Should you fail, Akbaa is bound to impose its terror upon the world of Arx.<br />\n\t\t\t\t\tYou will become the hero of an underground world - with weapons, spells and magical items to defend against goblins, trolls, rat-men and other vicious opponents.<br />\n\t\t\t\t\tBesides brute force, stealth and the &quot;onscreen gesture based magic system&quot; are the three alternative ways to succeed.   Using the mouse, flaming runes can be drawn in mid-air.  A combination of these gestures can create powerful magic spells that will protect you or empower you to defeat opponents and pursue the quest."},"Source Filmmaker":{Name:"Source Filmmaker",Publisher:"Valve",Platforms:"windows",Type:"Steam Workshop",Genres:"Animation & Modeling;Video Production",Positive_ratings:"15083",Negative_ratings:"1111",Desc:'The Source Filmmaker (SFM) is the movie-making tool built and used by us here at Valve to make movies inside the Source game engine. Because the SFM uses the same assets as the game, anything that exists in the game can be used in the movie, and vice versa. By utilizing the hardware rendering power of a modern gaming PC, the SFM allows storytellers to work in a what-you-see-is-what-you-get environment so they can iterate in the context of what it will feel like for the final audience.<br><br>To get started, just click the button above to install. The SFM includes all the base game assets from Team Fortress 2 along with assets from some of the first \u201cMeet the Team\u201d short films.<h2 class="bb_tag">Resources</h2>Once you\'re up and running, here are some general resources for finding help and learning how to get the most out of the Source Filmmaker.<br><ul class="bb_ul"><li><a href="https://developer.valvesoftware.com/wiki/Source_Filmmaker" target="_blank" rel="noreferrer"  >Official Wiki Documentation</a><br></li><li><a href="https://steamcommunity.com/linkfilter/?url=http://www.sourcefilmmaker.com/faq/" target="_blank" rel="noopener"  >Frequently Asked Questions</a><br></li><li><a href="http://www.youtube.com/playlist?list=PL2B46DEB4157E67C4&amp;feature=plcp" target="_blank" rel="noreferrer"  >Video Tutorials</a><br></li><li><a href="http://steamcommunity.com/sfm/discussions/?appid=1840" target="_blank" rel="noreferrer"  >Community Discussions</a><br></li><li><a href="https://developer.valvesoftware.com/wiki/SFM/Bug_reports" target="_blank" rel="noreferrer"  >How to file bug reports</a></li></ul>'},"Earth 2160":{Name:"Earth 2160",Publisher:"Topware Interactive;ACE",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Co-op;Cross-Platform Multiplayer;Steam Trading Cards",Genres:"Strategy",Positive_ratings:"498",Negative_ratings:"238",Desc:'After the destruction of the EARTH in 2150, the leaders of the Eurasian Dynasty escaped on board an evacuation fleet. Now they are fighting for the survival of the human species. Their base is one large building comprising of smaller variable parts. The Lunar Corporation is already on the Red Planet and has to fight to find a new base and home after the destruction of the Earth. LC buildings are built one on top of the other, similar to a skyscraper, but with one big difference - they have the ability to defy all the laws of gravity to move quickly to a new location.<br><br>The UCS (United Civilized States) machines evolved from the UCS battle machines. During the long flight to Mars, the computer decided to kill all human survivors and then initiated a plan to conquer the solar system with its own mechanical army. The Aliens - alien renegades were imprisoned a long ago, deep in the unknown history of Mars. <br><br>In 2160 the landing of the UCS ships awoke them from their long sleep...<br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/1900/extras/E2160_awards2.png?t=1478034392" ><br><strong><h2 class="bb_tag">GAME FEATURES:</h2></strong><br><ul class="bb_ul"><li>4 playable parties with different basic technologies and abilities<br></li><li>Each party consists of more than 13 basic buildings and more than 13 basic units<br></li><li>4 single player campaigns, each with 7 missions<br></li><li>Skirmish mode with 10 maps<br></li><li>4 Multiplayer modes with 10 maps<br></li><li>Realistic, formable and multi-textured terrain<br></li><li>12 virtual agents with special abilities<br></li><li>Multiplayer matches for up to 8 players per match<br></li><li>EarthC (programming language) SDK for Mod teams<br></li><li>Rich musical score consists of 29 dynamically varyied tracks<br></li><li>Includes Superstorm, Platinum and Titanium Map Pack</li></ul>'},"Two Worlds Epic Edition":{Name:"Two Worlds Epic Edition",Publisher:"Topware Interactive",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Online Multi-Player;Online Co-op;Cross-Platform Multiplayer;Steam Trading Cards;Partial Controller Support",Genres:"RPG",Positive_ratings:"2656",Negative_ratings:"1055",Desc:"... 300 years after Aziraal has been banished, a brother and sister are drawn into the conflict which has flared up between the Orcs and the free world. Kyra, the hero's younger sister, suddenly disappears in mysterious circumstances.<br><br>\xab<i>...If my family really belongs to the chosen ones, why then have we always been as poor as church mice? I have never given much credence to all the old stories about a relict in our family's possession - one which supposedly bannedAziraal, the god of the Orcs - they say that only those ofmy bloodwere chosen to safeguard the secret.<br>'Tis nothing but nonsense methinks \u2013 however, my sister Kyra always listened eagerly to the stories of the old ones... but she vanished several months ago... </i>\xbb<br><br><strong>To all intents and purposes you're an unscrupulous bounty hunter and mercenary - but the search for your sister takes you back to your roots. </strong><br><br>At the beginning of your epic adventure, a mercenary task takes you to the far north - but you're also following up a mysterious lead at the same time - the first clue you've been given since Kyra's disappearance. You get a shock during a meeting with the delegates of a dark Brotherhood - your sister's kidnappers are indeed after your family's relict. Whether there's any truth in your family being chosen ones or not, the others obviously believe it - and if you ever want to see Kyra alive again, you'll have to act swiftly...<br><br><ul class=\"bb_ul\"><li><strong>Includes the original Two Worlds, plus the add-on Tainted Blood</strong><br></li><li><strong>OVER 90 NEW QUESTS:</strong> Journey even deeper into the world of Antaloor with over 90 new quests and eight new multiplayer maps<br></li><li>Soundtrack by Grammy Award Winner <strong>Harold Faltermeyer</strong></li></ul><img src=\"https://steamcdn-a.akamaihd.net/steam/apps/1930/extras/TW_Awards_quer.png?t=1548695249\" ><h2 class=\"bb_tag\"><strong>FEATURES:</strong></h2><ul class=\"bb_ul\"><li><strong>STUPENDOUS LANDSCAPES:</strong> in a fantasy world where every inhabitant leads a separate dynamic life with realistic daily routines, your deeds will determine the fate of the strife-torn land of Antaloor. <br></li><li><strong>PLAYING FREEDOM:</strong> Two Worlds is not for those who don't like making decisions, because you'll often have to take one side or the other \x97 an intelligent, networked reputation system for guilds and secret societies makes sure of that.<br></li><li><strong>KNIGHT, THIEF, MAGE OR ALCHEMIST:</strong> spectacular, dynamically-choreographed fights on foot or at full gallop. An absorbing alchemy system for creating individual potions and power-ups provides diversification - and carrying out break-ins in Sneak mode will have your nerves jangling! If this still isn't enough, try the sophisticated magic system...<br></li><li><strong>INTUITIVE INTERFACE AND INDIVIDUAL DEVELOPMENT OF ATTRIBUTES:</strong> you can experiment with all the character attributes and develop your skills as and when you like. An elaborate inventory system ensures that you always have a clear overview \x97 no matter how hot the action gets. <br></li><li><strong>MASSIVE MULTIPLAYER INCLUDED:</strong> bustling towns are the trading centers and meeting points for several hundred players. Self-created characters fight gripping PvsP duels in Arena mode \x97 or solve a series of exciting quests as allies.<br></li><li><strong>UPDATED GAME ENGINE:</strong> The brand new 1.6 engine update now included!</li></ul>"},"Dark Messiah of Might & Magic":{Name:"Dark Messiah of Might & Magic",Publisher:"Ubisoft",Platforms:"windows",Type:"Single-player;Multi-player;Valve Anti-Cheat enabled",Genres:"Action;RPG",Positive_ratings:"4386",Negative_ratings:"316",Desc:'Discover a new breed of Action-RPG game powered by an enhanced version of the Source\u2122 Engine by Valve. Set in the Might &amp; Magic\xae universe, players will experience ferocious combat in a dark and immersive fantasy environment.  Swords, Stealth, Sorcery. Choose your way to kill.<br>\t\t\t\t\t<ul class="bb_ul"><li>Cutting-edge technology: Experience an enhanced version of the famous Source\u2122 Engine created by Valve. Discover the fresh perspective of a view with complete body awareness, realistic movements, physics rendering, and a complete first-person melee combat system in a fantasy setting. <br>\t\t\t\t\t</li><li>Never-ending action: Challenge the forces of evil in 12 huge levels and learn to master over 30 weapons and an arsenal of devastating spells.<br>\t\t\t\t\t</li><li>Evolve your character: Extend your gameplay experience without being limited to a single discipline. Learn powerful new spells and attacks using Dark Messiah\'s unique Skill Evolution System as you progress through the game.<br>\t\t\t\t\t</li><li>Revolutionary multiplayer mode: Get ready to battle with up to 32 players in the revolutionary Crusade mode, which will enable players to gain experience and new skills across dynamic online campaigns. Enlist with the humans or the undead and choose among five complementary character classes. </li></ul>\xa9 2006 Ubisoft Entertainment.  All Rights Reserved.  Dark Messiah, Might and Magic, Ubisoft and the Ubisoft logo are trademarks of Ubisoft Entertainment in the U.S. and/or other countries.  Developed by Arkane Studios.'},"Quake III Arena":{Name:"Quake III Arena",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Action",Positive_ratings:"1362",Negative_ratings:"66",Desc:"Welcome to the Arena, where high-ranking warriors are transformed into spineless mush. Abandoning every ounce of common sense and any trace of doubt, you lunge onto a stage of harrowing landscapes and veiled abysses. Your new environment rejects you with lava pits and atmospheric hazards as legions of foes surround you, testing the gut reaction that brought you here in the first place. Your new mantra: Fight or be finished."},"Quake IV":{Name:"Quake IV",Publisher:"Bethesda Softworks",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Action",Positive_ratings:"891",Negative_ratings:"171",Desc:'In a desperate war for Earth\u2019s survival, against an unrelenting enemy, the only way to defeat them is to become one of them. Armed with advanced weaponry and vehicles and aided by an elite squad of marines, you take the battle to the heart of the Strogg home planet and become earth\u2019s only hope for victory.<br>\t\t\t\t\t\t<h2 class="bb_tag">Key features:</h2>\t\t\t\t\t\t<ul class="bb_ul"><li>Built on id Tech 4 (the Doom 3 engine)<br>\t\t\t\t\t\t</li><li>Sequel to the Quake 2 storyline<br>\t\t\t\t\t\t</li><li>Battle outdoors using tanks and walkers<br>\t\t\t\t\t\t</li><li>Fight with the support of an elite squad<br>\t\t\t\t\t\t</li><li>Compete online in fast action, arena-style multiplayer<br>\t\t\t\t\t\t</li></ul>'},"Wolfenstein 3D":{Name:"Wolfenstein 3D",Publisher:"Bethesda-Softworks",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Action",Positive_ratings:"1773",Negative_ratings:"87",Desc:"Maybe it was the fact that people got to blow away Nazis. Maybe it was the sheer challenge of it all. For whatever reason, Wolfenstein 3D and Spear of Destiny, pioneered the first-person shooter genre and brought its legendary creators, id Software, worldwide notoriety and numerous awards. In fact, The Computer Gaming World Hall of Fame recognized Wolfenstein 3D as helping to shape the overall direction of the computer gaming industry."},"Ultimate Doom":{Name:"Ultimate Doom",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Action",Positive_ratings:"3705",Negative_ratings:"257",Desc:"The complete megahit game that set the world afire. Plus All-New Episode IV: Thy Flesh Consumed.<br />\n\t\t\t\t\tThe demons came and the marines died. Except one. You are the last defense against these hell-spawned hordes. Prepare for the most intense mutant-laden, blood-splattered action ever! The texture-mapped virtual world is so real, you don't just play DOOM - you live it.<br />\n\t\t\t\t\tThe Ultimate DOOM takes you beyond anything you've ever experienced. First, you get all three original episodes - that's 27 levels of awesome, explosive excitement. Then it really blows you away with an all-new episode: Thy Flesh Consumed.<br />\n\t\t\t\t\tNow you're dead meat. Just when you think you're getting pretty good at DOOM, you get hit with Perfect Hatred, Sever the Wicked and seven other expert levels never seen before! They're so incredibly tough, the first 27 levels will seem like a walk in the park!"},"Final DOOM":{Name:"Final DOOM",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Action",Positive_ratings:"573",Negative_ratings:"82",Desc:"<strong>Two New, 32-Level DOOM II Episodes.</strong><br>\t\t\t\t\tEvilution:<br>\t\t\t\t\tFar from earth, the UAC recommenced their experiments on on of the moons of Jupiter. A spaceship, mistaken for a supply vexxel on radar, hovered above the base. Hideous demons poured out, blanketing the base with death. All your comrades were quickly slaughtered or zombified. This time, it's not about survival. It's about revenge.<br>\t\t\t\t\tThe Plutonia Experiment:<br>\t\t\t\t\tEvery effort has been made by the nation's top scientists to close the seven interdimensional Gates of Hell, but one portal remains open. Alone, you must infiltrate the ravaged complex, defeat the demon Gatekeeper and seal the last Hell-hole before the undead are prepared to, once again, take over the world."},"DOOM II":{Name:"DOOM II",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Action",Positive_ratings:"2517",Negative_ratings:"182",Desc:"Let the Obsession begin. Again.<br />\n\t\t\t\t\tThis time, the entire forces of the netherworld have overrun Earth. To save her, you must descend into the stygian depths of Hell itself!<br />\n\t\t\t\t\tBattle mightier, nastier, deadlier demons and monsters. Use more powerful weapons. Survive more mind-blowing explosions and more of the bloodiest, fiercest, most awesome blastfest ever!<br />\n\t\t\t\t\tPlay DOOM II solo, with two people over a modem, or with up to four players over a LAN (supporting IPX protocol). No matter which way you choose, get ready for adrenaline-pumping, action-packed excitement that's sure to give your heart a real workout."},QUAKE:{Name:"QUAKE",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Co-op;Steam Cloud",Genres:"Action",Positive_ratings:"2618",Negative_ratings:"136",Desc:"Rage through 32 single player levels and 6 deathmatch levels of sheer terror and fully immersive sound and lighting. Arm yourself against the cannibalistic Ogre, fiendish Vore and indestructible Schambler using lethal nails, fierce Thunderbolts and abominable Rocket and Grenade Launchers."},"QUAKE II":{Name:"QUAKE II",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Co-op;Steam Cloud",Genres:"Action",Positive_ratings:"1369",Negative_ratings:"107",Desc:"Shortly after landing on an alien surface, you learn that hundreds of your men have been reduced to just a few. Now you must fight your way through heavily fortified military installations, lower the city's defenses and shut down the enemy's war machine. Only then will the fate of humanity be known."},"QUAKE II Mission Pack: The Reckoning":{Name:"QUAKE II Mission Pack: The Reckoning",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Action",Positive_ratings:"65",Negative_ratings:"12",Desc:"You are part of an elite commando force that must infiltrate a hostile alien cite. Once inside, you must scour industrial landscapes, crawl through waterways and air ducts, navigate treacherous canyons teeming with vicious mutants, stow away on an alien spacecraft, and destroy the enemy's secret moon base."},"QUAKE II Mission Pack: Ground Zero":{Name:"QUAKE II Mission Pack: Ground Zero",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Action",Positive_ratings:"54",Negative_ratings:"33",Desc:"Take out the Big Gun sounded simple enough, except the Strogg were waiting. You, and a few marines like you, are the lucky ones. You've made it down in one piece and are still able to contact the fleet. The Gravity Well, the Strogg's newest weapon in its arsenal against mankind, is operational. With the fleet around Stroggos, 5% of ground forces surviving, and that number dwindling by the second, your orders have changed: free your comrades. Destroy the Gravity Well.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>New Enemies - The Stalker, Turrets, Daedalus, Medic Commander, Carrier, and the Black Widow.<br>\t\t\t\t\t</li><li>14 Entirely new levels and 10 new deathmatch levels.<br>\t\t\t\t\t</li><li>New Power-Ups - Deathmatch specific power-ups: Vengeance Sphere, Hunter Sphere, and Anti-matter bomb.<br>\t\t\t\t\t</li><li>New Weapons - The Chainsaw, ETF Rifle and Plasma Beam.</li></ul>"},"QUAKE III: Team Arena":{Name:"QUAKE III: Team Arena",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Action",Positive_ratings:"108",Negative_ratings:"31",Desc:"Never before have the forces aligned. United by name and by cause, The Fallen, Pagans, Crusaders, Intruders, and Stroggs must channel their power into an allied operation where teamwork is the only method of mass destruction. Four distinct games test each troop's synthesis and strength to exacting degrees. Cooperation is the only course of action, and war, the only alternative. Soldiers once alone in their struggle, now face the Arena as one."},"HeXen: Beyond Heretic":{Name:"HeXen: Beyond Heretic",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Action",Positive_ratings:"249",Negative_ratings:"26",Desc:"<p>While you were battling the evil forces of D'Sparil, the other Serpent Riders were busy sowing the seeds of destruction in other dimensions. One such dimension is the decaying world where Hexen takes place. A world littered with the mangled corpses of nonbelievers and inhabited by the undead followers that executed them. Only three humans &endash; a warrior, a mage and a cleric &endash; have escaped the leaders' vicious spell. Now these brave souls have sworn to crush the evil regime that threatens to destroy the world forever. Separated upon entering the mystical portal, the three are forced to attempt on their own what they had hoped to do together: find Korax's stronghold, destroy him and restore order in the physical world.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Become one of 3 heroes. Wield superhuman powers and lethal weapons.</li>\n\t\t\t\t\t<li>Walk. Run. Fly. Look all around. Inflict serious pain.</li>\n\t\t\t\t\t<li>Pillage your way through earthquakes, crumbling bridges and fog.</li>\n\t\t\t\t\t<li>Track down powerful artifacts and cast wicked spells.</li>\n\t\t\t\t\t<li>Four sick individuals can wreak havoc via network, two by modem.</li></ul>"},"HeXen: Deathkings of the Dark Citadel":{Name:"HeXen: Deathkings of the Dark Citadel",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Action",Positive_ratings:"57",Negative_ratings:"20",Desc:"<p>Where HeXen Ends, the True Nightmare Begins. Deathkings of the Dark Citadel is the only official expansion of the original HeXen game. This add-on pack features 20 new single player levels from the original HeXen team as well as a host of new multiplayer options.</p>\n\t\t\t\t\t<p>Deathkings of the Dark Citadel was the first true game expansion that Raven Software ever produced. In addition to providing three new hubs for the original HeXen, the Deathkings expansion was the first multiplayer game that allowed eight players to connect to a LAN simultaneously.</p>"},"Heretic: Shadow of the Serpent Riders":{Name:"Heretic: Shadow of the Serpent Riders",Publisher:"id Software",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Action",Positive_ratings:"417",Negative_ratings:"29",Desc:"<p>In a twisted medieval dimension, undead creatures and bestial horrors have done the unthinkable--callously slaughtering your entire race. Your friends. Your family. Eliminated. But the nightmare has just begun. Wielding ungodly weapons such as the Firemace and Hellstaff and casting spells from the Tomes of Power, you must seek your vengeance. Or die trying.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Supports up to four players via network, two by modem. Adventure through the game with a friend or crack their skull in a bloody deathmatch.</li>\n\t\t\t\t\t<li>Walk. Run. Fly. Look all around you, even up and down.</li>\n\t\t\t\t\t<li>Choose from among 7 weapons (from the simple staff to the awesome Phoenix Rod).</li>\n\t\t\t\t\t<li>Use arcane artifacts to unleash unearthly power on unsuspecting foes.</li></ul>"},"The Ship: Murder Party":{Name:"The Ship: Murder Party",Publisher:"Blazing Griffin Ltd.",Platforms:"windows",Type:"Single-player;Multi-player;Steam Trading Cards;Valve Anti-Cheat enabled",Genres:"Action;Indie;RPG",Positive_ratings:"4819",Negative_ratings:"792",Desc:'<h1>Finding a Server</h1><p><strong>Ahoy Shipmates!</strong><br><br>Unfortunately the in-game server browser is no longer working.  However, players can connect to servers via the Steam Client &gt; View &gt; Servers (if you don\'t see The Ship you may have to restart the client).  Feel free to drop by the forums to chat about this and you can find a more detail explanation of the issues in our announcement:  <a href="http://steamcommunity.com/games/theship/announcements/detail/194000194554609687" target="_blank" rel="noreferrer"  >http://steamcommunity.com/games/theship/announcements/detail/194000194554609687</a></p><br><h1>About the Game</h1><strong>This package includes a tutorial, The Ship Single Player, which introduces you to some gameplay mechanics and storyline, and The Ship Multiplayer where you can hunt and be hunted by other players.</strong><br><br>Please read our State of the Game announcement:  <a href="http://steamcommunity.com/gid/103582791430084264/announcements/detail/194000194554609687" target="_blank" rel="noreferrer"  >http://steamcommunity.com/gid/103582791430084264/announcements/detail/194000194554609687</a><br><br>For PC gamers who enjoy multiplayer games with a bit of intelligence, intrigue and ingenuity, <strong>The Ship</strong> is a murder mystery alternative to traditional FPS multiplayer games.  Each player is given a Quarry to kill - and must evade their own Hunter in the process, all set on board a series of 1920s art deco cruise ships.<br><br>The Ship is owned by the mysterious Mr X and as one of many \'lucky\' recipients of a free ticket you arrive on board The Ship to find there\'s a catch to your luxury cruise.  You are coerced into a brutal Hunt to indulge Mr. X\'s fantasies, under threat of death for not only yourself, but also your family. Your only chance to save yourself and your family is to play the Hunt and win.<br><br>Combining stealthy multiplayer action and a needs system, The Ship is a truly unique gaming experience.<br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/2400/extras/The-Ship---Mr-X.jpg?t=1521044912" >'},"Bloody Good Time":{Name:"Bloody Good Time",Publisher:"Ubisoft",Platforms:"windows",Type:"Single-player;Multi-player;Steam Achievements",Genres:"Action",Positive_ratings:"662",Negative_ratings:"204",Desc:"<p>Congratulations, you\u2019ve just been cast in your first slasher movie!  You\u2019ve been given your big break by the notorious Director X. His methods have produced some of the finest grindhouse films ever committed to celluloid. Famous faces and big names are not what this director is looking for. Fresh faces are all Director X casts, and with your embarrassingly empty resume you\u2019re as fresh as they come!</p>\n\t\t\t\t\t<p>But seven other hopefuls are also in the running, so you\u2019re going to need to prove your worth if you\u2019re to hit the leading credits. You\u2019re going to have to scratch, claw and strike to slash your way to the top. This job\u2019s going to be murder!</p>\n\t\t\t\t\t<p>Developed by Outerlight, Bloody Good Time takes a new and irreverent approach to multiplayer shooters. The game runs on the Valve\u2019s Source engine, known for classic multiplayer shooters such as Half-Life and Team Fortress.</p>\n\t\t\t\t\t<h2>Key Features:</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t  <li><strong>Be a deceitful bastard!</strong> Flush your enemies in the toilet, crash their heads on their plates when they eat, do whatever it takes to maim and <strong>kill other competitors in nasty and unexpected ways!</strong>\n\t\t\t\t\t\t  <li>Use a <strong>full arsenal of wacky weapons</strong> including guns, a baseball bat, a frying pan, and even an exploding remote-controlled rat to <strong>transform the movie set into real mayhem!</strong>\n\t\t\t\t\t\t  <li>Clash with up to 8 players online in a zany, first-person shooter, <strong>multiplayer experience like no other</strong>. \n\t\t\t\t\t\t  <li>Choose from a variety of <strong>stereotypical B- movie characters</strong>, including the bikini beach babe, the stoner, the creepy clown and the super jock.\n\t\t\t\t\t\t  <li>From Spring Break Beach to the Horror House to the Vegas Hotel, discover <strong>what\u2019s behind the Hollywood set in these unique multiplayer maps</strong>.\n\t\t\t\t\t\t  <li><strong>Developed by Outerlight</strong>, best known for their work on The Ship and the Half-Life mod of the Ship. This Scottish-based developer brings a great combination of humor and quality game play to Bloody Good Time.\n\t\t\t\t\t\t  <li>Running on the <strong>Valve\u2019s Source engine</strong>, Bloody Good Time comes from the same pedigree of classic, online multiplayer shooters such as Half-Life, Team Fortress and Counter-Strike.\n\t\t\t\t\t</ul>"},Shadowgrounds:{Name:"Shadowgrounds",Publisher:"Frozenbyte",Platforms:"windows;mac",Type:"Single-player;Shared/Split Screen;Steam Trading Cards",Genres:"Action",Positive_ratings:"973",Negative_ratings:"248",Desc:"Shadowgrounds breathes fresh air into the action genre with explosive combat sequences, an innovative weapon upgrade system, and an intriguing storyline. The adrenaline-pumping, top-down gameplay and audiovisual fireworks set the scene for this new action experience which also includes single computer (split keyboard or joystick) co-op play.<br>\t\t\t\t\t<strong>UPGRADE THOSE WEAPONS!</strong> Use a devastating arsenal of high-tech weaponry to dispose of the alien threat. Each weapon has multiple upgrades that maximize the carnage. Unleash the flames of the Flamethrower's Fuel Trap, cause mayhem with the Grenade Launcher's Poison Grenades, slash and dice the monsters with the Laser Rifle's Pinpoint Laser - and many more!<br>\t\t\t\t\t<strong>WHAT LURKS IN THE SHADOWS?</strong> Shadowgrounds uses cutting-edge realistic lighting and glow technology to light up the battlefield and create detailed shadows producing an atmosphere of fear. But the lighting and the flashlight also affect some aliens' behavior - take advantage of that and you can turn the tide in the game of fear by using your flashlight effectively.<br>\t\t\t\t\t<strong>DESTRUCTIBLE ENVIRONMENT!</strong> What good are weapons and special effects if you can't wreak havoc on the environment? Shadowgrounds lets you go all-out - glass shatters, ground shakes, trees fall, barrels explode and furniture blows to smithereens. You can use the environment to your advantage.<br>\t\t\t\t\t<strong>THEY'RE BIG AND NASTY!</strong> Big, brutal monsters await you. Prepare to face many different bosses who will do anything to stop your journey. They're nasty, blood-thirsty beasts, but don't give in to fear - remember to use the environment and the lighting to your advantage!<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Upgrade weaponry with powerful modifications.<br>\t\t\t\t\t</li><li>Face enormous monsters in boss battles.<br>\t\t\t\t\t</li><li>Destructible environment allows you to wreak havoc with your arsenal.<br>\t\t\t\t\t</li><li>Visit many exciting locations, including a secret military base and the alien-infested colony New Atlantis.<br>\t\t\t\t\t</li><li>Fight side-by-side with NPC allies against the massive alien hordes.<br>\t\t\t\t\t</li><li>Check security cameras and computer logs to investigate alien origins.<br>\t\t\t\t\t</li><li>Realistic lighting with gameplay effects bring the aliens out of the shadows.<br>\t\t\t\t\t</li><li>Enjoy horrifying sound effects and a thrilling music soundtrack made exclusively for Shadowgrounds.</li></ul>"},"Gumboy - Crazy Adventures\u2122":{Name:"Gumboy - Crazy Adventures\u2122",Publisher:"CINEMAX, s.r.o.",Platforms:"windows",Type:"Single-player",Genres:"Casual;Indie",Positive_ratings:"52",Negative_ratings:"46",Desc:'Gumboy has fun and novel gameplay set in a richly imagined world.   With simple game controls, Gumboy lets the player bounce, roll, float, and fly through the world.  Additionally, Gumboy can change size, shape and material.  Moving through the world with different physical properties and gameplay:  spheres, cubes or stars filled with rubber, air or water...  Combine these elements with objectives centered on particle effects and control and Gumboy is refreshing, challenging, and original fun for everyone for all types of gamers.<br>\t\t\t\t\t<ul class="bb_ul"><li>Innovative game based on ball physics in various environments<br>\t\t\t\t\t</li><li>Over 50 levels within a fairy-tale atmosphere<br>\t\t\t\t\t</li><li>Interactive environments: water, wind, rain, teleports, boosts, sticky and slippery surfaces<br>\t\t\t\t\t</li><li>Original artistic depiction of 6 various worlds (forest, field, cave, magical world...)<br>\t\t\t\t\t</li><li>Fantastic lighting and dynamic effects<br>\t\t\t\t\t</li><li>Detailed graphics with acceleration and fascinating particle effects<br>\t\t\t\t\t</li><li>Various ball shapes: sphere, cube, star<br>\t\t\t\t\t</li><li>Various ball fillings with an influence on its characteristics: rubber, air, water<br>\t\t\t\t\t</li><li>Saves games in progress and the results achieved for several players<br>\t\t\t\t\t</li><li>Game supports widescreen displays (16:9)</li></ul>'},"Alpha Prime":{Name:"Alpha Prime",Publisher:"Bohemia Interactive",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"610",Negative_ratings:"523",Desc:"Somewhere in deep space, at an apparently abandoned mining base on the asteriod Alpha Prime, something has gone terribly wrong. Miners were warned that the hubbardium they were mining was too dangerous, but the lure of unimaginable wealth was too strong. Now, something has happened to them and it's up to you to save them and face an unknown threat.<br>\t\t\t\t\tEquipped with a surplus of advanced weapons and devices--including a variety of robots and manipulators, surveillance cameras and security systems that can be hacked, controlled and used to complete your task--your mission is simple: Get in, get 'em, and get out!<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>10 levels of fast-paced, unrelenting action including mining station, spaceship hangar, magnetic railway or asteroid surface<br>\t\t\t\t\t</li><li>Non-playable characters aid you in your mission to save the miners and get off the asteroid<br>\t\t\t\t\t</li><li>Countless enemies including Special Forces soldiers, robots and deranged miners<br>\t\t\t\t\t</li><li>8 futuristic weapons including pistols, shotguns, machine guns, grenades\u2026<br>\t\t\t\t\t</li><li>Vehicles can be used to move to different locations quickly<br>\t\t\t\t\t</li><li>Hack into devices including robots, surveillance cameras, security systems, doors, etc.<br>\t\t\t\t\t</li><li>Bullet time allows players to temporarily slow down the action and get the upper hand<br>\t\t\t\t\t</li><li>Compatible with Matrox TripleHead2Go\u2122, enabling gamers to connect 3 screens</li></ul>"},"Vampire: The Masquerade - Bloodlines":{Name:"Vampire: The Masquerade - Bloodlines",Publisher:"Activision",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"6161",Negative_ratings:"362",Desc:"Vampire\xae: The Masquerade-Bloodlines\u2122 delivers a new type of RPG experience-one that blends all the core elements of a traditional RPG with the graphical richness, immediacy and brutal combat of a first-person action game. The game plunges players into the dark and gritty vampire underworld of modern-day L.A. as a creature of the night. Players will develop their character's powers, interact with other characters and embark on story-driven quests as they battle mortals and other vampires with an incredible array of vampire powers and weapons. Powered by Valve's Source Technology, the game is based on White Wolf's popular Vampire: The Masquerade pen-and-paper RPG series and its official clans."},"GUN\u2122":{Name:"GUN\u2122",Publisher:"Activision",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"740",Negative_ratings:"87",Desc:'When life robs Colton White of all that matters, the only thing left he can trust is his GUN. From award-winning developer, Neversoft, and accomplished screenwriter, Randall Jahnson (The Mask of Zorro, The Doors), GUN follows Colton on his quest for discovery as he seeks to exact vengeful justice on those who have wronged him. GUN is a realistic epic action/adventure that lets gamers experience the brutality of the lawless West.<br>\t\t\t\t\t<ul class="bb_ul"><li>New and savage ways to punish: Stealthily sneak up and attack your enemies, use them as cover, stab and shoot them. Blast away and watch the aftermath, shoot guns out of enemy hands, or destroy with dynamite. <br>\t\t\t\t\t</li><li>Extensive variety of missions and game play: Wage war on horseback, commandeer trains, protect prostitutes, collect bounties, play poker, hunt buffalo, and more. Multiple game play styles include: precision shooting, stealth tactics, and use of explosives. Embark on numerous side missions that allow you to master gun slinging and horse riding. Unlock secret weapons and upgrade your skills and abilities to improve your weapon and equipment performance.<br>\t\t\t\t\t</li><li>Brutal realism: Act as a gunslinger protecting righteousness, or seek retribution as you face corrupt lawmen, warring tribes, cold-blooded outlaws, and ruthless renegades. Encounter legendary gunfighters such as JJ Webb. Employ a multitude of authentic weapons including: Six shooters, shotguns, Gatling guns, flaming arrows, hatchets, dynamite, and more.<br>\t\t\t\t\t</li><li>Expansive interactive world: Play an extensive variety of exciting missions as you journey west across the new frontier. Ride on horseback through the scenic, yet dangerous Western terrain of canyons, mountains, plains, forests, gold mines and towns.</li></ul><br>\xa9 2006 Activision Publishing, Inc.  Activision is a registered trademark and GUN is a trademark of Activision Publishing, Inc.  All rights reserved.  All other trademarks and trade names are the properties of their respective owners.'},"Call of Duty\xae":{Name:"Call of Duty\xae",Publisher:"Activision",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"1555",Negative_ratings:"117",Desc:"<strong><i>Call of Duty\xae</i></strong> delivers the gritty realism and cinematic intensity of World War II's epic battlefield moments like never before - through the eyes of citizen soldiers and unsung heroes from an alliance of countries who together helped shape the course of modern history.<br><br>Play through the chaos of battle as part of a well-trained squad, that lays down covering fire and pulls its wounded to safety. In addition to authentic squad movements and tactics, each soldier's distinct personality and training comes out on the battlefield.<br><br>No one soldier or nation single-handedly won the war. For the first time, <strong><i>Call of Duty\xae</i></strong> captures the war from multiple perspectives, through the eyes of American, British and Russian soldiers. Battle through 24 missions spanning 4 interconnected historical campaigns. Take on mission objectives ranging from sabotage and all-out assault to stealth, vehicle combat and rescue. Authentic weapons, locations, vehicles and sounds of war all contribute to the realism, immersing you in the most intense World War II experience yet.<br><br>\xa9 2003 Activision Publishing, Inc.  Activision and Call of Duty are registered trademarks of Activision Publishing, Inc.  All rights reserved.  All other trademarks and trade names are the properties of their respective owners."},"Call of Duty\xae 2":{Name:"Call of Duty\xae 2",Publisher:"Activision;Aspyr (Mac)",Platforms:"windows;mac",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"2434",Negative_ratings:"236",Desc:"Call of Duty\xae 2 redefines the cinematic intensity and chaos of battle as seen through the eyes of ordinary soldiers fighting together in epic WWII conflicts. The sequel to 2003's Call of Duty, winner of over 80 Game of the Year awards, Call of Duty 2 offers more immense, more intense, more realistic battles than ever before, thanks to the stunning visuals of the new COD\u21222 engine.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>The #1 WWII shooter development team returns with an amazing new experience: Developed by Infinity Ward, creators of the award-winning Call of Duty. All-new, unprecedented enhancements from stunningly realistic graphics to seamless gameplay, thanks to the revolutionary COD2 engine, groundbreaking AI, and choice-based gameplay innovations. Beautifully rendered snow, rain, fog, and smoke, combined with dynamic lighting and shadows, make this the most intense WWII shooter yet.<br>\t\t\t\t\t</li><li>New conflicts and enemies to face: Call of Duty 2 brings you bigger battles, with more tanks, troops, and explosions on-screen, and bigger scope, with a wide range of locales and environments across the European Theater. Fight &quot;The Desert Fox&quot; across the scorching sands of North Africa as wave upon wave of tanks clash in the desert. Use rocket-propelled grappling hooks alongside your Army Ranger squad to storm and scale the cliffs of Pointe du Hoc against a relentless German counterassault, and slog through urban chaos as a tank hunter in war-torn Russia. <br>\t\t\t\t\t</li><li>Rely on your squad as never before: The dozens of Allied soldiers surrounding you are fully aware of the changing situations around them, and will let you know using an all-new, context-sensitive battle chatter system. They will draw enemy fire, lay down cover for you, use foxholes and moving tanks for cover, and warn you of incoming enemy troops and hostile fire.<br>\t\t\t\t\t</li><li>Choice-based gameplay: Play through missions in the order you see fit. Will you decide to play first as a sniper or as a tank commander? It's your call. Open-ended battlefields allow you to individualize your tactics and choose the order in which you complete your objectives. <br>\t\t\t\t\t</li><li>Multiplayer Mayhem: Go online for intense Axis vs. Allies team-based multiplayer action, building on the hugely popular Call of Duty multiplayer modes.</li></ul>"},"Call of Duty: United Offensive":{Name:"Call of Duty: United Offensive",Publisher:"Activision",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"490",Negative_ratings:"97",Desc:"Award-winning developer Gray Matter Interactive follows up on the success of Infinity Ward's Call of Duty\u2122 - winner of over 80 Game of the Year and 50 Editors' Choice awards worldwide - with Call of Duty\u2122: United Offensive\u2122. Take the role of American, British, and Russian soldiers in some of the most climactic battles of World War II, including the Battle of the Bulge, the invasion of Sicily, and the Battle of Kursk.<br />\n\t\t\t\t\tFight in tanks, jeeps, motorcycles, even a bomber. Work with your squad through snow and rain, using new weapons including flamethrowers and deployable machine guns, or by calling in artillery strikes. 13 All-New Single Player missions spanning three campaigns. 11 exciting new Multiplayer maps and 3 new multiplayer modes including Domination, Capture the Flag, and Base Assault.<br />\n<br />\n\xa9 2006 Activision Publishing, Inc.  Activision and Call of Duty are registered trademarks of Activision Publishing, Inc.  All rights reserved.  All other trademarks and trade names are the properties of their respective owners."},"Act of War: Direct Action":{Name:"Act of War: Direct Action",Publisher:"THQ Nordic",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"180",Negative_ratings:"33",Desc:"<strong>Tomorrow's War Is NOW</strong><br>\t\t\t\t\tRipped from today's headlines, Act of War: Direct Action\u2122 is a frightening tale of suspense, international intrigue and geopolitical military conflict. This real-time strategy experience puts you squarely in control of counterterrorist forces and delivers a first look at tomorrow's war.<br>\t\t\t\t\tThe Situation:<br>\t\t\t\t\tA crippling energy crisis. Terrorist attacks. Massive strikes. Global instability.<br>\t\t\t\t\t<br>\t\t\t\t\tThe Enemy:<br>\t\t\t\t\tA shadowy Consortium of back-room conspirators determined to throw the world into utter chaos using widespread terror tactics. <br>\t\t\t\t\t<br>\t\t\t\t\tThe Heroes:<br>\t\t\t\t\tA new &quot;direct action&quot; operation known as Task Force TALON to counter massive military assaults, rescue hostages, conduct classified spy missions, take prisoners and stop an unpredictable enemy bent on toppling the world's governments.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Command ultra-realistic modern military units<br>\t\t\t\t\t</li><li>Power-packed combination of high-end cinema, video effects and live action<br>\t\t\t\t\t</li><li>Intense multiplayer operations for up to eight players<br>\t\t\t\t\t</li><li>Real urban combat, including POW captures and landscape destruction<br>\t\t\t\t\t</li><li>Gripping storyline by NY Times bestselling author, Dale Brown</li></ul>"},"ThreadSpace: Hyperbol":{Name:"ThreadSpace: Hyperbol",Publisher:"Atari",Platforms:"windows",Type:"Single-player;Multi-player;Includes level editor",Genres:"Action;Indie;Strategy",Positive_ratings:"31",Negative_ratings:"9",Desc:'ThreadSpace: Hyperbol is an action-strategy game set in the distant future. Players battle each other on roads in space as they pilot massive ships capable of firing a wide variety of weapons.  Create defenses, coordinate with your team, and launch an assault against your opponents to achieve victory!<br>\t\t\t\t\t<ul class="bb_ul"><li>Countless strategies: Over 30 unique projectiles are at your disposal to attack the enemy, fortify your defenses, and assist your allies.<br>\t\t\t\t\t</li><li>Tactical team play: Coordinate with a team of players to defeat your opponents where every player can have unique strengths and weaknesses.  Up to 16 players online.<br>\t\t\t\t\t</li><li>Customizable ships: Acquire ships to control and customize their design by selecting different parts and colors.  Customize the way your ship behaves by installing new components that alter its attributes.<br>\t\t\t\t\t</li><li>Persistent universe: Play as a character you create that can gain levels and credits. Purchase new ships and components with the credits you earn to truly distinguish your character in the universe.<br>\t\t\t\t\t</li><li>Online ladder system: Compete against other players online and see who the best pilots are.  Earn rewards for being on top.<br>\t\t\t\t\t</li><li>Awards: Demonstrate your skill by earning in-game awards like &quot;Bounty Hunter&quot; and &quot;Combat Mastery&quot;.<br>\t\t\t\t\t</li><li>Voice communication: Talk to your team to plan your attacks and coordinate your abilities.<br>\t\t\t\t\t</li><li>Create custom maps: Make your own maps with the Map Editor to play them online and with your friends.</li></ul>'},"ARMA: Combat Operations":{Name:"ARMA: Combat Operations",Publisher:"Bohemia Interactive",Platforms:"windows",Type:"Single-player;Multi-player;Includes level editor",Genres:"Action",Positive_ratings:"145",Negative_ratings:"77",Desc:"Sequel to the highly successful Operation Flashpoint, ARMA: Combat Operations is a first person tactical military shooter on the PC with large elements of realism and simulation. This game features a blend of large-scale military conflict spread across large areas alongside the more close quartered battles. You'll be thrust into the midst of an engaging and expanding storyline, fighting against smart, aggressive enemies who will continually provide a challenge over a massive landscape.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li><strong>Story driven single player campaign:</strong> Write your own campaign storyline by choosing the right mission order when playing the 20+ missions. Play it differently next time and find new ways to victory!<br>\t\t\t\t\t</li><li><strong>Large scale multiplayer:</strong> Use ARMA Combat Operations' strong multiplayer mode and play battles where tanks supported by infantry and helicopters take control of an enemy city. The engine supports 50+ live opponents in a role of both friendly and enemy forces.<br>\t\t\t\t\t</li><li><strong>More than 30 weapons:</strong> Every weapon has unique firing characteristics featuring the new and improved recoil system.<br>\t\t\t\t\t</li><li><strong>Vast environment to explore:</strong> Explore Sahrani, an area over 400 square kilometers in size, full of flora and fauna.<br>\t\t\t\t\t</li><li><strong>More than 30 modern vehicles:</strong> All vehicles in the game can be controlled - tanks, armored vehicles, helicopters, airplanes, civilian cars or even boats.<br>\t\t\t\t\t</li><li><strong>Multiple gunners:</strong> Utilize the multiple gunner positions on tanks and helicopters to rain death on your enemies both in multiplayer missions and single player campaign.<br>\t\t\t\t\t</li><li><strong>HDR Lighting effects:</strong> Ambushing an enemy with the sun in your eyes leaves you at the disadvantage. Think smart, fight better!<br>\t\t\t\t\t</li><li><strong>Real constellations and tides:</strong> ARMA's great depth even includes such features as fully simulated star maps, lunar cycles and tides. Watch where you park your vehicle, soldier!<br>\t\t\t\t\t</li><li><strong>Built-in mission editor:</strong> Create you own scenarios using the easy-to-use mission wizard, advanced built-in mission editor, scripting language or BI tools available online and share your creation with the game.</li></ul>"},"X2: The Threat":{Name:"X2: The Threat",Publisher:"Egosoft",Platforms:"windows",Type:"Single-player;Captions available;Steam Cloud",Genres:"Strategy",Positive_ratings:"212",Negative_ratings:"50",Desc:'X\xb2: The Threat is of a new generation of space simulator games, you play the role of Julian Gardna who continues the story set by X: Beyond The Frontier. The updated graphics engine gives the universe a fresher feel with newly designed ships and stations adding to the complexity of the universe.<br>\t\t\t\t\t<ul class="bb_ul"><li>Explore: You can explore over 130 beautifully designed sectors occupied by nebulas that affect your ships and stations, asteroids you can mine for materials you can later sell on for profit.<br>\t\t\t\t\t</li><li>New Ships: Explore in over 60 ships of varying sizes from scout class ships to the much larger carrier class battleships.<br>\t\t\t\t\t</li><li>New Upgrades:  Upgrade your ships systems with many more upgrades, and download new upgrades that make use of the new scripting engine designed specially for X\xb2.<br>\t\t\t\t\t</li><li>New Weapons: Add new weapons to your ship including the Ion Disruptor and Mass Driver, but also build factories that will develop these weapons and sell them to make a profit, expanding your own empire among the universe.<br>\t\t\t\t\t</li><li>New Missions:  Take part in missions offered to you on each stations bulletin board, make money by defending convoys and destroy incoming Xenon fleets intent on destroying everything in their path.<br>But above all else, help to defend the universe from the Khaak, before they kill everyone and everything they come across.</li></ul>'},"X3: Reunion":{Name:"X3: Reunion",Publisher:"Egosoft",Platforms:"windows;mac;linux",Type:"Single-player;Captions available;Steam Cloud",Genres:"Strategy",Positive_ratings:"282",Negative_ratings:"113",Desc:"The Sequel to the award winning X\xb2: The Threat introduces a new 3D engine as well as a new story, new ships and a new gameplay to greatly increase the variety in the X-universe. The economy of X\xb3: Reunion is more complex than anything seen in the X-universe before. Factories are being built by NPCs, wars can affect the global economy, NPCs can trade freely and pirates behave far more realistically.<br />\n\t\t\t\t\tThe Technology: Extensive development has gone into the X\xb3 engine, making full use of DirectX 9 technology, to create dramatic visual effects and stunningly realistic starships. Coupled with the massively enhanced A.L. (Artificial Life) system, X\xb3: REUNION presents players with an ever changing, evolving universe; where a player's actions really can shape the future of the universe.<br />\n\t\t\t\t\tThe new X\xb3 2.0: Bala Gi Research Missions: The X\xb3 2.0: Bala Gi Research Missions offers a host of new features and missions, allowing the player to delve deeper than ever before into the X universe.<br />\n\t\t\t\t\tSpace just got a whole lot bigger with the addition of two new sectors and the introduction of the gargantuan Player HQ which allows many exciting new features including the ability to build your own ships and even give them customized space paint finishes.  In addition to the new M7 battleship, there is an assortment of new weapons and onboard ship devices to use and explore."},"X3: Terran Conflict":{Name:"X3: Terran Conflict",Publisher:"Egosoft",Platforms:"windows;mac;linux",Type:"Single-player;Steam Achievements;Full controller support;Captions available;Steam Cloud",Genres:"Action;Simulation;Strategy",Positive_ratings:"1633",Negative_ratings:"272",Desc:'It is the year 2938. The long wished-for encounter of the X Universe and the Earth holds both joy and sorrow for the people. Despite flourishing trade, the clash of the diverse races, cultures and life forms creates new tensions, mistrust and open conflict that need to be overcome!<br>\t\t\t\t\tExperience the brilliant climax of the legendary X-Trilogy , and take your place in the history of the X Universe.<br>\t\t\t\t\t<ul class="bb_ul"><li>Largest X Universe ever.<br>\t\t\t\t\t</li><li>New faction: the Terrans \u2013 inhabitants of the Earth.<br>\t\t\t\t\t</li><li>More jobs and non-linear missions than ever before.<br>\t\t\t\t\t</li><li>More than 100 new spaceships, new ship classes and weapon systems.<br>\t\t\t\t\t</li><li>Re-designed user interface for comfortable control by mouse, keyboard and joystick.<br>\t\t\t\t\t</li><li>New group management tool.<br>\t\t\t\t\t</li><li>Large battleships can be boarded by an outside team.</li></ul>'},"X: Beyond the Frontier":{Name:"X: Beyond the Frontier",Publisher:"Egosoft",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Simulation;Strategy",Positive_ratings:"142",Negative_ratings:"48",Desc:'The Human Race had advanced to the point where we could travel among the stars, we developed giant automated machines to help us colonise other worlds, but there was a fault in their programming and they turned and attacked. Forcing us to lay a trap to protect Earth and exiling the Human race to stay on Earth once again.<br>\t\t\t\t\t500 Years later Kyle Brennan starts his journey by piloting an experimental ship equipped with a new piece of technology allowing it to cross vast distances on its own. However it malfunctions and traps him in a group of sectors inhabited by Aliens, hunted and with no way home, this is his story of survival... Beyond the Frontier...<br>\t\t\t\t\t<br>X: Beyond The Frontier is the first part in the X-Universe series of games developed by Egosoft.<br><br>\t\t\t\t\tIt tells the story of mankind\'s rise and fall in the universe, and the attempt by Kyle Brennan to help repopulate the stars using a new ship called the Experimental Shuttle, and how he became trapped in a closed group of sectors linked by a series of jumpgates, owing credits to an alien for helping to save him, and hunted by several people. Unknowingly, a group of secret service people are after him, a group who have tried to hide their races secret, that they are the descendants of a group of Humans who saved earth from the Terraformer fleet they created to help colonise the universe.<br>\t\t\t\t\tNow with the Truth coming out, X: Beyond the Frontier allows the player to play as Kyle Brennan on his hunt to find a way home, whilst helping a group of people find the truth about their ancestry, and continue to help save earth from the Terraformers who are now known as the Xenon.<br>\t\t\t\t\t<h2 class="bb_tag">Features</h2>\t\t\t\t\t<ul class="bb_ul"><li><strong>Trade</strong> - Trade in over 50 sectors, with over 50 different goods, upgrade you ships with dozens of upgrades available to you by 5 different races.<br>\t\t\t\t\t\t </li><li><strong>Fight</strong> - Find the location of the hostile pirates and survive against attacks by the Xenon.<br>\t\t\t\t\t\t </li><li><strong>Build</strong> - Construct stations to build your own production empire.<br>\t\t\t\t\t\t </li><li><strong>Think</strong> - Adapt your trading empire to suit the needs of each sectors local economy.<br>\t\t\t\t\t</li></ul>'},"X: Tension":{Name:"X: Tension",Publisher:"Egosoft",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Simulation;Strategy",Positive_ratings:"57",Negative_ratings:"18",Desc:'X-Tension is the eagerly awaited expansion pack to X: Beyond the Frontier. The expansion is not limited by a linear plot line but makes use of new ways to expand your empire. You can now take part in missions that are offered to you throughout the game.<br>\t\t\t\t\t<h2 class="bb_tag">Features</h2>\t\t\t\t\t<ul class="bb_ul"><li><strong>More Ships</strong> - You are no longer limited to one ship, but can now buy and pilot all fighters and small transports in the game. As well as capturing new Pirate ships.<br>\t\t\t\t\t\t </li><li><strong>Expanded Universe</strong> - The universe has also been expanded with over 40 new sectors to visit, trade and fight inside, allowing you to find new locations to build new stations and trade in new goods.<br>\t\t\t\t\t\t </li><li><strong>The Version 2 Update</strong> - The release of the 2.0 upgrade expanded the game even further allowing you to pilot the larger TL class freighter.<br>\t\t\t\t\t</li></ul>Continue your quest to explore the universe, trade in over 90 sectors, with over 50 goods, upgrade your ship with dozens of wares available to you by 5 unique alien races and protect yourself from the hostile Xenon.'},"X Rebirth":{Name:"X Rebirth",Publisher:"Egosoft",Platforms:"windows;mac;linux",Type:"Single-player;Steam Achievements;Full controller support;Steam Trading Cards;Captions available;Steam Workshop;Steam Cloud",Genres:"Action;Simulation",Positive_ratings:"2832",Negative_ratings:"4032",Desc:'<h1>Collector\'s Edition</h1><p>This Collector\'s Edition of <strong>X Rebirth</strong> includes the following items:<br><ul class="bb_ul"><li>DLC: The Teladi Outpost<br></li><li>DLC: Home of Light <strong>(new!)</strong><br></li><li>Soundtrack Volume 1 (MP3)<br></li><li>Exclusive: Soundtrack Volume 2 (MP3)<br></li><li>Optional download: X - The Space Opera - Per Musica ad Albion (Video)<br></li><li>Bonus download with artworks and X encyclopedia</li></ul><br>The bonus content will be placed in your X Rebirth installation folder:<br>...Steam\\SteamApps\\common\\X Rebirth\\Bonus Content</p><br><h1>About the Game</h1>In the distant future, the X universe faces a period of profound and irrevocable change. While the universe stumbles towards an uncertain future, countless adventures await as new enemies rise in search of power. Enter a young adventurer and his unlikely female ally traveling in an old, battered ship with a glorious past - two people alone against the galaxy, playing a key part in the events to come. The fate of the universe rests in the hands of the player...<br><br><strong>X Rebirth</strong> represents a spectacular new beginning for the X series, offering loyal fans and newcomers alike a vast, vivid and extremely detailed universe to explore throughout the game. Varied gameplay elements such as action-packed space combat, detailed trading mechanics and high-speed space exploration with fast travel allow players to experience a truly unique space saga that will keep them hooked for dozens of hours. <strong>X Rebirth</strong> features a whole new user experience - it is easier than ever to start with, and remains as deep as fans expect it.<h2 class="bb_tag">FEATURES</h2><br><strong>TRADE!</strong> A fully simulated economy that means your actions really do matter. Travel the space highways to \ufb01nd pro\ufb01t in gigantic space cities, swarming with ships and drones.<br><br>++ Every ship you see has a task. Stop a freighter from reaching its destination and its cargo will be stopped too, causing prices to rise. ++<br><br><strong>FIGHT!</strong> From small scale skirmishes to epic \ufb02eet encounters, battles in the X Universe know no limits. Choose to \ufb01ght for the military, work for the police or be a lawless pirate, or if you prefer just \ufb01ght when you need to defend yourself - it\'s up to you.<br><br>++ Take the action right into massive structures. Target turrets and shield generators to weaken your enemy, damage engines and jump drives to prevent their ships from escaping, or stop their factories producing to cripple their economy. ++<br><br><strong>BUILD!</strong> Create your own empire! From trading stations to large factories, farms to hightech military complexes, everything can belong to you. Build for trade and pro\ufb01t or to strengthen your military presence and dominate your enemies.<br><br>++ Extend and upgrade your stations to make them operate more ef\ufb01ciently, with every element visible in glorious animated detail. Harvest your own resources to keep your empire running smoothly. ++<br><br><strong>THINK!</strong> A rich, detailed history and a deep complex plot await you, but you are free to decide when and where to take part. Explore the universe at your own pace - choose your own path and create your own destiny.<br><br>++ Get up-close and personal with aliens and humans alike. Land on stations, meet people, then accept missions from them or hire them as crew members for your ships. ++ <br><br><strong>TRADE, FIGHT, BUILD, THINK...</strong> in the X Universe - the biggest sandbox this side of the galaxy.'},"688(I) Hunter/Killer":{Name:"688(I) Hunter/Killer",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"52",Negative_ratings:"17",Desc:'688(I) Hunter/Killer, the most realistic submarine simulation ever developed for PC. Master the sonar and weapons control systems, learn to develop real target situations and outfit your boat with the latest advanced weaponry. Then use your skills to complete the tour of duty and earn your dolphins to become a true submariner.<br>\t\t\t\t\t<ul class="bb_ul"><li>A truly authentic simulation: Developed by Sonalysts, a defense contractor who designs submarine simulators for the US Navy<br>\t\t\t\t\t</li><li>Over 12 detailed operating stations: Control all aspects of submarine warfare, including the sonar suite, fire control, helm and target motion analysis<br>\t\t\t\t\t</li><li>Real-World Terrain: Ocean depth and water density for the entire globe are based on actual satellite topographical data<br>\t\t\t\t\t</li><li>Real-life situations: Conduct detailed training and single missions, plus a full campaign based on political analysis from real world situations<br>\t\t\t\t\t</li><li>Multiplayer Warfare: Seek and Destroy up to 8 players over the internet or LAN<br>\t\t\t\t\t</li><li>Full 3D Technology: Full 3D technology allows for multiple camera views and accurate 3D models of over 20 different naval weapons platforms<br>\t\t\t\t\t</li><li>Complete Control: Manage all of the resources of your submarine, including crewmen training and weapons load-outs</li></ul>'},"Fleet Command":{Name:"Fleet Command",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"127",Negative_ratings:"31",Desc:"International waterways become theaters of war when the world's most formidable maritime powers exchange their fatal blows. With entire fleets at your command, you must strategically deploy vessels from every class - frigate to aircraft to nuclear submarine - to maintain the precarious balance of naval power and gain position for the deadly endgame.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Campaigns and mission scenarios straight from current headlines<br>\t\t\t\t\t</li><li>Exclusive real-time strategy with cuttingedge, real-world weapons<br>\t\t\t\t\t</li><li>Intuitive point and click game play<br>\t\t\t\t\t</li><li>No need to memorize symbols or complex commands<br>\t\t\t\t\t</li><li>Player designed task forces<br>\t\t\t\t\t</li><li>Complete 3D environment rotates and zooms for intense combat action<br>\t\t\t\t\t</li><li>Effects modeled in stunning detail- time of day, clouds, rain, differing sea states, ship's wake and pyrotechnics</li></ul>"},"Sub Command":{Name:"Sub Command",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player;Co-op;Includes level editor",Genres:"Strategy",Positive_ratings:"33",Negative_ratings:"14",Desc:"<p>Take charge of the most deadly modern-day submarines in the world - three distinct submarines across two unique and challenging campaigns. Utilize cutting-edge sensor and weapon technology to locate, track and destroy the enemy - even deliver Tomahawk missiles to inland targets. Whether transiting, diving, or surfacing you control the smartest, stealthiest and most feared subs on the water today!</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Three submarines to command - Seawolf, 688(I) and Akula. Each contains authentic naval systems including Sonar, Radar and Target Motion Analysis.</li>\n\t\t\t\t\t<li>Test your skills while firing Tomahawk missiles, rescuing crippled subs, rising through the polar ice cap to communicate information and much more.</li>\n\t\t\t\t\t<li>Easy to use game interface - With straightforward controls and automated crewmen, controlling a submarine has never been easier.</li>\n\t\t\t\t\t<li>Enhanced sound and 3D graphics engine - 3D Objects (over 250), from Russian trawlers to France's Mirage fighters - plus exacting sound modes pull you in like never before. You won't just hear the torpedos, you will feel them.</li></ul>"},"FlatOut 2\u2122":{Name:"FlatOut 2\u2122",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player",Genres:"Racing",Positive_ratings:"5438",Negative_ratings:"343",Desc:"<strong>DRIVING THIS RECKLESS IS NO ACCIDENT!</strong><br>\t\t\t\t\tBut you might want to cause a few.  In these high-speed races, the more damage you inflict, the better. The ultimate in turbo-charged cars and the craziest competitor drivers are waiting to test your best destructive streak. Responsible drivers need not apply.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Thousands and thousands of objects to annihilate.<br>\t\t\t\t\t</li><li>Mini games gone wild - hurl the driver in these 12 crazy challenges.<br>\t\t\t\t\t</li><li>Wreck your way across parched deserts, massive storm drains and narrow city streets.<br>\t\t\t\t\t</li><li>Ram your opponents' car and watch them fly through the air - you're here to win!</li></ul>FlatOut 2 \xa9 2006 Empire Interactive Europe Ltd. Game concept and development by Bugbear Entertainment Ltd. Empire, FlatOut and &quot;E&quot; are either trademarks or registered trademarks of Empire Interactive Europe Ltd. in the UK/Europe and/or other countries. All rights reserved. NVIDIA, the NVIDIA Logo, GeForce and &quot;The Way It's Meant to be Played&quot; Logo are registered trademarks and/or trademarks of NVIDIA Corporation in the United States and other countries. GameSpy and the &quot;Powered by GameSpy&quot; design are trademarks of GameSpy Industries, Inc. All rights reserved. a product of the e.u."},"Xpand Rally":{Name:"Xpand Rally",Publisher:"Techland",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Racing",Positive_ratings:"139",Negative_ratings:"39",Desc:"Xpand Rally is a breathtaking game that gives you the true to life experience of driving powerful rally cars amidst photorealistic sceneries. Realistic weather effects, rolling hills, and animated scenery all add to game's visual perfection. Xpand Rally also features highly detailed models of modern rally cars and handling physics developed with the help of rally sport professionals which further enhance the realism of driving experience.<br />\n<br />\nXpand Rally combines the best elements of Rally and Rally Cross racing in one unique gaming experience.<br />\n<br />\nThe game offers a career mode based on time trials during both individual races and World Championship Series which will satisfy traditional Rally fans. The Rally Cross fans won't be disappointed either - they can challenge several opponents in head to head racing during competitions based on real and fictitious race events.<br />\n<br />\nXpand Rally, as the only title on the market, brings the economy factor into a rally game. The player starts with a junk car and competes in races to earn money and acquire upgrades, repair damage, tweak performance and pay the race entry fees.<br />\n<br />\nAlong with the tuning-up, the car's condition affects its handling. Due to accurate damage system, it is highly dependent on the player's driving skills. The physical handling model is also influenced by car parts configuration and provides both authentic feel and joy of driving.<br />\n<br />\nThe interactive race track surroundings with enhanced game physics and the innovative approach to changing daytime and weather conditions, both influencing the car handling, are other hallmarks of Xpand Rally that distinguish it from other racing games.<br />\n<br />\nFor the first time among rally games Xpand Rally includes a complete set of easy-to-use editing tools enabling to create new tracks, cars or even game mods."},"Call of Juarez\u2122":{Name:"Call of Juarez\u2122",Publisher:"Techland Publishing",Platforms:"windows",Type:"Single-player;Multi-player;Steam Trading Cards",Genres:"Action",Positive_ratings:"793",Negative_ratings:"198",Desc:'Call of Juarez is an epic adventure western themed FPS game. The player alternately assumes the roles of two distinct, antagonistic characters: a sneaking fugitive Billy and his hunter the reverend Ray. Apart from the highly interesting, emotional and psychological aspect of the link between the two characters, the player will experience a variety of gameplay with many differences whilst playing a particular character. <br><br>The game features fast paced revolver duels using historically accurate firearms, horseback riding, mounted combat and stealth actions in memorable locations set after Western movies. Emergent gameplay based on accurate simulation of not only rigid bodies and rag-dolls but also liquids, gases, fire and smoke makes the gameplay innovative and non-linear.<br><br><ul class="bb_ul"><li>Very serious approach to the Wild West theme and detailed reconstruction of the character and visuals of that times<br></li><li>The use of physics and innovative simulation of fire, liquids, dust, smokes and gases to construct emergent gameplay<br></li><li>State of the art graphics making use of the top technology graphics cards features on todays cards<br></li><li>Playing 2 distinct characters with different abilities and different gameplay<br></li><li>Horseback riding and saddle shooting, gunfighter duels<br></li><li>Using the whip to fight, move objects and move the player\'s character <br></li><li>Legendary weapons form the Gold Fever era and full akimbo mode for the hands on approach<br></li><li>Exhilarating storyline with full of twists and turns in this exciting Western Genre.</li></ul>'},"Xpand Rally Xtreme":{Name:"Xpand Rally Xtreme",Publisher:"Techland",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Racing",Positive_ratings:"71",Negative_ratings:"36",Desc:"Xpand Rally Xtreme shows the true climate and conditions of rally racing. Dangerous, technical tracks, based on the world's hardest special stages full of moguls,jumps,grooves and tight hairpins.                                        <br>\t\t\t\t\t                    By winning races amass funds for faster cars and repairs. The player also has the ability to mechanically tune their cars by increasing parameters such as turbocharger efficiency,fitting sports breaks and suspension kits and more.                                        <br>\t\t\t\t\t<strong>Features:</strong>                    <br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Extreme driving in the toughest possible conditions: Innumerable moguls, bumps, ditches, potholes, grooves and jumps-the ultimate                    test of the driver's skills and his car's suspension.                    <br>\t\t\t\t\t</li><li>Learn to respect a real rally car: Extreme realism of driving a rally car, thanks to the highly-detailed driving physics                    simulation.                    <br>\t\t\t\t\t</li><li>Go head-to-head with AI opponents in two exciting new racing modes:Off-Road Series featuring 4x4 xtreme cars and Touring Challenge with 1000BHP GT and DTM supercars                    <br>\t\t\t\t\t</li><li>Optical and mechanical car tuning and individual parts preference settings.                    <br>\t\t\t\t\t</li><li>Single race, online play and championship modes                    </li></ul>"},"Men of War: Red Tide":{Name:"Men of War: Red Tide",Publisher:"1C Entertainment;1C-SoftClub",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Strategy",Positive_ratings:"294",Negative_ratings:"69",Desc:'Men of War: Red Tide is a sequel to the critically acclaimed RTS Men of War. Red Tide introduces a new story driven campaign based on the writings of Soviet scribe Alexander Zorich, it also includes dozens of new or upgraded units and weapons.<br>\t\t\t\t\tMen of War: Red Tide is a stunning mixture of RTS and a third-person action that introduces a new fighting force known for its brutal efficiency during the height of World War II. Played out across more than 20 missions, Men of War: Red Tide allows to take command of the feared &quot;Black Coats,&quot; the nickname given to Soviet Marines, an elite combat group specializing in engagements near the shoreline.<br>\t\t\t\t\tThe player has direct control of new game units including the Black Coats, tanks, self-propelled guns, armored trains, landing craft, artillery and new enemy emplaced weapons to capture and use. New air support options include fighters, bombers, hydroplanes; cruisers, destroyers and gun boats which provide naval fire support.<br>\t\t\t\t\tFighting during the Black Sea Campaigns of WWII, history buffs and WWII aficionados will recognize theaters of battle such as Odessa, Sevastopol, Theodosia, Eltingen, Nikolaev and Constanta.<br><br>\t\t\t\t\t<ul class="bb_ul"><li>23 missions - Soviet, German, Romanian and Italian forces<br>\t\t\t\t\t</li><li>Six intense historical battles and landing operations during 1941-1945<br>\t\t\t\t\t</li><li>Over 100 different military units: tanks, artillery, armored cars, planes (fighters, bombers, transporters), war ships and boats (cruisers, torpedo boats, gunboats)<br>\t\t\t\t\t</li></ul>'},"King's Bounty: Armored Princess":{Name:"King's Bounty: Armored Princess",Publisher:"1C Entertainment",Platforms:"windows;mac",Type:"Single-player;Steam Cloud",Genres:"RPG;Strategy",Positive_ratings:"482",Negative_ratings:"53",Desc:'<strong>King\'s Bounty: Armored Princess</strong> is a sequel to the critically acclaimed King\u2019s Bounty: The Legend. Players will take on the role of Princess Amelie who travels around the world of Teana and searches for the renowned knight, and her mentor, Bill Gilbert. This new world of King\u2019s Bounty: Armored Princess is full of mysteries and dangers. The new character, the Princess, will encounter horrible creatures, huge monstrous bosses and a new race, the bloodthirsty Lizards. As in the multi-award winning game on which this sequel is based, the player has many options to resist these new enemies. Various new skills and characteristics of Amelie as well as her chance to fly will help her overcome the hordes attacking the kingdom.<br><br>The Princess is accompanied by a Pet Dragon, at the very beginning small and amusing, but its abilities develop steadily until it becomes an incredible ally. He will do his best to protect the Princess during the battles, starting with easy blows and treasure hunting and finishing with battle rage and volcano summoning.<br><br><ul class="bb_ul"><li>New fascinating story-line and a whole new continent to explore<br></li><li>A new female character to play \u2013 Princess Amelie<br></li><li>Medals giving bonuses can be received for special achievements<br></li><li>Pet Dragon which becomes more powerful as the player does<br></li><li>New Lizard race<br></li><li>Possibility to turn your horse into a Pegasus which can fly<br></li><li>Fast travel between opened continents<br></li><li>Hire companions<br></li><li>Resurrection of the classic system of contracts and headhunting<br></li><li>Improved role playing system including more abilities and the chance to achieve level 50 and higher<br></li><li>Brand new spells and new Adventure Magic spell for game map<br></li><li>New unique bosses: Driller, Gremlion, Archdemon Baal and many others<br></li><li>New engine supporting the latest graphic effects<br></li><li>Beautiful, hand drawn environments<br></li><li>Mac version is available in English, Russian, German, French, Spanish and Italian languages</li></ul>'},"Genesis Rising":{Name:"Genesis Rising",Publisher:"THQ Nordic",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"30",Negative_ratings:"94",Desc:"Three thousand years in the future, mankind has carved a bloody path towards domination of the known universe. Self-proclaimed as a divine race and beyond reproach as a species, they view all alien races as inferior. With fleets of organic starships genetically engineered for war, humanity sets out to conquer the last remaining independent galaxy - The Universal Heart. <br>\t\t\t\t\tAs Captain Iconah, you are commissioned to uncover the location and purpose of the Heart. Take command of a living fleet, altering your starship's DNA in real-time as you grant them new and powerful abilities. The Universal Crusade has just begun!<br>\t\t\t\t\t<ul class=\"bb_ul\"><li><strong>Unique space real-time strategy gameplay</strong> that immerses you in an epic crusade with a rich back story.<br>\t\t\t\t\t</li><li><strong>Non linear single player campaign</strong> comprised of over 30 branching missions.<br>\t\t\t\t\t</li><li><strong>Scalable RTS gameplay</strong>: Resource gathering, technology upgrades and combat are scalable for even the most novice RTS players.<br>\t\t\t\t\t</li><li><strong>Co-op mode </strong> allows two players to work together and control one fleet!<br>\t\t\t\t\t</li><li><strong>Customize all 20+ gene based organic ships</strong> with over 50 different weapons and abilities, giving you thousands of possible combinations to choose from when constructing a fleet.<br>\t\t\t\t\t</li><li><strong>Ship models morph in real time</strong> as genes are inserted, reflecting the choices that you make!<br>\t\t\t\t\t</li><li><strong>Make alliances</strong> with the many other non-player character alien races to secure their support and technology--or purge their resources!<br>\t\t\t\t\t</li><li><strong>Expand your genetic capabilities</strong> by invading enemy vessels, stealing unsuspecting technologies, and maximizing your gene bank's diversity.<br>\t\t\t\t\t</li><li><strong>Gamespy Multiplayer</strong> featuring 12-player support and many multiplayer maps on which to flex your dominance!</li></ul>"},"Safecracker: The Ultimate Puzzle Adventure":{Name:"Safecracker: The Ultimate Puzzle Adventure",Publisher:"HandyGames",Platforms:"windows",Type:"Single-player",Genres:"Adventure;Casual",Positive_ratings:"256",Negative_ratings:"172",Desc:"As an expert safecracker, you are hired by the wealthy family of a recently deceased to search his mansion for his last will and testament. Duncan W. Adams was an avid safe collector and an 'eccentric,' to say the least. Adams has hidden the deed to his vast fortunes in one of 35 safes. You must crack them all using hints scattered throughout his extravagant mansion. The stakes are high. Use your expertise, wits, and puzzle solving skills to earn your paycheck!<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>A challenging puzzle adventure game with 35 unique safes to crack.<br>\t\t\t\t\t</li><li>Many creative, clever, and truly unique puzzles.<br>\t\t\t\t\t</li><li>Decipher unexpected clues inside each safe that will help you open the others, ultimately leading you to the master safe.<br>\t\t\t\t\t</li><li>Multiple difficulty levels to challenge all types of puzzle enthusiasts.<br>\t\t\t\t\t</li><li>Explore a magnificent mansion with 30 lavish, intriguing, and precisely-detailed rooms.</li></ul>"},"Painkiller Overdose":{Name:"Painkiller Overdose",Publisher:"THQ Nordic",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"429",Negative_ratings:"137",Desc:'The critically-acclaimed and award-winning FPS franchise is back! Packed with tons of fast-paced, adrenaline-fueled single player and multiplayer action, Painkiller Overdose brings with it 6 innovative new demonic weapons, mind-bending physics, lightning-player maps, over 40 demented and sickly-twisted monsters from Hell and gigantic end bosses that will blow your mind!<br>\t\t\t\t\t<ul class="bb_ul"><li>A prequel to the eventual sequel that bridges the storyline and ties up wandering ends.<br>\t\t\t\t\t</li><li>Overdose introduces a new character and storyline that examines the repercussions of Daniel defeating Lucifer in the original Painkiller!<br>\t\t\t\t\t</li><li>16 NEW levels of fast-paced pain-killing action!<br>\t\t\t\t\t</li><li>Six NEW demonic weapons grant the powers of a demi-god to souls awaiting damnation everywhere!<br>\t\t\t\t\t</li><li>Crafted and designed completely by Mindware Studios; long-time advocates and fans of the game.<br>\t\t\t\t\t</li><li>A reshuffled Tarot deck infuses Belial with new powers and devastating combinations.<br>\t\t\t\t\t</li><li>Over 40 demented and sickly-twisted monsters from Hell.<br>\t\t\t\t\t</li><li>New End Bosses of colossal statures standing guard over Hell\'s crumbling domain and the entrances to the other realms!<br>\t\t\t\t\t</li><li>A revitalized commitment to multiplayer introduces a series of stats tracking features and game server options intended to revamp the multiplayer experience.<br>\t\t\t\t\t</li><li>Multiplayer compatibility with original Painkiller multiplayer maps and game modes!</li></ul>'},"Zuma Deluxe":{Name:"Zuma Deluxe",Publisher:"PopCap Games, Inc.",Platforms:"windows;mac",Type:"Single-player",Genres:"Casual",Positive_ratings:"437",Negative_ratings:"37",Desc:"Survive the ancient temples of Zuma, the critically acclaimed action-puzzler from PopCap! Deep in the jungle lie hidden temples bursting with traps and trickery, and it's up to you to uncover their treasures. Fire magical balls from your stone frog idol to make matches of three or more and clear the deadly chain before it reaches the golden skull.<br>\t\t\t\t\t<br><br><br>\t\t\t\t\tExplore all the temples \u2014 if you're good, you\u2019ll rack up huge combos and special bonuses that'll help you on your way. But think fast and aim smart, or you'll be history in this action-packed puzzle challenge!<br>\t\t\t\t\t<br><br><strong>Key Features</strong><br>\t\t\t\t\t<ul class=\"bb_ul\"><li>3D accelerated graphics and effects.<br>\t\t\t\t\t</li><li>Stunning sounds and tribal tunes.<br>\t\t\t\t\t</li><li>Explore the Adventure mode and test your skills in Gauntlet mode.<br>\t\t\t\t\t</li><li>Over 20 temples to explore!<br>\t\t\t\t\t<ul class=\"bb_ul\"></ul></li></ul>"},"Heavy Weapon Deluxe":{Name:"Heavy Weapon Deluxe",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"71",Negative_ratings:"28",Desc:"<p>It's shoot-'em-up arcade action at its best! Use an incredible assortment of heavy artillery to blast away enemy tanks and planes, and fight your way to victory. What are you waiting for? Pull yourself up by your bootstraps and get into the action!</p>\n                    <ul>\n                    <li>Blast your way through 19 missions packed with peril.</li>\n                    <li>Two action-packed game modes: Mission and Survival.</li>\n                    <li>Enhanced sound effects and an original soundtrack!</li>\n                    </ul>"},"Peggle Deluxe":{Name:"Peggle Deluxe",Publisher:"PopCap Games, Inc.",Platforms:"windows;mac",Type:"Single-player",Genres:"Casual",Positive_ratings:"1106",Negative_ratings:"66",Desc:"<p>Take your best shot with energizing arcade fun! Aim, shoot, clear the orange pegs, then sit back and cheer as 10 whimsical teachers guide you to Peggle greatness. Conquer 55 fanciful levels with 10 mystical Magic Powers, racking up bonus points and shots you'll smile about for weeks. Face off against your friends in Duel Mode, or tackle 75 extra-tricky challenges. It's luck and skill and joyous thrills, and amidst all this fevered action only one question remains: Can you become a Peggle Master?</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Wield 10 miraculous Magic Powers!</li>\n\t\t\t\t\t<li>Master 55 levels of bouncy delight!</li>\n\t\t\t\t\t<li>Conquer 75 Master challenges!</li>\n\t\t\t\t\t<li>Play friends or the computer in Duel Mode!</li>\n\t\t\t\t\t<li>Revel in breathtaking artwork and music!</li>\n\t\t\t\t\t<li>Replay and save your best shots!</li>\n\t\t\t\t\t</ul>"},"Peggle Extreme":{Name:"Peggle Extreme",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"707",Negative_ratings:"58",Desc:'<p><i>Mayday!</i> The Peggle Institute has been invaded by a host of other-worldly creatures. It\'s up to you, Peggle Master, to report to duty and shoot and bounce the critters to oblivion. Take your best shot with energizing arcade fun, now exclusively themed with art and sounds from <a href="http://storefront.steampowered.com/v/index.php?area=package&SubId=469">The Orange Box</a>!</p> \n\t\t\t\t\t<p>Peggle Extreme delivers fast-paced puzzle action that combines elements of pinball and pachinko to create a truly unique game experience. As with the original Peggle, Peggle Extreme requires players to fire a metallic silver ball from the top of the screen, relying on gravity to propel the ball downwards while ricocheting off orange and blue "pegs". The goal is to clear all the orange pegs from the screen before running out of balls. A moving "bucket" at the bottom of the screen offers free balls, while green power-up and purple "bonus multiplier" pegs provide additional twists. Peggle Extreme features one power-up in the form of Bjorn the Unicorn, whose special takes the form of a "super-guide" sighting capability which enables players to see where there next shot will go beyond one or two initial bounces.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Master 10 levels of "Extreme" challenges</li>\n\t\t\t\t\t<li>Conquer 5 Master challenges</li>\n\t\t\t\t\t<li>Play against a friend or the computer in Duel Mode</li>\n\t\t\t\t\t<li>Revel in breathtaking artwork and sounds from Half-Life: Episode 2, Portal, and Team Fortress 2</li>\n\t\t\t\t\t<li>Replay and save your best shots</li></ul>'},"Venice Deluxe":{Name:"Venice Deluxe",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"10",Negative_ratings:"2",Desc:"<p>Venice is sinking and only you can save it! From the floating fortress of your golden gondola, you'll restore the city by returning its lost treasures. Sling costly coins, launch lovely lyres and ricochet ruby rings into the corresponding spaces overhead. Use your arsenal of special shots to create cascading combos and earn bonus points along the way. But beware &#151; shelves, chutes, swirlies and other traps will make things tricky, so you'll need power-ups like Wild Shot and Wings to help you sail through the levels. So grab your gondola and get ready &#151; with a majestic soundtrack, gloriously ornate artwork and four enduring game modes, Venice is a classic test of wits, will and skill!</p>\n<ul>\n<li>Dive into 4 game modes: Journey, Flood, Survival and Trick Shots</li>\n<li>Save 72 buildings over 8 neighborhoods</li>\n<li>Wield astonishing power-ups like Wild Shot and Wings</li>\n<li>Overcome obstacles like tricky chutes, sinister swirlies and more</li>\n<li>Revel in ornate art, mellifluous music and spectacular effects</li>\n<li>Earn bonus points and power-ups with terrific tumbles and cascading combos</li>\n<li>Save your high scores for pride and posterity!</li>\n</ul>"},"Mystery P.I.\u2122 - The Lottery Ticket":{Name:"Mystery P.I.\u2122 - The Lottery Ticket",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"10",Negative_ratings:"3",Desc:"<p>You are the world-famous Mystery P.I. and you've been hired by Grandma Rose to find her $488 million dollar winning lottery ticket that has gone missing! Retrace Grandma's steps to collect clues by finding hidden objects and solving puzzles. Search the city for the clues and piece them together to solve the case. Grandma Rose has agreed to pay you $20 million if you find the ticket before the deadline. Hurry, you only have 12 hours to find the ticket!</p>\n\t\t\t\t\t<p>Investigate 20 unique locations to find over 2100 cleverly hidden objects! As your investigation skills improve your P.I. rank increases -- strive for a \"Perfect Investigation\" to get big bonus points!</p>\n\t\t\t\t\t<p>Two fun ways to play: In Find the Ticket mode you must locate the missing ticket before the deadline. Unlock Unlimited Seek &amp; Find game mode to search for all the hidden objects with no time limits -- every scene, every item! Collect all 20 KEYS while finding the Ticket to unlock a fun bonus location hidden in the city.</p>"},"Amazing Adventures The Lost Tomb\u2122":{Name:"Amazing Adventures The Lost Tomb\u2122",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"21",Negative_ratings:"8",Desc:'<p>You are an adventure seeker who travels the world in search of forgotten & lost treasures. Search for hidden objects and circumvent unique puzzle traps to recover the most sought after treasures the world has ever known.</p>\n\t\t\t\t\t<p>A newly-discovered fragment of an ancient map is believed to reveal the location of the Lost Tomb of Egypt. Under the direction of the Museum, you must immediately begin your adventure to locate the Lost Tomb and the treasures locked within! Complete over 100 levels by finding hidden objects and circumventing unique puzzle traps. Good luck on your adventure!</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Find over 2000 hidden objects in over 100 levels.</li>\n\t\t\t\t\t<li>Explore 22 unique Egyptian locations.</li>\n\t\t\t\t\t<li>Circumvent 7 unique mini-game puzzle traps to continue your missions.</li>\n\t\t\t\t\t<li>Two game modes: "Find the Lost Tomb" and "Secret Game" mode.</li>\n\t\t\t\t\t<li>Find the hidden Scarabs to unlock Secret Game mode and a bonus Egyptian location.</li>\n\t\t\t\t\t<li>Strive for the Perfect Search Bonus by not using the \'Hint\' button.</li>\n\t\t\t\t\t<li>Play against the clock or in Relaxed Mode with no time limits.</li>\n\t\t\t\t\t<li>Unlock interesting facts about Egypt in your journal.</li></ul>'},"Mystery P.I.\u2122 - The Vegas Heist":{Name:"Mystery P.I.\u2122 - The Vegas Heist",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"11",Negative_ratings:"5",Desc:"<p>The heist of the century has just happened!  You've been hired by the casino to find & return the stolen money before its grand opening in 16 hours. Search for over 2300 cleverly hidden objects in 25 intriguing locations to solve the Vegas Heist.</p>\n\t\t\t\t\t<p>Two addictive ways to play: Vegas Heist mode and Unlimited Seek &amp; Find mode. Collect all the hidden Keys and Poker Chips to unlock the bonus mode.  Find the clues, solve the Vegas Heist!</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Find over 2300 cleverly hidden objects</li>\n\t\t\t\t\t<li>Investigate 25 intriguing Vegas locations to locate the stolen money</li>\n\t\t\t\t\t<li>Two fun game modes: 'Solve the Vegas Heist' and 'Unlimited Seek &amp; Find'</li>\n\t\t\t\t\t<li>Play 5 unique mini-games: Word Search, Tile Rotation, Tile Swap, Jigsaw and a unique crime solving puzzle</li></ul>"},"Amazing Adventures Around the World":{Name:"Amazing Adventures Around the World",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"23",Negative_ratings:"7",Desc:"<p>Pieces of an ancient stone tablet have started turning up around the globe and the Museum needs your help to locate the pieces and find the most expensive gem ever known...the &#147;World Diamond&#148;.  Under the direction of the Museum, you must immediately begin your global seek & find adventure.  Complete over 100 levels by finding hidden objects and circumventing unique puzzle traps.</p>\n                    <p>Travel to 25 unique &amp; exotic locations around the world finding over 2100 hidden objects in 3 different game modes: Find the World Diamond story mode, plus two Unlimited Play game modes which are unlocked after you have found the World Diamond or have found all of the hidden Gems in each location.  Take on 8 different types of mini-game puzzles including place-the-differences and spot-the-differences.  Good luck on your around the world adventure!</p>\n                    <ul>\n                    <li>Find over 2100 Hidden Objects in over 100 levels.</li>\n                    <li>Explore 25 exotic &amp; worldly locations.</li>\n                    <li>Play 8 unique mini-game puzzle traps including Spot-the-Differences, Place-the-differences, and many more.</li>\n                    <li>Three game modes: Find the World Diamond, Unlimited Seek & Find, and Unlimited Spot the Differences.</li>\n                    <li>Find the hidden Gems to unlock the Unlimited game modes.</li>\n                    <li>Strive for a Perfect Search bonus by not using Hint.</li>\n                    <li>Play against the clock or in Relaxed Mode with no time limits.</li>\n                    <li>Unlock interesting facts in your journal as you travel the globe.</li>\n                    </ul>"},"Peggle\u2122 Nights":{Name:"Peggle\u2122 Nights",Publisher:"PopCap Games, Inc.",Platforms:"windows;mac",Type:"Single-player",Genres:"Casual",Positive_ratings:"368",Negative_ratings:"24",Desc:"<p>The sun has set at the Peggle Institute, but the bouncy delight has just begun! Join the Peggle Masters on a dreamtime adventure of alter egos and peg-tastic action. Stay up late to aim, shoot and clear orange pegs, and bask in Extreme Fever glory under the silver moon. Then, put your Peggle skills to the ultimate test in Challenge mode. If you can master all that fevered action, play to your heart's content with Duel mode and Quick Play. Plus, you can stock your Trophy Room and revel in clickable replays for even more rebounding joy!</p>                    \n\t\t\t\t\t<ul>                    \n\t\t\t\t\t<li>Explore all 60 levels in Adventure mode</li>                    \n\t\t\t\t\t<li>Meet a new Peggle Master and learn a new Magic Power</li>                    \n\t\t\t\t\t<li>Test your skills in 60 challenges</li>                    \n\t\t\t\t\t<li>Unlock Duel mode to compete against friends and the computer</li>                    \n\t\t\t\t\t<li>Celebrate your Peggle prowess with clickable replays and a Trophy Room!</li>                    </ul>                    "},"Bejeweled Twist":{Name:"Bejeweled Twist",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Strategy;Casual",Positive_ratings:"98",Negative_ratings:"18",Desc:"<p>Spin, match, explode... WOW! It's a brilliant new way to play Bejeweled! Get set for a vivid sensory rush as you spin and match explosive gems for shockwaves of fun. Rotate jewels freely to set up electrifying combos, outwit surprising obstacles like Locks and Bombs, and create high-voltage Flame and Lightning gems. When you need to dial up the intensity or fine-tune your skills, turn to Challenge mode or five-minute Blitz. And if relaxing is more your style, kick up your feet with stress-free Zen. No matter the mode, you'll discover new strategies, improve your moves, and find endless ways to win!</p>                    \n\t\t\t\t\t<ul>                    \n\t\t\t\t\t<li>Use the revolutionary Gem Rotator to move gems around and make matches anywhere on the board</li>                     \n\t\t\t\t\t<li>Relax, rev up, refocus or recharge in four game modes &#151; Classic, Zen, Challenge and Blitz</li>                    \n\t\t\t\t\t<li>Clear away Locks and Bombs for magnificent bonuses</li>                    \n\t\t\t\t\t<li>Create Flame and Lightning power gems, then blast them to smithereens just because you can</li>                    \n\t\t\t\t\t<li>Relive your best moves with Instant Replay and see where you rank on the high-score list</li>                    \n\t\t\t\t\t<li>Start playing quickly and easily with in-game tips</li>                    \n\t\t\t\t\t<li>Enjoy eye-popping graphics and special effects... you've never seen Bejeweled like this before!</li>                    </ul>                    "},"Mystery P.I.\u2122 - The New York Fortune":{Name:"Mystery P.I.\u2122 - The New York Fortune",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"8",Negative_ratings:"5",Desc:"<p>A fun loving & eccentric New York billionaire has hidden the will to his vast fortune somewhere in New York City!  His family only has 17 hours to locate the will or their Grandpa's entire estate will be given to his cat & dog.</p>                    \n\t\t\t\t\t<p>You are the world famous Mystery P.I. and the family has hired you to track down the clues hidden all over NYC.  Seek & Find over 2100 hidden objects in 25 amazing NY locations like Times Square, Central Park, Coney Island, the Brooklyn Bridge and many more. If you succeed you will be awarded $25 Million dollars.</p>                    \n\t\t\t\t\t<p>Three addictive ways to play: In NY Fortune mode you must find the clues to locate the will.  Collect all the Keys & Apples to unlock two Unlimited game modes: Unlock Unlimited Seek & Find and Spot the Differences to find every hidden item in every scene.</p>                    \n\t\t\t\t\t<ul>                    \n\t\t\t\t\t<li>Find over 2100 cleverly hidden objects.</li>                    \n\t\t\t\t\t<li>Investigate 25 amazing New York locations to find the clues.</li>                    \n\t\t\t\t\t<li>Three fun game modes: 'Find the NY Fortune' and two Unlimited game modes</li>                    \n\t\t\t\t\t<li>Play 5 unique mini-games: Match-3, Word Search, Circle Rotation, Tile Swap, Jigsaw plus a unique final puzzle.</li>                    \n\t\t\t\t\t<li>Locate the secret Keys and Apples to unlock two Unlimited game modes.</li>                    \n\t\t\t\t\t<li>Go for a Perfect Investigation & speed bonuses to become a Master PI.</li>                    </ul>"},"The Wizard's Pen\u2122":{Name:"The Wizard's Pen\u2122",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"15",Negative_ratings:"3",Desc:"<p>The Wizard has vanished, and only you can find him in this spellbinding hidden-object adventure! The clues to the Wizard's whereabouts are in his workbook, but all the pages are blank. You'll need his magic pen to uncover and guess the image on each page. The better your guesses, the better your score &mdash; and every image you uncover brings you closer to finding the Wizard. Plus, you can play mystical mini-games, unlock special challenges, score bonus points and earn potent potions. It's a unique new twist on the seek-and-find genre that you've gotta try!</p>                    \n\t\t\t\t\t<ul>                    \n\t\t\t\t\t<li>Discover over 400 pages of hidden objects</li>                    \n\t\t\t\t\t<li>Power up with 10 magic potions</li>                    \n\t\t\t\t\t<li>Unlock 16 unique hidden-object mini-games!</li>                    \n\t\t\t\t\t<li>Open seven sketchbooks with special challenges</li>                    </ul>"},"Plants vs. Zombies GOTY Edition":{Name:"Plants vs. Zombies GOTY Edition",Publisher:"PopCap Games, Inc.",Platforms:"windows;mac",Type:"Single-player;Steam Achievements",Genres:"Strategy",Positive_ratings:"14630",Negative_ratings:"454",Desc:'<img src="https://steamcdn-a.akamaihd.net/steam/apps/3590/extras/PvZ_background.jpg?t=1447351772" ><br><br>Zombies are invading your home, and the only defense is your arsenal of plants! Armed with an alien nursery-worth of zombie-zapping plants like peashooters and cherry bombs, you\'ll need to think fast and plant faster to stop dozens of types of zombies dead in their tracks. Obstacles like a setting sun, creeping fog and a swimming pool add to the challenge, and with five game modes to dig into, the fun never dies!<h2 class="bb_tag">Features</h2>                    <ul class="bb_ul"><li>Play five game modes: Adventure, Mini-Games, Puzzle, Survival, plus the stress-free Zen Garden<br>                    </li><li>Conquer all 50 levels of Adventure mode \x97 through day, night, and fog, in a swimming pool and on the rooftop<br>                    </li><li>Battle 26 types of zombies including pole-vaulters, snorkelers and \x93Zomboni\x94 drivers<br>                    </li><li>Earn 49 powerful perennials and collect coins to buy a pet snail, power-ups and more!<br>                    </li><li>Open the Almanac to see all the plants and zombies, plus amusing \x93facts\x94 and quotes<br>                    </li><li>Browse Crazy Dave\x92s shop for special plants and tools to stem any zombie assault<br>                    </li><li>Amazing graphics and soundtrack, plus a bonus music video<br>                    </li><li>Infinite replayability: the game is never the same experience twice!<br>                    </li><li>Unlock all the Steam Achievements<br>                    </li></ul>'},"Escape Rosecliff Island":{Name:"Escape Rosecliff Island",Publisher:"PopCap Games, Inc.",Platforms:"windows;mac",Type:"Single-player",Genres:"Casual",Positive_ratings:"97",Negative_ratings:"57",Desc:"<p>An unexpected storm has left you shipwrecked on a mysterious and remote private island. Seek & find cleverly hidden objects and solve puzzles to find a way off the island!  Find over 2100 hidden objects in 25 intriguing and mysterious locations to find items that will help you escape!</p>\n                    <p>Play 5 different types of mini-game puzzles to collect inventory items from each location that will be needed to help you escape the remote Rosecliff Island.  Play 3 different game modes: Escape the Island, Unlimited Seek & Find, and a Mystery Bonus Game.</p>\n                    <ul>\n                    <li>Find over 2100 cleverly hidden objects.</li>\n                    <li>Explore 25 mysterious island locations to find a way off.</li>\n                    <li>Three fun game modes: Escape Mode, Unlimited Seek & Find, & a Mystery Bonus Game.</li>\n                    <li>Play 5 unique mini-games: Match 3, Word Search, Puzzle Rotation, Memory Match, Jigsaw plus a unique final puzzle.</li>\n                    <li>Locate all the hidden locks to reveal two bonus games.</li>\n                    <li>Go for a Perfect Search & back-to-back speed bonuses to beat your high score.</li>\n                    </ul>"},"Mystery P.I. - Lost in Los Angeles":{Name:"Mystery P.I. - Lost in Los Angeles",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player",Genres:"Casual",Positive_ratings:"8",Negative_ratings:"3",Desc:"\n\t\t\t\t\t<p>Seek & Find the Hollywood Blockbuster! The only copy of this year's biggest blockbuster movie has gone missing the day before the VIP Hollywood premiere.  You are the world famous Mystery P.I. and have been hired to track down and return the lost movie.</p>\n\t\t\t\t\t<p>Seek & Find over 2100 hidden objects in 25 stunning L.A. locations like Malibu Beach, Rodeo Drive, Movie Sets, Hollywood hot spots and many more.  Hurry you only have 17 hours to locate the movie or the Hollywood Studio will be ruined.  If you succeed you will be awarded $15 Million dollars.</p>\n\t\t\t\t\t<p>Three addictive ways to play: Solve the L.A. Mystery to track down the lost blockbuster movie.  Collect all the special Keys & Film Reels to unlock two Unlimited game modes: Unlimited Seek & Find and a Match 3 Puzzle Game.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Find over 2100 cleverly hidden objects.</li>\n\t\t\t\t\t<li>Investigate 25 amazing L.A. locations to find the clues.</li>\n\t\t\t\t\t<li>Three fun game modes: 'Solve the L.A. Mystery' and 2 Unlimited Bonus modes.</li>\n\t\t\t\t\t<li>Play 8 different mini-games: Match-3, Word Search, Circle Rotation, Memory Match, Tile Swap, Jigsaw and more.</li>\n\t\t\t\t\t<li>Locate the hidden Keys and Film Reels to unlock the Unlimited bonus games.</li>\n\t\t\t\t\t<li>Go for a Perfect Investigation & speed bonuses to become a Master PI.</li>\n\t\t\t\t\t</ul>"},"Zuma's Revenge!":{Name:"Zuma's Revenge!",Publisher:"PopCap Games, Inc.",Platforms:"windows",Type:"Single-player;Steam Achievements;Stats",Genres:"Action;Casual",Positive_ratings:"435",Negative_ratings:"28",Desc:"\n\t\t\t\t\tAn irresistible force has taken our fearless frog to an island where the ribbeting puzzle-action of Zuma has evolved in amazing ways\u2026 but evil spirits and tenacious tiki bosses rule the land!\n\t\t\t\t\t<p>Survive the ire of the island by firing stone spheres to destroy the deadly stream of balls. Conquer over 60 levels by staying sharp and avoiding hidden traps. Slide and hop for smarter shots; hit targets for exotic bonuses; detonate new power-up balls; battle six imposing tiki bosses and guide your agile amphibian to victory in four all new game modes! Will you succumb to the perilous pitfalls, or can you tame the jungle in this PopCap ball-blasting challenge?</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Conquer over 60 levels and defeat six mini-game Boss Battles \n\t\t\t\t\t<li>Score explosive power-ups including three new shots\n\t\t\t\t\t<li>Explore new gameplay like lily-pad hopping, slide-aiming, and more\n\t\t\t\t\t<li>Take a shot at 70 all-new Challenges in the Jungle of Mystery, Quiet Village, Lost City and Mosquito Coast. \n\t\t\t\t\t<li>Run the Iron Frog gauntlet \u2014 beat 10 levels in a row!\n\t\t\t\t\t<li>Turn up the heat in Heroic Frog mode\n\t\t\t\t\t<li>Enjoy amazing graphics and effects that bring Zuma into the modern world of gaming\n\t\t\t\t\t</ul>\n\t\t\t\t\t"},"Sniper Elite":{Name:"Sniper Elite",Publisher:"Rebellion",Platforms:"windows",Type:"Single-player;Steam Trading Cards",Genres:"Action",Positive_ratings:"1181",Negative_ratings:"377",Desc:"As World War II draws to a close, the first covert battles of the Cold War begin. Caught in the life and death struggle between Soviets and Germans in war-torn Berlin, you control the fate of a lone American OSS Sniper. Disguised as a German and working deep behind enemy lines you must stop Stalin's forces from gaining control of Germany's nuclear secrets. Prepare to alter the course of history.<br><br><br>Authentic World War II sniper simulation featuring realistic weapons, bullet ballistics and sniping skills<br><br><ul class=\"bb_ul\"><li>Massive single player game with 28 heart-pounding missions<br></li><li>Intense 8-player LAN sniper battles including Deathmatch, Team Deathmatch and Assassination game modes<br></li><li>3rd person view for close quarter action and movement - 1st view person for sniping<br></li><li>Options to take account of gravity, wind, posture, heart-rate and breathing to execute the perfect shot<br></li><li>Multi-angle 'Bullet Cam' for kill confirmation<br></li><li>Non linear game play provides unique action each time a mission is played</li></ul>"},"Judge Dredd: Dredd vs. Death":{Name:"Judge Dredd: Dredd vs. Death",Publisher:"Rebellion",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action",Positive_ratings:"559",Negative_ratings:"79",Desc:'Welcome to Mega-City One, a city of over 400 million people - every one of them a potential criminal. It is the third decade of the 22nd Century, unemployment is widespread, boredom is universal and only the Judges can prevent total anarchy. Empowered to dispense instant justice, they are Judge, Jury and Executioner all in one. The most feared and respected of all the Judges is you, Judge Dredd.<br>Patrol the streets and mete out instant justice wherever it is needed. The Psi-Judges are predicting a terrible plague \x97 is this the sudden outbreak of Vampires on the city, and are they the work of the malevolent Dark Judges?<br><ul class="bb_ul"><li>JUDGE, JURY and EXECUTIONER it\'s your choice to shoot to kill, or disarm and arrest<br></li><li>Two-player co-operative LAN play throughout the entirety of the immersive storyline<br></li><li>Intense LAN action for up to 32 players<br></li><li>Customizable multiplayer games with enemy bots<br></li><li>Choose from over 60 characters for insane mayhem!</li></ul>'},"Evil Genius":{Name:"Evil Genius",Publisher:"Rebellion",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"1847",Negative_ratings:"95",Desc:"<p>Everybody wants to rule the world! Achieve global power with EVIL GENIUS, the one and only complete world domination simulator. All the everyday tasks of the deliciously wicked mastermind are available to experience and master from building your ultra-secret base to developing spectacular super-weapons to carry out your nefarious master plan. How evil are you?</p>\n\t\t\t<ul>\n\t\t\t<li>Choose from 3 notorious Evil Genius characters to serve as your icon and represent you in your quest for power.</li>\n\t\t\t<li>Create the ultimate doomsday device and use it to achieve total global domination.</li>\n\t\t\t<li>Create your lair with over 300 items including kung fu academies, rocket caverns, and laboratories.</li>\n\t\t\t<li>Use ingenious traps and wicked 'interrogation' devices to toy with and dispatch obnoxious overdressed government agents.</li>\n\t\t\t<li>Manage your minions as you train them in treacherous trades such as experimental research programs, heavy weapons usage, and international sabotage.</li>\n\t\t\t<li>Recruit dastardly henchmen to patrol your base, take out your enemies, and undertake outrageous missions to increase your power and notoriety.</li>\n\t\t\t</ul>"},"Aliens versus Predator Classic 2000":{Name:"Aliens versus Predator Classic 2000",Publisher:"Rebellion",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"1434",Negative_ratings:"219",Desc:'Aliens Versus Predator Classic 2000 features the Colonial Marine, Alien and Predator Campaigns and the frenetic single-player Skirmish mode from the original title: Alien Versus Predator Gold Edition, which was released to massive acclaim in 2000.<br>\t\t\t\t\tAlien Versus Predator Classic 2000 has been updated to run on modern PCs and laptops using DirectX 9.0c and includes support for Xbox 360 Controller for Windows.<br>\t\t\t\t\tThe three most ferocious species in the universe in a bloodthirsty battle for the ultimate prize: survival. Take your pick: be a Colonial Marine, a Predator or an Alien. Fight through suspense-filled environments: from starships and space stations to colonial bases and eerie planetscapes. One wrong move turns you from hunter to prey.<br>\t\t\t\t\t<ul class="bb_ul"><li>Three campaigns: Colonial Marine, Alien and Predator<br>\t\t\t\t\t</li><li>Includes all the levels from the original AvP Gold Edition plus the Millennium Expansion Pack<br>\t\t\t\t\t</li><li>Skirmish mode against infinite Alien hordes<br>\t\t\t\t\t</li><li>Bonus Episodes<br>\t\t\t\t\t</li><li>Unique abilities, weapons and equipment for each species<br>\t\t\t\t\t</li><li>Scale walls and elevator shafts as an ALIEN with frightening speed as you attack and devour your victims<br>\t\t\t\t\t</li><li>Stalk your prey as the deadly PREDATOR using wrist blades, shoulder cannons and stealth mode<br>\t\t\t\t\t</li><li>Lock and load as a COLONIAL MARINE using motion trackers, grenade launchers and flame-throwers to exterminate your foes<br>\t\t\t\t\t</li><li>Supports Xbox 360 Controller for Windows<br>\t\t\t\t\t</li><li>Music from the original soundtrack CD<br>\t\t\t\t\t</li></ul><h2 class="bb_tag">Multiplayer Features</h2>\t\t\t\t\t<ul class="bb_ul"><li>Integrated with Steam Overlay<br>\t\t\t\t\t</li><li>Uses Steam name<br>\t\t\t\t\t</li><li>Host/Join games via bare-bones in-game lobby browser<br>\t\t\t\t\t</li><li>Can invite and join friends and others via the Steam overlay<br>\t\t\t\t\t</li><li>Game attempts host migration<br>\t\t\t\t\t</li><li>Dedicated servers are not supported or planned<br>\t\t\t\t\t</li></ul>'},"Advent Rising":{Name:"Advent Rising",Publisher:"Majesco Entertainment",Platforms:"windows",Type:"Single-player;Steam Trading Cards",Genres:"Action",Positive_ratings:"260",Negative_ratings:"71",Desc:"A common legend pervades the galaxy-that of a powerful, highly intelligent ancient race that will one day deliver the universe.  They are known as Humans.<br />\n\t\t\t\t\tSome claim they are the messiah. Others believe they exist only in the imaginations of the young. The Seekers, however, know Humans exist and believe they are an enemy that must be destroyed. Under the guise of benevolent explorers, Seekers comb the universe and eradicate any Human colonies they find. Until now.<br />\n\t\t\t\t\tWorking with award-winning science fiction author Orson Scott Card, GlyphX Games has created a gripping storyline that will thrust gamers into an incredible intergalactic saga.<br />\n\t\t\t\t\tThe Advent of Humanity Begins..."},BloodRayne:{Name:"BloodRayne",Publisher:"Majesco Entertainment",Platforms:"windows",Type:"Single-player;Steam Trading Cards",Genres:"Action",Positive_ratings:"369",Negative_ratings:"110",Desc:"In the years between the World Wars, Agent BloodRayne works as a killing machine for The Brimstone Society--a top secret fraternity that hunts down and destroys supernatural threats. Two missions, five years apart, turn out to be connected by one man.  For years, this man has been searching the world for powerful occult relics to bring Germany into a new age of domination. Rayne must face his elite Nazi army and prevent them from releasing horrific creatures in their quest for the artifacts.  Starring the super-sexy, super-lethal, supernatural heroine BloodRayne, this original action horror game unleashed the red headed dhampir on the world."},"BloodRayne 2":{Name:"BloodRayne 2",Publisher:"Majesco Entertainment",Platforms:"windows",Type:"Single-player;Steam Trading Cards",Genres:"Action",Positive_ratings:"259",Negative_ratings:"103",Desc:"BloodRayne is a dhampir, born from the unnatural union of vampire and human. Blessed with the powers of a vampire but cursed with the thirst for blood and a weakness to sunlight, Rayne is challenged with her most personal battle yet as she hunts down her siblings. They have banded together and pledged to carry on their father's legacy of creating a new era of vampire supremacy where humans are mere cattle. Rayne's siblings have created 'The Shroud,' a mysterious substance that will render the sun's lethal rays harmless to vampires. Now only BloodRayne stands between an unsuspecting humanity and a horrifying vampire dawn."},Psychonauts:{Name:"Psychonauts",Publisher:"Double Fine Productions",Platforms:"windows;mac;linux",Type:"Single-player;Steam Achievements;Steam Trading Cards;Partial Controller Support;Steam Cloud",Genres:"Action",Positive_ratings:"8204",Negative_ratings:"456",Desc:"A Psychic Odyssey Through the Minds of Misfits, Monsters, and Madmen.<br />\n<br />\nThis classic action/adventure platformer from acclaimed developers Double Fine Productions follows the story of a young psychic named Razputin. In his quest to join the Psychonauts--an elite group of international psychic secret agents--he breaks into their secret training facility: Whispering Rock Psychic Summer Camp. But this is no average psychic summer camp! A mysterious villain has kidnapped Raz\u2019s fellow campers and stolen their brains. Now he must use his psychic powers of Telekinesis, Levitation, and most of all his ability to project himself into the minds of others--to find the loose noodles and keep them from falling into the wrong hands. Fight mental demons! Uncover hidden memories! Sort emotional baggage! Explore the fantastic realm of the inner mind! Join the Psychonauts!"},"Sid Meier's Civilization\xae IV":{Name:"Sid Meier's Civilization\xae IV",Publisher:"2K",Platforms:"windows;mac",Type:"Single-player;Multi-player;Includes level editor",Genres:"Strategy",Positive_ratings:"1394",Negative_ratings:"129",Desc:"With over 6 million units sold and unprecedented critical acclaim from fans and press around the world, Sid Meier's Civilization is recognized as one of the greatest PC game franchises of all-time. Now, Sid Meier and Firaxis Games will take this incredibly fun and addictive game to new heights by adding new ways to play and win, new tools to manage and expand your civilization, all-new easy to use mod capabilities and intense multiplayer modes and options*. Civilization IV will come to life like never before in a beautifully detailed, living 3D world that will elevate the gameplay experience to a whole new level. Civilization IV has already been heralded as one of the top ten games of 2005, and a must-have for gamers around the globe!<br><br><strong>*Mac version's Online Multiplayer is no longer supported.</strong>"},"Sid Meier's Civilization\xae III Complete":{Name:"Sid Meier's Civilization\xae III Complete",Publisher:"2K",Platforms:"windows",Type:"Single-player;Multi-player;Includes level editor",Genres:"Strategy",Positive_ratings:"2578",Negative_ratings:"405",Desc:"Sid Meier's Civilization III: Complete, the latest offering in the Sid Meier's Civilization III franchise, provides gaming fans with Sid Meier's Civilization III, the highly-addictive journey of discovery, combined with the updated and enhanced multiplayer expansion pack Sid Meier's Civilization III: Play the World*, as well as all of the great new civilizations, scenarios, and features from Sid Meier's Civilization III: Conquests! Sid Meier's Civilization III: Complete provides more ways to explore, more strategies to employ, more modes of play, and more ways to win, all in one box!<br />\n<br />\n*Online Multiplayer to be suspended as of May 31st 2014, LAN mode still supported"},"Sid Meier's Pirates!":{Name:"Sid Meier's Pirates!",Publisher:"2K",Platforms:"windows",Type:"Single-player",Genres:"RPG",Positive_ratings:"2641",Negative_ratings:"193",Desc:"Sail the Caribbean, marauding all on the high seas or ally your ship and crew as a privateer in search of riches - the life you choose is up to you. Face dogged enemies, raid unsuspecting villages, woo fair maidens, avoid capture or dig for buried treasure. Discover what it takes to become one of the most famous pirates in history!"},"Shattered Union":{Name:"Shattered Union",Publisher:"2K",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"39",Negative_ratings:"49",Desc:"Following a great increase in terrorism, internal strife and ultimately, the nuclear destruction of Washington, D.C., the United States shatters into a half-dozen nation-states that descend into war. Take the helm of one of these newfound sovereignties (or the 'peacekeeping' European Expeditionary Force) and struggle to reunify America... by any means necessary!<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Modern 3D tactical war game viewed from a &quot;bird's-eye&quot; overhead camera.<br>\t\t\t\t\t</li><li>Non-linear mission progression with changes based on player-made decisions.<br>\t\t\t\t\t</li><li>Real-time resolution of turned-based moves. Take your time while you decide your move, but once you have selected your action, see the results all play out in full animation models, exploding vehicles, and burning cities and forests!<br>\t\t\t\t\t</li><li>Fully destructible terrain/environment. As the battle proceeds, everything from explosions and destroyed buildings permanently mark the terrain. Moving tanks will leave tread marks that stay for the duration of the mission. At the end, very little will look the same.<br>\t\t\t\t\t</li><li>Fight your way across the United States! Had enough of the windy city? Then go ahead and bomb Chicago! Invade across the Rockies into California, capture the tank factories in Ohio, and lay siege to New York City! You decide - the fate of the nation is in your hands!<br>\t\t\t\t\t</li><li>Call up National Guard forces equipped with M1 Abrams battle tanks, Apache helicopters and stealth bombers. Or make a deal with the Russians and equip your boys with MiG fighters and T-95 Heavy Tanks.</li></ul>"},"CivCity: Rome":{Name:"CivCity: Rome",Publisher:"2K",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"184",Negative_ratings:"65",Desc:'CivCity: Rome, an innovative city builder inspired by the world of Sid Meiers Civilization, and created by a collaboration between Firefly Studios and Firaxis Games, invites players to shift focus from building a multi-city empire and zoom-in on the great cities of the Roman Empire, culminating in Rome itself! Through dozens of missions, each offering an array of interesting decisions, players will be charged with building, nurturing and managing one of these great cities as they endeavour to lead the Roman Empire from its humble beginnings to its mighty apogee. Features players have enjoyed in the Civilization series, like research, city happiness, production and culture, can now be managed actively in the wonderfully immersive world of CivCity: Rome.<br>\t\t\t\t\t<ul class="bb_ul"><li>Look inside the buildings - For the first time in a city builder you can look inside the Villas, the forums, and even the Roman baths! Discover, in much greater detail, how Romans went about their daily lives. <br>\t\t\t\t\t</li><li>Civilize your city - More than 70 technologies can be developed over time to give your city a strategic advantage. Use the rich research tree to improve many aspects of your city and its relation to the wider empire.<br>\t\t\t\t\t</li><li>Follow the life of a Roman family - Do they thrive and prosper from humble hut to noble palace as they move through the generations or not? Well, thats your call! <br>\t\t\t\t\t</li><li>Ease of play - Driven purely by building placement and strong visual feedback, the game lets you create your own living community simply by choosing and placing the wide variety of buildings. <br>\t\t\t\t\t</li><li>Real Romans - An intriguing array of characters will interact with you</li></ul>'},"Civilization IV\xae: Warlords":{Name:"Civilization IV\xae: Warlords",Publisher:"2K",Platforms:"windows;mac",Type:"Single-player",Genres:"Strategy",Positive_ratings:"121",Negative_ratings:"20",Desc:"Sid Meier's Civilization IV: Warlords is the first expansion pack for the award-winning game that has become an instant world-wide hit. Paying homage to some of history's greatest military leaders, the expansion delivers six unique and interesting scenarios, giving players the chance to change the course of history with the help of their new powerful &quot;warlord&quot; unit. Civ IV: Warlords includes new civilizations, leaders, units, and wonders that offer even more fun and exciting ways for players to expand their civilization's military power as they strive for world domination.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Warlords: a new great person type called the Warlord.<br>\t\t\t\t\t</li><li>Vassal states: conquer an enemy and subjugate them to your rule.<br>\t\t\t\t\t</li><li>Game scenarios: the expansion delivers eight scenarios.<br>\t\t\t\t\t</li><li>New civilizations: the pack provides six new civilizations and associated unique units.<br>\t\t\t\t\t</li><li>Civilization leaders: 10 new leaders, including leaders for the new civilizations as well as additional leaders for existing civilizations.<br>\t\t\t\t\t</li><li>Leader traits: two new leader traits.<br>\t\t\t\t\t</li><li>New wonders: three new wonders.<br>\t\t\t\t\t</li><li>Unique buildings: each civilization has a new unique building as well as their unique unit.<br>\t\t\t\t\t</li><li>New units, resources, and improvements: many new items are presented throughout the scenarios.<br>\t\t\t\t\t</li><li>Core game tweaks and additions: expanded features and gameplay tweaks made to the core game.<br>\t\t\t\t\t</li><li>Post-release patches and game upgrades: the pack contains all of the patches and game additions (pit boss, etc.) yet released for Sid Meier's Civilization IV.</li></ul>"},"Garry's Mod":{Name:"Garry's Mod",Publisher:"Valve",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Co-op;Cross-Platform Multiplayer;Steam Achievements;Steam Trading Cards;Captions available;Steam Workshop;Steam Cloud;Valve Anti-Cheat enabled;Includes level editor",Genres:"Indie;Simulation",Positive_ratings:"363721",Negative_ratings:"16433",Desc:"Garry's Mod is a physics sandbox. There aren't any predefined aims or goals. We give you the tools and leave you to play.<br><br>You spawn objects and weld them together to create your own contraptions - whether that's a car, a rocket, a catapult or something that doesn't have a name yet - that's up to you. You can do it offline, or join the thousands of players who play online each day. <br><br>If you're not too great at construction - don't worry! You can place a variety of characters in silly positions. But if you want to do more, we have the means.<h2 class=\"bb_tag\">Beyond the Sandbox</h2><br>The Garry's Mod community is a tremendous source of content and has added hundreds of unique modes to the game. In Trouble In Terrorist Town, you can be a detective solving an online murder as criminals attempt to cover up their homicides. Be a ball, a plant, a chair, or anything else in Prop Hunt's elaborate, shape-shifting game of Hide &amp; Seek. Elevator: Source is gaming's first elevator thrill ride, delivering players to airlocks and kitten dance parties. <br><br>We have one of the most vibrant Steam Community Workshops, with over 300'000 models, maps, and contraptions to download. It has everything from new tools to improve your builds, to guns that fire rainbow-tinged nuclear blasts from space. Take as much or as little as you need: it\u2019s all free. <br><br><strong>Please note: Some multiplayer servers and game-modes might require you to own other games - such as Counter-Strike: Source and Team Fortress 2.</strong>"},"Poker Superstars II":{Name:"Poker Superstars II",Publisher:"Funkitron",Platforms:"windows",Type:"Single-player",Genres:"Casual;Strategy;Indie",Positive_ratings:"4",Negative_ratings:"5",Desc:'<p>You\'ve been invited back for Season 2! Poker Superstars II raises the stakes with more superstars, a bigger tournament and a brand new poker AI. Import your own photo into the game and become a Poker Superstar. Then get ready to battle through an exciting new tournament structure against 15 of poker\'s top players powered by a \'first of its kind\' artificial intelligence system that has learned to win by playing millions of simulated tournaments! The Superstars are ready to win, are you?</p><span class="copyHead">It contains these great features:</span>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li><span class="copyHead">Tougher Challenge!</span> First of its kind artificial intelligence system that has taught itself how to play, and how to win.</li>\n\t\t\t\t\t<li><span class="copyHead">Bigger Tournament!</span> You get to play the dynamic and competitive tournament right from the TV show.</li>\n\t\t\t\t\t<li><span class="copyHead">More Superstars!</span> This time, you are one of 16 Poker Superstars.</li>\n\t\t\t\t\t<li><span class="copyHead">Import Your Photo!</span> Be the Poker Superstar you know you are and see yourself right in the game!</li>\n\t\t\t\t\t<li><span class="copyHead">Interactive Opponent Pictures!</span> Now you get to see the Superstars smile devilishly when they beat you, as well as scowl when you beat them!</li>\n\t\t\t\t\t<li><span class="copyHead">Learn or Master!</span> Game Tips will introduce you to the game while the Game Tip button can help you hone your game.</li>\n\t\t\t\t\t<li><span class="copyHead">Amateur or Superstars!</span> Two different levels of challenge let you tune the game to the play level you want.</li>\n\t\t\t\t\t<li><span class="copyHead">Player Cards!</span> The game will track all your winnings, flops seen %, pots won % and best hands.  So you\'ll be able to see what kind of player you are.</li>\n\t\t\t\t\t<li><span class="copyHead">3 Exciting Game Modes!</span> Round lets you play a quick round. Season challenges you to win the full tournament. Limit lets you play the set bet amount game found frequently in casinos and online.</li>\n\t\t\t\t\t<li><span class="copyHead">Top Ten Lists!</span> Track your top winnings, top pots and top hands.</li></ul>'},"RACE - The WTCC Game":{Name:"RACE - The WTCC Game",Publisher:"SimBin",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Racing",Positive_ratings:"119",Negative_ratings:"43",Desc:"<strong>The Official WTCC Game |</strong> RACE is the first ever game to be focused on the hard hitting, intense action of the exciting WTCC championship which is exploding in popularity all over the world. Based on WTCC, one of only three official FIA world championships next to Formula 1 and WRC, RACE features the complete WTCC championship season of 2006, all the cars, drivers and locations, including several official tracks and cars brand new to the racing game genre.<br>\t\t\t\t\tThe game recreates the championship as close to real life as possible and simulates the cars and the driving style in a ultra realistic fashion.<br>\t\t\t\t\t RACE features various difficulty levels to attract everyone, from hardcore simulation gamers to beginners level still featuring the same elements and a highly realistic driving experience."},"RACE: Caterham Expansion":{Name:"RACE: Caterham Expansion",Publisher:"SimBin",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Racing",Positive_ratings:"4",Negative_ratings:"2",Desc:"Celebrating the 50-year anniversary of Caterham Cars Ltd, RACE fans can now expand the WTCC Experience with this exceptional series of classic sportscars. RACE: CATERHAM introduces a total of 60 individual new cars/car skins based on some of the most exciting models in the Caterham sports car range, including the Caterham CSR 200, CSR 260 and the CSR 320 Concept, a concept version with a grueling 320hp.<br />\nRacers can run the cars on two exciting new tracks: the legendary Imola circuit and the former GP track Estoril.<br />\nRACE: CATERHAM includes new features that improve the original RACE game experience: improved performance scalability, a performance monitor to help the player find the best possible graphical settings, and a new controller interface with more options for joy-pad or keyboard/mouse controls."},RoboBlitz:{Name:"RoboBlitz",Publisher:"Naked Sky Entertainment",Platforms:"windows",Type:"Single-player;Partial Controller Support;Includes level editor",Genres:"Action;Indie",Positive_ratings:"43",Negative_ratings:"14",Desc:"<p>RoboBlitz&trade; is a humorous, physics-based action game full of inventive gizmos, weapons, characters, and environments. Players take on the role of Blitz, a multi-talented robot who must activate an aging Space Cannon to save his world from a band of maladjusted space pirates.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>19 levels of puzzle-solving and high-intensity action, set in 7 unique environments</li>\n\t\t\t\t\t<li>Humorous characters and unique weapons</li>\n\t\t\t\t\t<li>Gameplay entirely driven by physics</li>\n\t\t\t\t\t<li>Advanced robot simulation and control theory</li>\n\t\t\t\t\t<li>Powered by Unreal&reg; Engine 3</li></ul>"},Silverfall:{Name:"Silverfall",Publisher:"Focus Home Interactive",Platforms:"windows",Type:"Single-player",Genres:"RPG",Positive_ratings:"57",Negative_ratings:"36",Desc:'Silverfall, a once glorious city, lies in the fantastical Kingdom of       Nelw\xeb, where the forces of Technology and Nature are strongly opposed. Symptoms of this terrible conflict have begun to manifest physically as melded cyberbiologic organics and living steam-driven automatons.<br>\t\t\t\t\tDrag your hero from the pits of this world and craft him into a mighty champion that can oppose the planet-choking Order of Nothingness. Freedom to evolve in either the technological or spiritual paths is in your hands and you must choose your comrades wisely to provide a balance and benefit to your efforts - but be cautious, any bias in your choices will either corrupt or upgrade the growing world around you.<br>\t\t\t\t\t<ul class="bb_ul"><li>Create &amp; customize your hero (face, sex, skin, hair...) from the 4 Nelw\xeb races (human, elf, goblin &amp; troll).<br>\t\t\t\t\t</li><li>Your hero advances without class limits and with more than 130 skills &amp; magic spells at his disposal.<br>\t\t\t\t\t</li><li>Freely explore a stunning and immense fantasy world! <br>\t\t\t\t\t</li><li>From the floating city of Cloudworks, to the volcanic scenery of the city of Blazis.<br>\t\t\t\t\t</li><li>Revolutionary light and shadow effects combine with a realistic physics engine which gives never seen before detail to the environment &amp; special effects.<br>\t\t\t\t\t</li><li>Playable with up to 8 players in multiplayer mode through either a LAN connection or on the Internet, with cooperative play or PvP.</li></ul>'},"City Life 2008":{Name:"City Life 2008",Publisher:"Focus Home Interactive",Platforms:"windows",Type:"Single-player",Genres:"Simulation;Strategy",Positive_ratings:"77",Negative_ratings:"41",Desc:'Construct the city of the 21st Century with City Life!<br>\t\t\t\t\tCity Life 2008 Edition is a next-generation City Builder. Its 3D game engine provides a level of detail and animation unprecedented in the City Builder genre, with total freedom of construction. From superb villas in residential neighbourhoods to imposing skyscrapers in the financial district, design, construct and develop the city of your dreams. Provide comfort and satisfaction for your citizens by offering them work, health care, entertainment facilities, and much more, and ensure that your city\u2019s coffers are brimming. It\u2019s up to you to manage your city efficiently, balancing booming development with the problems of pollution and traffic that this brings. Build a sense of community between the six unique subcultures, or pay the price if their relationships deteriorate into conflict or riots. You are the architect, mayor and business mogul!<br>2008 Edition<br>\t\t\t\t\tCity Life 2008 Edition contains all the content of the previous versions, adding a further 23 new maps and over 60 new buildings, including landmarks such as London\u2019s Royal Opera House and St. Paul\u2019s Cathedral. Over 360 buildings are at your disposal in this latest version. You now have the possibility to import satellite maps, heightmaps, and other user-generated terrain into the game. Use your imagination to create ever more spectacular towns, or recreate the exceptional cities of the real world!<br>Features<br>\t\t\t\t\t<ul class="bb_ul"><li>Gigantic city building simulation with high performance 3D engine.<br>\t\t\t\t\t</li><li>Explore 50 maps in five different environments.<br>\t\t\t\t\t</li><li>360\xb0 camera rotation and zooming allows you to dive into the heart of your city and observe its inhabitants.<br>\t\t\t\t\t</li><li>Six unique subcultures with specific expectations and needs.<br>\t\t\t\t\t</li><li>Play in Scenario or Free Mode.<br>\t\t\t\t\t</li><li>New import tool for satellite maps and heightmaps.<br>\t\t\t\t\t</li><li>A powerful building creation tool based on a modular system. No technical skills required, only your imagination.</li></ul>'},"Silverfall: Earth Awakening":{Name:"Silverfall: Earth Awakening",Publisher:"Focus Home Interactive",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"RPG",Positive_ratings:"31",Negative_ratings:"17",Desc:"<p>Silverfall Earth Awakening is an action RPG with unique graphical feel offering a fantastic quest to explore the new territories of Nelw\xeb. In this heroic fantasy world where nature and technology collide you will have to make important choices which will lead you to side with one or the other. Play any one of the available six races, of which 2 are new: the stocky and lucky 'Dwarves' and the agile and treacherous 'Lizardmen', and prepare yourself to confront an impressive array of creatures and formidable bosses to save the realm of Nelw\xeb.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Alongside the Elves, Goblins, Trolls and Humans, discover 2 new playable races with 5 specific skills each : The dwarves and the Lizardmen, and then customize your hero ( skin, gender , hair, etc .)</li>\n\t\t\t\t\t<li>Master over 156 skills and magic spells, including 8 new exclusive 'Ultimate' skills and 12 unique 'High Level' skills for an even more devastating result.</li>\n\t\t\t\t\t<li>Use different object crafting skills and make thousands of new and unique weapons, armour and spells. </li>\n\t\t\t\t\t<li>Discover a new, fully adaptable game interface with improved ergonomics in which you can now control your hero with the mouse or keyboard.</li>\n\t\t\t\t\t<li>Import your hero from Silverfall to Earth Awakening and keep your level, equipment and skills...or start the adventure from the beginning with a level 45 hero.</li>\n\t\t\t\t\t<li>Playable with up to 8 players in multiplayer mode via LAN and in cooperative or PVP mode via the Internet.</li></ul>"},"S.T.A.L.K.E.R.: Shadow of Chernobyl":{Name:"S.T.A.L.K.E.R.: Shadow of Chernobyl",Publisher:"GSC Game World",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action;RPG",Positive_ratings:"11039",Negative_ratings:"570",Desc:"In 1986, the world's worst nuclear disaster occurred at the Chernobyl Nuclear Power Plant. Soviet authorities established an 'Exclusion Zone' around, but a second explosion hit the reactor in 2006, creating The Zone as we know it \u2013 dangerous place, filled with mutated creatures, deadly radiation, and a strange, anomalous energy. The Zone was cordoned off by the military, who would shoot on sight anyone foolish enough to get inside.<br> <br>Year 2012. The Zone is still a dangerous place and a threat to all mankind. Mercenaries, bounty hunters and explorers ventured further and further into the heart of the Zone driven by reports of strange 'artifacts' imbued with anomalous energy. To sell them on the black market or trying to find the 'truth' behind the Zone. Whatever their motivation, over time these individuals - Scavengers, Trespassers, Adventurers, Loners, Killers, Explorers and Robbers - have become known as S.T.A.L.K.E.R.s.<br> <br>You will have to find your own way to survive in the Zone!<br> <br><ul class=\"bb_ul\"><li>An immersive storyline, seamlessly blended with a living, breathing, non-linear open-world environment.<br></li><li>An accurately modeled real-world buildings and locations from deep inside of the Chernobyl Exclusion Zone.<br></li><li>Unique 'Survival FPS' gameplay, which combines action, stealth, survival and RPG elements - to create an incomparable experience in the Zone.<br></li><li>Enemy Threat Evaluation AI system - NPC characters react to changes in environments and situations.<br></li><li>Realistic combat mechanics with accurate ballistic properties.<br></li><li>Dynamic day-night cycle and weather system, that directly impacts gameplay.<br></li><li>Advanced physics and dynamic lighting effects powered by the 'X-Ray Engine'.<br></li><li>Intense multiplayer action, supporting up to 32 players.</li></ul>"},"Full Spectrum Warrior":{Name:"Full Spectrum Warrior",Publisher:"THQ Nordic",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action;Strategy",Positive_ratings:"106",Negative_ratings:"60",Desc:"The U.S. Army is the most powerful ground force in the entire world. The backbone of a ground invasion is the U.S. Army Infantry, and in the midst of combat, their skills, courage, and teamwork are put to the test.<br><br>\t\t\t\t\tWhile readiness continues to be the U.S. Army's top priority, how it goes about its business is changing. Full Spectrum Warrior began as a training aid for the U.S. Army to reinforce Army doctrine and team effort within the troops. It is the most realistic portrayal of Infantry-level urban warfare via unique tactical action gameplay. Players become the Squad Leader, commanding Alpha and Bravo squads. There is potential for danger down every alley, behind every window. Watch those angles folks, we've got a job to do here. Hooah!<br><br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Unique combination of tactical and action gameplay.<br>\t\t\t\t\t</li><li>Authentic implementation of U.S. Army Infantry doctrine.<br>\t\t\t\t\t</li><li>Simple control scheme lets you command eight soldiers in real time.<br>\t\t\t\t\t</li><li>Squad equipment reflects real weaponry and equipment currently in use by the U.S. Army.<br>\t\t\t\t\t</li><li>Immersive urban environments with danger around every corner.<br>\t\t\t\t\t</li><li>2-player co-op, each player controls one fire team.<br>\t\t\t\t\t</li><li>Includes 2 exclusive bonus levels not available on Xbox.</li></ul>"},"Full Spectrum Warrior: Ten Hammers":{Name:"Full Spectrum Warrior: Ten Hammers",Publisher:"THQ Nordic",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action;Strategy",Positive_ratings:"76",Negative_ratings:"38",Desc:'Sequel to the critically acclaimed, squad-based/real-time tactical combat game, Full Spectrum Warrior: Ten Hammers delivers the most authentic and realistic infantry combat experience ever. As Squad Leader, coordinate the actions of multiple infantry squads, leading them through over 12 levels of intense action. Utilize authentic combat tactics to command your squad as you battle enemies with an explosive arsenal of weapons, high-tech military equipment and new controllable mechanized units. New advanced squad controls give you more in-depth tactical command over your squad as you lead them through a variety of realistic combat missions. With all new multiplayer modes, go online and team up with a friend in two player co-op or go head-to-head with up to eight players through a variety of new adversarial and team-based objective missions.<br><br>\t\t\t\t\t<ul class="bb_ul"><li><strong>Innovative gaming experience </strong>- Combines intense squad based combat and real-time tactical action, delivering the most authentic and realistic infantry combat experience ever.<br>\t\t\t\t\t</li><li><strong>New Squad Controls </strong>- Independently controllable scout &amp; buddy teams, ability to give orders to one team while controlling another, and ability to enter buildings and position sniper teams.<br>\t\t\t\t\t</li><li><strong>Advanced reactive enemy AI</strong> that reacts realistically to combat situations.<br>\t\t\t\t\t</li><li><strong>Expansive, non-linear level design </strong> with multiple pathways to accomplish objectives.<br>\t\t\t\t\t</li><li><strong>New Multiplayer Experience </strong>- Full Spectrum Warrior style gameplay with both Co-op and Adversarial (Coalition vs. Opfor) online multiplayer modes.</li></ul>'},"Company of Heroes - Legacy Edition":{Name:"Company of Heroes - Legacy Edition",Publisher:"SEGA",Platforms:"windows",Type:"Single-player;Multi-player;Steam Trading Cards;Steam Workshop;Steam Cloud",Genres:"Violent;Action;Strategy",Positive_ratings:"4772",Negative_ratings:"320",Desc:'<h2 class="bb_tag">DISCLAIMER</h2><i>This legacy version of COH1 will also give you access to <a href="http://store.steampowered.com/app/228200/Company_of_Heroes" target="_blank" rel="noreferrer"  ><u>the latest updated version of COH1</u></a> - simply called &quot;Company of Heroes&quot; in your Steam library. <strong>PLEASE USE THE LATTER TO PLAY ONLINE</strong>, and visit the associated pages to join the COH1 Steam Community &amp; Modding scene:<br><strong><ul class="bb_ul"><li><a href="http://steamcommunity.com/app/228200" target="_blank" rel="noreferrer"  ><u>COH1 Community Hub</u></a><br></li><li><a href="http://steamcommunity.com/app/228200/workshop/" target="_blank" rel="noreferrer"  ><u>COH1 Steam Workshop</u></a></li></ul></strong></i><h2 class="bb_tag">DESCRIPTION</h2>Delivering a visceral WWII gaming experience, Company of Heroes redefines real time strategy gaming by bringing the sacrifice of heroic soldiers, war-ravaged environments, and dynamic battlefields to life. Beginning with the D-Day Invasion of Normandy, players lead squads of Allied soldiers into battle against the German war machine through some of the most pivotal battles of WWII. Through a rich single player campaign, players experience the cinematic intensity and bravery of ordinary soldiers thrust into extraordinary events.<br><br>\t\t\t\t\t<ul class="bb_ul"><li><strong>A Cinematic Single Player Experience</strong> that captures the turmoil of WWII as never before.<br>\t\t\t\t\t</li><li><strong>Advanced squad AI</strong> brings your soldiers to life as they interact with the changing environment, take cover, and execute advanced squad tactics to eliminate all enemy opposition. <br>\t\t\t\t\t</li><li><strong>Stunning Visuals </strong> - Relic\'s next generation cutting-edge engine provides graphic quality and a physics driven world that is unprecedented in an RTS.<br>\t\t\t\t\t</li><li><strong>Environmental Strategy</strong> - Real-time physics and a completely destructible environment guarantee no two battles ever play out in the same way. Destroy anything and re-shape the battlefield! Use buildings and terrain to your advantage, or deny them to the enemy.<br>\t\t\t\t\t</li><li><strong>2-8 Player Multiplayer Competition via LAN or Internet</strong> - Go online with friends and join the ultimate battle of Axis versus Allies.</li></ul>'},"Warhammer\xae 40,000: Dawn of War\xae - Game of the Year Edition":{Name:"Warhammer\xae 40,000: Dawn of War\xae - Game of the Year Edition",Publisher:"SEGA",Platforms:"windows",Type:"Single-player;Multi-player;Steam Trading Cards;Steam Cloud",Genres:"Strategy",Positive_ratings:"3485",Negative_ratings:"206",Desc:'<h1>Reviews</h1><p><a href="http://store.steampowered.com/sub/30560/" target="_blank" rel="noreferrer"  ><img src="https://steamcdn-a.akamaihd.net/steam/apps/4570/extras/DOW_STEAM_BANNER_616x616.jpg?t=1528131594" ></a></p><br><h1>About the Game</h1>Prepare yourself for the grim, dark future of the 41st millennium, where alien races battle mankind for galactic domination in a universe of unending war.<br>Personalize your armies with a revolutionary unit customization tool that gives you the ability to choose your armies insignias, banners, squad colors and names.<br><br><br><ul class="bb_ul"><li><strong>Engaging story driven single player campaign.</strong><br>Command the elite chapter of the Blood Ravens in an original epic tale of treason and conspiracy as you serve the Emperor and protect humanity from the scourges of Warhammer 40,000 universe.<br></li><li><strong>Master four unique races.</strong><br>Command your Space Marines, Orks, Chaos and Eldar in epic battles and master their distinct abilities, weapons, and tech trees to eradicate the enemy and rule the known universe.<br></li><li><strong>Unprecedented realism.</strong><br>Appropriately scaled terrain, vehicle physics and dynamic lightning contribute to a level of realism never before displayed in a real-time strategy game.<br></li><li><strong>Visceral cinematic melee and ranged combat.</strong><br>Realistic unit animations immerse you in intense brutal combat .<br></li><li><strong>Pioneering tactical gameplay.</strong><br>Innovations such as cover, squad-based combat, and morale add new strategic depth to real-time warfare.<br></li><li><strong>Dynamic multiplayer.</strong><br>Test your true combat abilities in two-to-eight player battles providing endless re-playability</li></ul>'},"Warhammer\xae 40,000: Dawn of War\xae - Dark Crusade":{Name:"Warhammer\xae 40,000: Dawn of War\xae - Dark Crusade",Publisher:"SEGA",Platforms:"windows",Type:"Single-player;Multi-player;Steam Cloud",Genres:"Strategy",Positive_ratings:"2849",Negative_ratings:"133",Desc:"Deep under the central desert of Kronus, a vast honeycomb of skull-lined tunnels and funeral chambers house the awakening Necron menace. Eons ago, these were the boulevards and squares of a great necropolis built to house the bones of the races who had fallen to the Necrons, and ultimately were where the Necrons themselves retire to spend eternity. Over millions of years, sand and rock had covered it all until ill-fated excavations awoke the deathless. <br>Play any of seven races, striving for control over Kronus. Take other races' strongholds by winning challenging battles on various maps individually associated with the respective strongholds. <br><br><ul class=\"bb_ul\"><li><strong>New Races</strong><br>Take command of two new playable races: Tau and Necron to unleash massive carnage across the frontlines of battle.<br><br></li><li><strong>Expanded multiplayer</strong><br>Dominate opponents online across 12 new multiplayer maps - with up to 8 players battling it out for supremacy.<br><br></li><li><strong>Deep single player campaign</strong><br>Conquer the planet of Kronus any way you choose - leading any one of seven races on an epic crusade through an all-new, non-linear single player campaign where you can experience unique storylines from each race's perspective.<br><br></li><li><strong>Customization</strong><br>Customize your hero's weapons, items and abilities as he grows in power and influence. Personalize your army with a variety of insignias, squad colors, banners and names.</li></ul>"},"Total War: MEDIEVAL II \u2013 Definitive Edition":{Name:"Total War: MEDIEVAL II \u2013 Definitive Edition",Publisher:"SEGA;Feral Interactive (Mac);Feral Interactive (Linux)",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player;Steam Trading Cards",Genres:"Strategy",Positive_ratings:"10270",Negative_ratings:"605",Desc:'<img src="https://steamcdn-a.akamaihd.net/steam/apps/4700/extras/MED2_FIRST.gif?t=1548693689" ><br><br>Complete your Total War collection with this Definitive Edition of Total War: MEDIEVAL II, which includes all DLC and feature updates since the game\u2019s release: <br><br>Kingdoms is the most content-rich expansion ever produced for a Total War game, with four new entire campaigns centred on expanded maps of the British Isles, Teutonic Northern Europe, the Middle East, and the Americas.<br><br>Total War: MEDIEVAL II Definitive Edition offers hundreds and hundreds of hours of absorbing gameplay and every bit of content made for the game. See below for full details. <br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4700/extras/MED2_SECOND.GIF?t=1548693689" ><br><br><strong>About Total War: MEDIEVAL II</strong><br><br>Take command of your army and expand your reign in Total War: MEDIEVAL II - the fourth instalment of the award-winning Total War series of strategy games. Direct massive battles featuring up to 10,000 bloodthirsty troops on epic 3D battlefields, while presiding over some of the greatest Medieval nations of the Western and Middle Eastern world. <br><br>Spanning the most turbulent era in Western history, your quest for territory and power takes you through Europe, Africa, and the Middle East, and even onto the shores of the New World.<br><br>You\'ll manage your empire with an iron fist, handling everything from building and improving cities to recruiting and training armies. Wield diplomacy to manipulate allies and enemies, outsmart the dreaded Inquisition, and influence the Pope. Lead the fight in the Crusades and bring victory to Islam or Christianity in the Holy War. <br>Rewrite history and conquer the world. This is Total War!<br><br>\u2022\tBigger and better real-time battles. Improved combat choreography, larger armies, quicker pace, and spectacular finishing moves make this the most visceral and exciting Total War ever.<br>\u2022\tNew epic campaign. The ambitious single player campaign will span three continents and let players sail across to the Americas to confront the Aztecs on their home soil.<br>\u2022\tGreater accessibility. An enhanced user interface and optional shorter campaigns make the Total War experience faster and easier to enjoy than ever before.<br>\u2022\tOver 40 new features. An advanced terrain system, enhanced weather effects, and more will help you divide and conquer.<br>\u2022\tIntense Multiplayer Battles. Wage war against other players in 8-way multiplayer games.<br><br><br><strong>About Kingdoms</strong><br><br>Kingdoms presents players with all-new territories to explore, troops to command, and enemies to conquer.<br><br>Kingdoms is the most content-rich expansion ever produced for a Total War game, with four new entire campaigns centred on expanded maps of the British Isles, Teutonic Northern Europe, the Middle East, and the Americas. In Total War: MEDIEVAL II, you were only given a tantalizing glimpse of South America, but in Kingdoms, vast tracts of land in both North and South America have been opened up for you to conquer. All-new factions from the New World are also now fully playable, including the Aztecs, Apaches, and Mayans.<br><br>Along with the new maps in the Britannia, Teutonic, Crusades, and New World Campaigns, there are 13 new factions to play, over 110 units to control, and 50 building types, adding up to 80 hours of new gameplay. Kingdoms also offers new multiplayer maps and hotseat multiplayer, a first for the Total War series, allowing you to play one-versus-one campaign games on the same computer.<br><br>\u2022\tFour new campaigns - Britannia, Teutonic, Crusades, and New World<br>\u2022\t10 new units<br>\u2022\t13 new factions<br>\u2022\t9 new agents<br>\u2022\t50 new buildings<br>\u2022\t60+ new territories across four new maps<br>\u2022\t15 new multiplayer maps and scenarios<br>\u2022\tAll-new 1v1 hotseat multiplayer campaign mode'},"Condemned: Criminal Origins":{Name:"Condemned: Criminal Origins",Publisher:"SEGA",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"1243",Negative_ratings:"221",Desc:"What twists the mind of an ordinary human into a serial killer?<br />\n<br />\nAssigned to the Serial Crimes Unit, Agent Ethan Thomas must answer this question, and bring the worst of society to justice. His solve rate is the best in the bureau....perhaps too good.<br />\n<br />\nWhile investigating the growing list of serial killers, Agent Thomas concludes that something is twisting the bodies and souls of those that society has left behind. The homeless, addicted and deranged are rising from the city\u2019s underbelly and committing mindless acts of violence. Could there be an unseen connection between the increasing brutality of the latest serial killings and the increasing crime rate? This question is pushed to the forefront after Agent Thomas is framed for the murder of two police officers. Now he must solve the murders to stop the killings, and exonerate himself from the crimes of which he is accused.<br />\n<br />\nAs FBI agent Ethan Thomas, you rely on sharp instincts and sophisticated forensic tools to investigate crime scenes, collect evidence, and find clues that will lead you to the killers. With danger lurking in every shadow, you need whatever weapons you can find to stay alive. If you run out of bullets, you\u2019ll have to fight with a fire axe, shovel, pipe, two-by-four, or whatever you can pry from the environment around you. You\u2019ll need to make sure nothing stops you as you try to uncover exactly who...or what is behind the grisly killings plaguing the city."},"Rome: Total War\u2122 - Collection":{Name:"Rome: Total War\u2122 - Collection",Publisher:"SEGA",Platforms:"windows",Type:"Single-player;Multi-player;Steam Trading Cards",Genres:"Strategy",Positive_ratings:"7806",Negative_ratings:"562",Desc:"Once the Roman Empire is under your command, don't lay down your sword just yet - the Barbarians are coming. With two award-winning titles from the esteemed Total War series, you'll have twice as many obstacles and opportunities to control and conquer the greatest empire ever known to man.<br>\t\t\t\t\tThe Collection Edition includes:<br>\t\t\t\t\t<strong>Rome: Total War</strong> Guide one of three noble Roman families on a century spanning quest to seize control of the Roman Empire.<br>\t\t\t\t\t<strong>Rome: Total War - Barbarian Invasion</strong><br>\t\t\t\t\t (official expansion pack to Rome: Total War) Witness the decline of Rome as Barbarian hordes attack, forcing a bitter internal struggle between rival factions.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Voted 2004 Best Strategy game by IGN, GameSpy and GameSpot.<br>\t\t\t\t\t</li><li>Fight alongside or against history's greatest leaders such as Julius Caesar, Spartacus, and Hannibal to expand or destroy the Roman Empire.<br>\t\t\t\t\t</li><li>Lay siege against the Romans as Attila the Hun, fearful Saxons, or other savage factions using signature weapons and abilities.<br>\t\t\t\t\t</li><li>Command warrior-tested legions in cinematic epic battles with thousands of soldiers on-screen at once.<br>\t\t\t\t\t</li><li>A century-spanning campaign charges players with strategically managing the economic, civil, religious and military arms of their empire.</li></ul>"},"Rome: Total War\u2122 - Alexander":{Name:"Rome: Total War\u2122 - Alexander",Publisher:"SEGA",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"331",Negative_ratings:"131",Desc:'Rome: Total War - Alexander is the second official expansion pack to Rome: Total War.<br>\t\t\t\t\t<ul class="bb_ul"><li>An entirely new campaign map that stretches from Macedonia to Greece and into the heart of the ancient Persian Empire<br>\t\t\t\t\t</li><li>New campaign game that tasks players with matching the exploits of Alexander the Great as he swept across Central Asia and dominated the Persian Empire <br>\t\t\t\t\t</li><li>Four new factions including the Macedonians, Persians and Indians<br>\t\t\t\t\t</li><li>Over 25 new units, including Alexander\'s own renowned historical troops <br>\t\t\t\t\t</li><li>Historical Alexander the Great campaign with six new historical battles that unlock sequentially, telling the story of Alexander and providing a historical backdrop to each of the battles<br>\t\t\t\t\t</li><li>All-new movies to support the Alexander campaign, with professional voiceovers by actor Brian Blessed (Alexander, Star Wars Episode I: The Phantom Menace)</li></ul>'},"Medieval II: Total War\u2122 Kingdoms":{Name:"Medieval II: Total War\u2122 Kingdoms",Publisher:"SEGA;Feral Interactive (Mac);Feral Interactive (Linux)",Platforms:"windows;mac;linux",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"585",Negative_ratings:"30",Desc:'Medieval II: Total War Kingdoms is the official expansion to last year\'s award-winning Medieval II: Total War, presenting players with all-new territories to explore, troops to command, and enemies to conquer.<br>\t\t\t\t\tKingdoms is the most content-rich expansion ever produced for a Total War game, with four new entire campaigns centered on expanded maps of the British Isles, Teutonic Northern Europe, the Middle East, and the Americas. In Medieval II, you were only given a tantalizing glimpse of South America, but in Kingdoms, vast tracts of land in both North and South America have been opened up for you to conquer. All-new factions from the New World are also now fully playable, including the Aztecs, Apaches, and Mayans.<br>\t\t\t\t\tAlong with the new maps in the Britannia, Teutonic, Crusades, and New World Campaigns, there are 13 new factions to play, over 110 units to control, and 50 building types, adding up to 80 hours of new gameplay. Kingdoms also offers new multiplayer maps and hotseat multiplayer, a first for the Total War series, allowing you to play one-versus-one campaign games on the same computer.<br>\t\t\t\t\t<ul class="bb_ul"><li>Four new campaigns - Britannia, Teutonic, Crusades, and New World<br>\t\t\t\t\t</li><li>10 new units<br>\t\t\t\t\t</li><li>13 new factions<br>\t\t\t\t\t</li><li>9 new agents<br>\t\t\t\t\t</li><li>50 new buildings<br>\t\t\t\t\t</li><li>60+ new territories across four new maps<br>\t\t\t\t\t</li><li>15 new multiplayer maps and scenarios<br>\t\t\t\t\t</li><li>All-new 1v1 hotseat multiplayer campaign mode</li></ul>'},"Heroes of Annihilated Empires":{Name:"Heroes of Annihilated Empires",Publisher:"GSC Game World",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"259",Negative_ratings:"46",Desc:'Heroes of Annihilated Empires - is a fantasy-based game from GSC Game World in the genre of RTS vs RPG for PC. <br><br>A new proprietary 3D-engine is used to power the game. Episode one is set on Atlans island, the historical homeland of elves. The world of the game is living and huge, full of magic, mythical creatures, heroes and powerful forces involved in a large-scale conflict dating back to the past. The gameplay enables the player, controlling one of the heroes, as to lead thousands-strong armies into battle, so as combat with the hero alone, making use of the entire arsenal of possibilities and powerful magical spells. The possibility to upgrade your hero, improve his abilities, find artifacts and get random quests serves to hugely diversify the gameplay.<br><br><ul class="bb_ul"><li>Innovative opposing of two genres in one game - RTS vs RPG<br></li><li>New 3D engine<br></li><li>Detailed game world, including support of 5 novels from Europe-renowned writer Ilya Novak<br></li><li>Mass-scale battles of thousands-strong armies<br></li><li>Four unique races, individual skills, spells and artifacts<br></li><li>12 heroes, 12 neutral races, 100 units and 150 various buildings<br></li><li>Excellently developed character types and impressive unit animation<br></li><li>Over 150 magic items and over 100 spells<br></li><li>Original and involving story of the campaign<br></li><li>Classic multiplayer over LAN or the Internet, up to 7 players in a game. Mix of two genres in the game: RTS vs RPG with a possibility to blend or choose in between during the play.<br></li><li>Original card system of magic spells, equally interesting to both hardcore gamers and newbies. Over 50 spell cards<br></li><li>Involving process of character level-ups throughout the entire game<br></li><li>Stunning intros and cut-scenes. Comics in-between missions to give a deeper story insight</li></ul>'},"Cossacks: Back to War":{Name:"Cossacks: Back to War",Publisher:"GSC World Publishing",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"1081",Negative_ratings:"143",Desc:'To stand alone in war is extremely unpleasant. Extremely pleasant, on the other hand, is the stand-alone version Cossacks: Back to War. Containing all of the gameplay features of Cossacks: European Wars and Cossacks: The Art of War, this is a complete care package for all current and future Cossacks fans. This add-on contains 100 captivating missions taking place between the 16th and 18th centuries. In addition, two new nations, Switzerland and Hungary, are included. These countries waged war in the late Middle Ages and essentially influenced the development of European military strategies. This addition causes the second add-on of Cossacks to pass the threshold of allowed gaming fun.<h2 class="bb_tag">Features:</h2><ul class="bb_ul"><li>Thrilling real-time strategy game with historical background.<br>\t\t\t\t\t</li><li>Fascinating 3D landscapes.<br>\t\t\t\t\t</li><li>Play takes place in Europe between the 16th and 18th centuries.<br>\t\t\t\t\t</li><li>Stand-alone game, other Cossacks games not required to play.<br>\t\t\t\t\t</li><li>A total of 20 different European nations to command.<br>\t\t\t\t\t</li><li>100 new single missions.<br>\t\t\t\t\t</li><li>2 new nations: Switzerland and Hungary with a total of 8 new units.<br>\t\t\t\t\t</li><li>Spectacular real-time battles with up to 8,000 units.<br>\t\t\t\t\t</li><li>4 different difficulty levels.<br>\t\t\t\t\t</li><li>1 new camel riding unit for Algeria and Turkey: Bedouin.<br>\t\t\t\t\t</li><li>This version with low system requirements is adapted for comfortable play on any hardware from low-end computers, laptops and netbooks, to high-end PCs (with Windows Vista/7).<br>\t\t\t\t\t</li><li>Ad-Hoc multiplayer play (offline mode).<br>\t\t\t\t\t</li><li>Infinite AI skirmishes on randomly generated maps.<br>\t\t\t\t\t</li></ul>'},"Cossacks: Art of War":{Name:"Cossacks: Art of War",Publisher:"GSC World Publishing",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"102",Negative_ratings:"22",Desc:"<strong>Cossacks: The Art of War</strong> \u2013 continues the history of the great battles of XVII\u2013XVIII centuries, and introduces five new campaigns, two nations, some new units and much more."},"Cossacks: European Wars":{Name:"Cossacks: European Wars",Publisher:"GSC World Publishing",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"170",Negative_ratings:"66",Desc:"Cossacks: European Wars is a historical real-time strategy based on events of the 16th through the 18th centuries in Europe, when nations and states were created and demolished, and wars shed seas of blood. There are 16 nations or regions in Cossacks: Algeria, Austria, England, France, the Netherlands, Piemonte, Poland, Portugal, Prussia, Russia, Saxony, Spain, Sweden, Turkey, Ukraine, and Venice. Each has its own original graphics, economic and technical development peculiarities, military advantages and drawbacks, and unique units and technologies, providing vast choices of tactics and strategy in war against any enemy. Thus, England is the mightiest sea power, Austria has powerful light and heavy cavalry, and Cossacks are the pride of the Ukrainian army.<br />\n\t\t\t\t\t\t<br />\n<br />\n\t\t\t\t\t\tBattles of up to 8,000 units may be conducted on single or network game maps. One can carry out lingering city sieges, wage guerilla wars, capture commanding heights and arrange ambushes, deploy landing forces on enemy shores, and conduct sea battles. The game system is arranged to reduce per-unit control and resource micromanagement, and to turn to global goals of powerful economy formation, science development, the capturing of new lands, and defending borders."},"Cossacks II: Battle for Europe":{Name:"Cossacks II: Battle for Europe",Publisher:"GSC World Publishing",Platforms:"windows",Type:"Single-player;Multi-player;Online Multi-Player;Local Multi-Player",Genres:"Strategy",Positive_ratings:"246",Negative_ratings:"138",Desc:'Let the battle begin! The Cossacks II: Battle for Europe add-on continues the renowned Cossacks II:Napoleonic Wars game. It depicts the rather short historic period of the Napoleonic wars. The Napoleon wars changed Europe forever, leading to the formation of empires and putting an end to almost one thousand years of constant strife between small states. The game provides mass-scale battles between thousands-strong armies of the nations involved in conflicts during this period. The theatres of operation introduce France, Britain, Austria, Russia, Prussia, Egypt, and three nations not represented in the original game \u2013 Spain, the Grand Duchy of Warsaw (Poland), and the Confederation of the Rhine.<br>\t\t\t\t\t\tThe Cossacks II: Battle for Europe reconstructs in detail the soldiers\' uniforms weapons and architecture of each nation. Each nation\'s army has its unique units and possibilities. The game includes over 180 units 190 buildings and 1200 flora and fauna elements. When developing the combat system the peculiarities of early 19th century warring were taken into account as was the value of formations provisions and troop morale. Tactical tricks utilized by military commanders of the time are fully reflected in the game. An &quot;honest&quot; system of bullet and cannonball ballistics based on physics is an innovative addition to the Cossacks engine. Other engine features include 3-dimensional landscaping which creates realistic-looking scenery and towns and impacts combat tactics. For example the firing range of a subdivision of soldiers or a cannon positioned at the top of a hill is greater than the firing range of a unitstationed on flat terrain. <br>\t\t\t\t\t\t<h2 class="bb_tag">Key features:</h2>\t\t\t\t\t\t<ul class="bb_ul"><li>Control the French, Russians, Austrians, Britons, Prussians, or Egyptians -- master new weapons and tactics during a time that redefined the meaning of modern warfare.<br>\t\t\t\t\t\t</li><li>Fight through historically inspired battles of the 19th century, with massive armies colliding in different types of terrain and weather.<br>\t\t\t\t\t\t</li><li>Battles on real historical scale with tens of thausands of units on one map.<br>\t\t\t\t\t\t</li><li>Realistic Troop Morale System - Well-fed troops live longer and grow in experience to become valuable battlefield assets, while fierce and overwhelming opponents, or marching long distances will cause morale to drop<br>\t\t\t\t\t\t</li><li>Enhanced diplomacy tools help you create treaties that give you the advantages<br>\t\t\t\t\t\t</li></ul>'},"Zen of Sudoku":{Name:"Zen of Sudoku",Publisher:"Unknown Worlds Entertainment",Platforms:"windows",Type:"Single-player",Genres:"Casual;Indie",Positive_ratings:"122",Negative_ratings:"17",Desc:'From the creators of <a href="http://store.steampowered.com/app/90002/" target="_blank" rel="noreferrer"  >Natural Selection</a> comes Zen of Sudoku, a relaxing, easy to play version of Sudoku for your PC.<br><ul class="bb_ul"><li>Relax with hand-painted Japanese-styled backgrounds, no timer and lush natural soundscapes.<br></li><li>Stimulates your brain to keep it healthy and alert.<br></li><li>Teaches you the basics of Sudoku through advanced strategies like &quot;naked pairs&quot;, &quot;x-wing&quot; and &quot;locked candidates&quot;.<br></li><li>Play unlimited puzzles, print them to finish offline and enter custom puzzles from other sources.<br></li><li>Unlock trophies, backgrounds and more.</li></ul>This product includes portions of the <a href="https://steamcommunity.com/linkfilter/?url=http://developer.popcap.com/" target="_blank" rel="noopener"  >PopCap Games Framework</a>.'},"Natural Selection 2":{Name:"Natural Selection 2",Publisher:"Unknown Worlds Entertainment",Platforms:"windows;linux",Type:"Multi-player;Online Multi-Player;Steam Achievements;Steam Trading Cards;Steam Workshop;Steam Cloud;Valve Anti-Cheat enabled;Includes level editor",Genres:"Action;Indie;Strategy",Positive_ratings:"8372",Negative_ratings:"1498",Desc:'<img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/Inline4_OnosMarine.jpg?t=1556039235" ><br><br>Natural Selection 2 pits alien against human in an action-packed struggle for survival. Wield devastating weaponry as a Frontiersman marine, or become the xenomorph as a deadly Kharaa lifeform. <br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/Inline2_FadeMarine.jpg?t=1556039235" ><h2 class="bb_tag">Strategy Meets Shooter</h2><br>Natural Selection 2 is a First Person Shooter and Real Time Stategy game rolled into one! Each team, alien and human, has a Commander. The Commander looks down on the battlefield and issues orders, places structures, collects resources, researches technology, and deploys abilities. <br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/Inline10_StrategyShooter.jpg?t=1556039235" ><br><br>Here are some gameplay examples: A human Commander could drop health packs and ammunition to a trapped marine squad, and deploy sentry guns to help them defend their position. Or an alien Commander could grow a new Hive to spread infestation throughout newly captured territory, allowing more alien eggs to spawn...<br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/Inline11_BattleRoyale.jpg?t=1556039235" ><h2 class="bb_tag">Two Unique Sides</h2><br>Aliens players choose to evolve into one of five lifeforms: The fast, fearsome Skulk can run on walls and deliver massive damage with its jaws. Lerks fly and deploy gasses to support their teammates in battle. Gorges heal other lifeforms and build tunnels, hydra turrets, walls, and other tactical structures. Fades blink in and out of battle, picking off marines with giant scythes. Finally, the giant Onos is so massive and so tough, that even entire marine squads can\'t take it down.<br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/Inline11_Giblets.jpg?t=1556039235" ><br><br>Marines wield rifles, shotguns, grenade launchers, pistols, and other weapons. Cluster grenades can clear ventilation shafts of sneaky Skulks, flamethrowers make short work of alien structures and infestation, and boosts dropped by the Commander increase combat effectiveness. <br><br>When attacking on foot doesn\'t cut it, marines can construct hulking Exosuits wielding miniguns and railguns, and equip jetpacks for high speed assaults on alien Hives.<br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/Inline5_ExoFiring.jpg?t=1556039235" ><h2 class="bb_tag">Long Term Development</h2><br>Natural Selection 2 receives constant updates. This year, 2016, Unknown Worlds continues to develop new features, content, and improvements.<br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/Inline12_Workshop.jpg?t=1556039235" ><h2 class="bb_tag">Mod Tools Come Standard</h2><br>Natural Selection 2 comes with all the tools we used to make the game. All game code is open source. That means you can create, and play, an endless variety of mods. Publish, share, and download mods from the Steam Workshop, and automatically download mods when you join modded games.<br><br><img src="https://steamcdn-a.akamaihd.net/steam/apps/4920/extras/SpecialArmor_Small.jpg?t=1556039235" ><h2 class="bb_tag">Digital Deluxe Edition</h2><br>Digital Deluxe Edition includes:<br><br><ul class="bb_ul"><li><strong>Official Soundtrack</strong> - 1 hour of tribal, industrial music composed by David John and Simon Chylinski <br></li><li><strong>Digital Art Book</strong> - 40+ pages of art by Cory Strader, including environments, creatures, weapons and more<br></li><li><strong>Exclusive in-game marine model</strong> - Exclusive in-game marine model - A new marine model with custom visor and armor plating<br></li><li><strong>Exclusive Wallpapers and Avatars</strong> - Unique views of the NS2 universe by Amanda Diaz</li></ul>'},"STAR WARS\u2122 Republic Commando\u2122":{Name:"STAR WARS\u2122 Republic Commando\u2122",Publisher:"LucasArts;Lucasfilm;Disney Interactive",Platforms:"windows",Type:"Single-player;Multi-player;Local Multi-Player;Steam Cloud",Genres:"Action",Positive_ratings:"6392",Negative_ratings:"379",Desc:'Chaos has erupted throughout the galaxy. As leader of an elite squad of Republic Commandos, your mission is to infiltrate, dominate, and ultimately, annihilate the enemy. Your squad will follow your orders and your lead, working together as a team - instinctively, intelligently, instantly. You are their leader. They are your weapon.<br>\t\t\t<ul class="bb_ul"><li><strong>Innovative Squad Control System</strong> - With intuitive and smart squad commands, the simple touch of one button easily controls your squad to perform complex commands and strategic maneuvers.<br>\t\t\t</li><li><strong>Multiple Gaming Mode</strong>  - Choose the single-player option and command a squad of four that you can dispatch at will. Or, choose the multiplayer option and play with up to sixteen players online in different multi-player modes.<br>\t\t\t</li><li><strong>Prelude to Episode III</strong> - Encounter new vehicles, locations and enemies from the upcoming film.<br>\t\t\t</li></ul>'},"Indiana Jones\xae and the Fate of Atlantis\u2122":{Name:"Indiana Jones\xae and the Fate of Atlantis\u2122",Publisher:"LucasArts;Lucasfilm;Disney Interactive",Platforms:"windows;mac",Type:"Single-player;Steam Cloud",Genres:"Adventure",Positive_ratings:"597",Negative_ratings:"31",Desc:"The Man With The Hat Is Back In His Greatest Adventure Yet!<br>\t\t\t1939 - The eve of World War II. Nazi agents are about to get their hands on a weapon more dangerous than the atom bomb. Only Indy can stop them before they unleash the deadly secret that sank Atlantis.<br>\t\t\t<ul class=\"bb_ul\"><li>Point 'n\u2019 click your way through fistfights, puzzles, balloon rides, car chases and Indy one-liners.<br>\t\t\t</li><li>Explore over 200 spectacular locations.<br>\t\t\t</li><li>Hear LucasArts' exclusive iMUSE create a musical score that follows your every move.<br>\t\t\t</li><li>Play and replay - three unique challenging paths to vanquish the Reich.<br>\t\t\t</li></ul>"},"STAR WARS\u2122 Jedi Knight - Jedi Academy\u2122":{Name:"STAR WARS\u2122 Jedi Knight - Jedi Academy\u2122",Publisher:"LucasArts;Aspyr (Mac);Lucasfilm;Disney Interactive",Platforms:"windows;mac",Type:"Single-player;Online Multi-Player;Local Multi-Player;Partial Controller Support;Steam Cloud",Genres:"Action",Positive_ratings:"5684",Negative_ratings:"330",Desc:'Forge your weapon and follow the path of the Jedi<br>Jedi Knight: Jedi Academy is the latest installment of the highly acclaimed Jedi Knight series. Take on the role of a new student eager to learn the ways of the Force from Jedi Master Luke Skywalker. Interact with famous Star Wars characters in many classic Star Wars locations as you face the ultimate choice: fight for good and freedom on the light side or follow the path of power and evil to the dark side.<br>\t\t\t<ul class="bb_ul"><li>Customize your character by defining both look and gender before entering the Academy to learn the power-and dangers- of the Force.<br>\t\t\t</li><li>Construct your own Lightsaber from handle to blade. As you progress, discover the power of wiedling two Lightsabers or the ultimate double-bladed Lightsaber made famous by Darth Maul.<br>\t\t\t</li><li>New vehicles, weapons, force powers and Star Wars locations.<br>\t\t\t</li><li>Unique level selection system allows you to choose your own missions and adventures.<br>\t\t\t</li><li>Six multiplayer modes including team based siege mode and two-on-one power duel. Fight in 23 multiplayer arenas!<br>\t\t\t</li></ul>'},"STAR WARS\u2122 Jedi Knight II - Jedi Outcast\u2122":{Name:"STAR WARS\u2122 Jedi Knight II - Jedi Outcast\u2122",Publisher:"LucasArts;Aspyr (Mac);Lucasfilm;Disney Interactive",Platforms:"windows;mac",Type:"Single-player;Online Multi-Player;Local Multi-Player;Partial Controller Support;Steam Cloud",Genres:"Action",Positive_ratings:"2020",Negative_ratings:"219",Desc:'The Legacy of Star Wars Dark Forces\u2122 and Star Wars\xae Jedi Knight lives on in the intense first-person action of Jedi Outcast.<br>\t\t\t<ul class="bb_ul"><li>As Kyle Katarn, agent of the New Republic, use your Lightsaber and the full power of the Force to combat a new evil plaguing the galaxy.<br>\t\t\t</li><li>Wield over 8 Force abilities including the Jedi Mind Trick, Force Lightning and Force Grip.<br>\t\t\t</li><li>Choose wisely from an arsenal of 13 weapons including disruptor rifle, thermal detonators, trip mines and Wookiee bowcaster.<br>\t\t\t</li><li>Play on-line with 2-32 players or against a variety of AI Bots - and gain an additional 7 Force powers.<br>\t\t\t</li><li>Test your skills in 24 single-player missions and in 6 different types of multiplayer games including Jedi Master, Holocron, Capture the Ysalamiri, Duel, Deathmatch and Capture the Flag.<br>\t\t\t</li><li>Interact with legendary Star Wars characters such as Luke Skywalker and Lando Calrissian (featuring the voice of Billy Dee Williams as Lando.)<br>\t\t\t</li><li>Developed by critically acclaimed Raven Studios and powered by the Quake III Arena engine.<br>\t\t\t</li></ul>'},"The Dig\xae":{Name:"The Dig\xae",Publisher:"LucasArts",Platforms:"windows;mac",Type:"Single-player;Steam Cloud",Genres:"Adventure",Positive_ratings:"575",Negative_ratings:"55",Desc:'A DEEP SPACE ADVENTURE BY SEAN CLARK IN COLLABORATION WITH FILMMAKER STEVEN SPIELBERG  <br>\t\t\t\tAn asteroid the size of a small moon is on a crash course toward Earth, and only NASA veteran Boston Low has the expertise to stop it. Along for the ride are award-winning journalist Maggie Robbins and internationally renowned geologist Ludger Brink.<br>\t\t\t\tOnce the wayward asteroid is nuked into a safe orbit, the trio conducts a routine examination of the rocky surface.<br>\t\t\t\tWhat they uncover is anything but routine.<br>\t\t\t\tLow, Brink and Robbins unwittingly trigger a mechanism that transforms the asteroid into a crystal-like spacecraft. The team is hurtled across the galaxy to a planet so desolate, Brink is moved to name it Cocytus, after the 9th circle of Hell in Dante\u2019s inferno. The bleak landscape was obviously once home to a highly evolved civilization, with remnants of sophisticated architecture, advanced technology and an intricate network of underground tunnels.<br>\t\t\t\tBut no Cocytans.<br>\t\t\t\tWho were the original inhabitants of this once rich empire-turned-wasteland? What are those apparitions that mysteriously appear from time to time? Why have Low, Robbins, and Brink been brought to this place? And how can Low keep his team from unraveling in the face of such uncertainty?  To return to Earth, they must dig for answers, both on the planet\u2019s surface and deep within themselves.<br>\t\t\t\tFrom the combined talents of LucasArts and legendary Steven Spielberg comes an epic adventure that plunges headlong into the very core of the unknown. And takes you with it.<br>\t\t\t\t<ul class="bb_ul"><li>Nearly 200 locations and hundreds of puzzles<br>\t\t\t\t</li><li>Robert Patrick of T2 as the voice of Boston Low<br>\t\t\t\t</li><li>Special effects contributed by Industrial Light &amp; Magic<br>\t\t\t\t</li><li>Dialogue contributed by award-winning sci-fi writer Orson Scott Card<br>\t\t\t\t</li><li>Alluring Wagnerian musical score sets the epic tone<br>\t\t\t\t</li></ul>'},"Star Wars: Battlefront 2 (Classic, 2005)":{Name:"Star Wars: Battlefront 2 (Classic, 2005)",Publisher:"Lucasfilm;LucasArts;Disney Interactive",Platforms:"windows",Type:"Single-player;Multi-player;Online Multi-Player;Partial Controller Support;Steam Cloud",Genres:"Action",Positive_ratings:"29149",Negative_ratings:"2425",Desc:'With brand new space combat, playable Jedi characters, and over 16 all new battlefronts, Star Wars Battlefront II gives you more ways than ever before to play the classic Star Wars battles any way you want. <br>\t\t\t\t<ul class="bb_ul"><li><strong>Enhanced Single-Player Experience</strong> - Join the rise of Darth Vader\u2019s elite 501st Legion of Stormtroopers as you fight through an all new story-based saga where every action you take impacts the battlefront and, ultimately, the fate of the Star Wars galaxy.<br>\t\t\t\t</li><li><strong>All New Classic Trilogy Locations</strong> - Fight inside the corridors of the second Death Star, in the marshy swamps of Dagobah, and even aboard the Tantive IV, Princess Leia\u2019s Blockade Runner, as seen at the beginning of Star Wars Episode IV: A New Hope.<br>\t\t\t\t</li><li><strong>More Classes and Vehicles</strong> - Now choose from six distinct soldier classes, plus bonus hero characters for each of the four factions: Rebels, Imperials, CIS and the Republic. Then jump into more than 30 diverse ground and space vehicles, including the clone BARC speeder, AT-RT and new Jedi Starfighter and ARC 170.<br>\t\t\t\t</li><li><strong>PLUS Improved Online Features</strong> - Engage in massive online battles with multiplayer action for up to 64 players. Play five different online game modes including Conquest, Assault, one-and two-flag Capture the Flag, and Hunt.<br>\t\t\t\t</li></ul>Now for the first time, Star Wars Battlefront II lets you\u2026<br>\t\t\t\t<ul class="bb_ul"><li><strong>Fight as a Jedi</strong> - Earn the ability to wield a lightsaber and use Force powers like Yoda, Darth Vader and many other heroes and villains.<br>\t\t\t\t</li><li><strong>Battle in Space</strong> - Dogfight in X-wings, TIE fighters, Jedi starfighters and other classic starcraft, or land your ship on a star destroyer and fight it out on foot aboard enemy ships.<br>\t\t\t\t</li><li><strong>Play 16 New Locations</strong> - Battle across Star Wars: Episode III environments such as Utapau, Mustafar and the epic space battle above Coruscant.<br>\t\t\t\t</li></ul>'},"Thrillville\xae: Off the Rails\u2122":{Name:"Thrillville\xae: Off the Rails\u2122",Publisher:"LucasArts",Platforms:"windows",Type:"Single-player;Local Multi-Player;Co-op;Local Co-op;Shared/Split Screen;Partial Controller Support;Steam Cloud",Genres:"Action;Adventure;Racing;Simulation;Strategy",Positive_ratings:"272",Negative_ratings:"38",Desc:'Thrillville\u2122: Off the Rails lives up to its name with 20 death-defying rides so outrageous, they inspire the same word from every park visitor who sees them:  \u201cWHOA!\u201d Players build these incredible \u201cWHOA Coasters\u201d to leap from one track to another, launch through the air like cannonballs, blast through a burning ring of fire and more.<br>\t\t\t\tBut the new fun doesn\u2019t stop there. Off the Rails features 34 playable multiplayer minigames, 15 all-new theme areas, over 40 thrill rides, a new story that ties together more than 100 missions, and social interaction with park guests that\u2019s better than ever. The in-depth conversations both advance the plot and suggest better ways to manage the park. But is every guest to be trusted?<br>\t\t\t\t<ul class="bb_ul"><li>Experience the visceral fun of interacting with a theme park you create.<br>\t\t\t\t</li><li>Build and ride your own creations, talk and joke with all your guests, and play dozens of minigames.<br>\t\t\t\t</li><li>Visit 15 themed areas, like Battleville, Winterville, Spaceville and Aeroville, all spread throughout five new parks.<br>\t\t\t\t</li><li>Create 20 death-defying WHOA Coasters such as:<br>\t\t\t\t<ul class="bb_ul"><li><strong>Hotrod Stunt</strong> - A nitro boost propels a car across a broken track.<br>\t\t\t\t</li><li><strong>Pendulizer</strong> - A giant arm grabs the car just before a gap in the track, whips it around in a full circle, then sets it down on the other side.<br>\t\t\t\t</li><li><strong>Escape Drop</strong>  - The track holds the car stationary as it lifts itself from level ground to a full 90-degree drop. Then it lets go.<br>\t\t\t\t</li></ul>\t\t\t\t</li><li>Distinguish your rides even more with enhanced customization options. Attach animatronics, flowers and flaming hoops to all of your coasters and rides.<br>\t\t\t\t</li><li>Play 34 minigames \u2013 14 new, 20 returning from the original Thrillville but with new levels.<br>\t\t\t\t</li></ul>'},"Armed and Dangerous\xae":{Name:"Armed and Dangerous\xae",Publisher:"LucasArts;Lucasfilm;Disney Interactive",Platforms:"windows",Type:"Single-player;Steam Cloud",Genres:"Action",Positive_ratings:"115",Negative_ratings:"18",Desc:"Meet the Lionhearts.<br>\t\t\t\tA smack-talking rag-tag band of rebels bound on an impossible quest. With an arsenal of outrageous weapons, they're destined for victory in 12,000 bullets or less. If they can make it through an army of psychotic robots and a wall-smashing Goliaths, they just might save the world... if they don't burn it down first.<br>\t\t\t\t<ul class=\"bb_ul\"><li>Navigate through a richly entertaining story with your smack-talkin' partners in crime.<br>\t\t\t\t</li><li>Take down wicked enemies like half-man, half-animal Grunts, eliminator droids, wall-smashing Goliaths, evil monks and wild twiglets.<br>\t\t\t\t</li><li>Brandish over 17 outlandish weapons like the Topsy-Turvy, the Vindaloo Rocket Launcher, or the World's Smallest Black Hole and the Land Shark Gun.<br>\t\t\t\t</li><li>Explore five diverse environments including icy and snowy regions, mountains with breathtaking vistas, deep and foreboding woods, and rain-spattered cliffs.<br>\t\t\t\t</li><li>Shoot your way through 21 action-packed missions.<br>\t\t\t\t</li></ul>"},Shank:{Name:"Shank",Publisher:"Klei Entertainment",Platforms:"windows;mac;linux",Type:"Single-player;Shared/Split Screen;Steam Achievements;Full controller support;Steam Cloud",Genres:"Action;Indie",Positive_ratings:"1749",Negative_ratings:"227",Desc:'Shank is the cult-classic revival of the sidescrolling beat-em-up. Play as Shank in an over-the-top grindhouse game, packed to the rim with enemies, bosses, combos, and more by the award-winning team at Klei Entertainment. The 2D sidescroller beat-em-up is finally on Steamplay, now with improved controls and tuning updates based on popular feedback! Shank will have you shooting and slashing your way through hordes of enemies in a stylized slaughter fest. Embark on a brutal path of blood soaked revenge as Shank battles his way through the criminal underground in his quest for retribution. Boasting fast-paced bloody action, silky smooth controls and a signature pulpy grindhouse art style, Shank is a must-play for action fans.<h2 class="bb_tag">Key Features:</h2><ul class="bb_ul"><li><strong>Violent graphic novel art style:</strong><br><br>Beautiful and fluid graphic novel art and animation styled by veteran director Jeff Agala. <br></li><li><strong>Weapon-based combo system:</strong><br><br>String together endless combos of mayhem and destruction on the fly and pummel your opponents to the ground using an exhaustive arsenal of weapons.<br></li><li><strong>Gorgeous, fully animated story cinematics:</strong><br><br>Watch Shanks brutal story unfold through beautiful fully animated cut scenes.<br></li><li><strong>Brutal Boss Battles:</strong><br><br>Over 8 different massive and unique bloody boss battles.<br></li><li><strong>Two-Player Local Co-Op:</strong><br><br>Murder with a friend. Play in a separate backstory in the two-player co-op mode and face a legion of well-armed enemies in the prequel to the single player experience. </li></ul>'},"Ghost Master\xae":{Name:"Ghost Master\xae",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"1025",Negative_ratings:"164",Desc:"Grim spectres, howling banshees, and sly gremlins are yours to command as you unleash ghastly spirits on the town of Gravenville and scare the wits out of its citizens. In the world of the Ghost Master, spooks do your bidding, as you solve puzzles and unlock mysteries in a challenge that combines the best of strategy, adventure, and resource management games.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Up to 15 unique, hair-raising adventures with multi-branching scenarios - all within a coherent plot and complete virtual world.<br>\t\t\t\t\t</li><li>Spook's-eye view - an innovative 3-D camera lets you view the action from the perspective of humans or ghosts.<br>\t\t\t\t\t</li><li>Revolutionary special effects, incredibly detailed characters, and macabre settings inspired by classic horror films.<br>\t\t\t\t\t</li><li>Groundbreaking artificial intelligence-interact with up to 30 AI-driven characters at every level.<br>\t\t\t\t\t</li><li>Eleven expansive and distinctive locations, including the town's lunatic asylum, military base, sorority and frat houses, and police station.</li></ul>Ghost Master \xa9 2003 Empire Interactive Europe Ltd. Developed by Sick Puppies, a studio of Empire Interactive. Europe Ltd. Ghost Master, Empire and &quot;E&quot; are trademarks or registered trademarks of Empire Interactive. Europe Ltd. in the UK, Europe and/or other countries. All rights reserved."},"Vegas: Make It Big\u2122":{Name:"Vegas: Make It Big\u2122",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"91",Negative_ratings:"33",Desc:'<p>Develop a state-of-the art Las Vegas resort complex, using all the money and management skill you can. Customers on the living, breathing Las Vegas boulevard are Notoriously hard to satisfy - can you win the hearts and wallets of Vegas?</p>\n\t\t\t\t\t<p>Amazing real-time 3D graphics show off your resort to the max. Experience grand panoramic views, or get up close and personal to fine-tune the inside and outside of your perfect Vegas paradise.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Fulfill the needs of 5000+ individual guests</li>\n\t\t\t\t\t<li>500+ vehicles include cars, taxis, limos and helicopters</li>\n\t\t\t\t\t<li>10 resort styles, inspired by amazing cultures and themes</li>\n\t\t\t\t\t<li>Relaxed attractions provide a welcome break</li>\n\t\t\t\t\t<li>Create a wedding chapel on the spur of the moment</li>\n\t\t\t\t\t<li>Breathtaking rides and attractions</li>\n\t\t\t\t\t<li>User friendly controls make resort construction simple</li>\n\t\t\t\t\t<li>Fully customizable - adjust goals, competition and difficulty</li>\n\t\t\t\t\t<li>Develop not just the outside of your resort, but the inside too</li>\n\t\t\t\t\t<li>Hire and fire staff, based on true-to-life skills and qualities</li>\n\t\t\t\t\t<li>Adjust the stakes in your favor and Make It Big!</li></ul>\n\t\t\t\t\t<p><span class="legal"><br>VEGA$: Make It Big &copy 2003 Empire Interactive Europe Limited. Designed and developed by Deep Red Games Limited. Empire, "E" and Make It Big are trademarks or registered trademarks of Empire Interactive Europe Limited in the UK, Europe and/or other countries. All other trademarks and trade names are the property of their respective owners. All rights reserved.</span></p>'},FlatOut:{Name:"FlatOut",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Racing",Positive_ratings:"1977",Negative_ratings:"186",Desc:'FlatOut is adrenaline-filled muscle car racing game packed with explosive physics, spectacular effects and graphics, innovative game play mechanics and good old fun!<br>\t\t\t\t\t<ul class="bb_ul"><li>Eight players or AI cars on track for close pack racing <br>\t\t\t\t\t</li><li>Single player Career, Quick race and Time trial modes <br>\t\t\t\t\t</li><li>Multiplayer mayhem with up to 8 players <br>\t\t\t\t\t</li><li>16 different fully upgradeable cars <br>\t\t\t\t\t</li><li>48 tracks including stunt arenas and destruction bowls <br>\t\t\t\t\t</li><li>Wacky and funny ragdoll mini-games <br>\t\t\t\t\t</li><li>Open environments for taking your own shortcuts <br>\t\t\t\t\t</li><li>Convincing car handling and impressive damage modeling</li></ul>'},"Making History: The Calm & the Storm":{Name:"Making History: The Calm & the Storm",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action;Strategy",Positive_ratings:"460",Negative_ratings:"107",Desc:'<p>Making History&reg; delivers the open-ended gameplay of strategy-game classics, but with compelling new economic, military, and diplomatic systems and deep research that lets you play with real historical challenges.</p>\n\t\t\t\t\t<p>The game drops you into a rich WWII world where every nation has its own agenda, and where events can turn on a single alliance. Work with your nation\'s historic strengths and weaknesses. Build up your industry, infrastructure, economy, military. Create alliances. Then reshape your strategy as the world evolves with each turn.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li><span class="copyHead">Rich WWII world:</span> MAKING HISTORY: The Calm & the Storm includes over 80 nations and 800+ regions. Each nation is given detailed characteristics built on extensive research, including economic and military strengths, diplomatic relations, ideology, and technical advancement. Each region features terrain, infrastructure, resource production and more.</li>\n\t\t\t\t\t<li><span class="copyHead">You are your Nation:</span> Jump into a world in motion where every nation is pursuing its own agenda, and where events can turn on the breaking of a single alliance. Devise strategies based on your nation\'s historic strengths and weaknesses\' and revise your plans as the world evolves in response to your actions. Play as the United Kingdom, France, Germany, Italy, Japan, the USSR, the United States, or China. </li>\n\t\t\t\t\t<li><span class="copyHead">Multi-Turn Combat:</span> An innovative combat system allows many approaches to engagements from massive assaults to holding actions. Supplies, reinforcements and geography all affect your battle plan. </li>\n\t\t\t\t\t<li><span class="copyHead">More Military Options:</span> Use unique unit abilities to blitzkrieg with armor, fight attrition battles with hordes of infantry, decimate enemy industry with strategic bombers, and bomb fleets from a distance with a carrier task force. With scientific research you can unlock more advanced military units, and every unit features a detailed 3D model. </li>\n\t\t\t\t\t<li><span class="copyHead">Sophisticated World Economy:</span> The game\'s economic system models the connections between world power and economic strength. Players control trade, aid, industrial development, infrastructure investments, and a deep field of research. </li>\n\t\t\t\t\t<li><span class="copyHead">Powerful Alliance System:</span> As you make and break alliances, declare war and propose peace, each action affects your relations with other nations, and their willingness to ally with you. If you lack strong allies, you may find other nations are more are more likely to attack. </li>\n\t\t\t\t\t<li><span class="copyHead">Historic Scenarios:</span> Six scenarios let you start at a crucial historic moment, focus on a specific event, or play the whole war. Scenarios cover the fall of France, Pearl Harbor, the D-Day invasion of Europe, the Sudeten crisis and more, and each is based on detailed research. You can work to succeed where others failed, or take a different path and see what happens. </li>\n\t\t\t\t\t<li><span class="copyHead">Superb replayability:</span> Each scenario drops you into a different firestorm. Each nation you play presents unique challenges. Everything evolves from your economic and military choices, the alliances you make, and the actions and reactions of the world\'s other nations. </li>\n\t\t\t\t\t<li><span class="copyHead">Single and Multiplayer Turn-Based Gameplay:</span> Innovative simultaneous-turn-based play is quick and responsive, and keeps you in control with no waiting. Play with up to eight others in multiplayer mode, using in-game chat to devise joint strategies and secret pacts. Will you be a trusted ally or a backstabbing tyrant? </li>\n\t\t\t\t\t<li><span class="copyHead">Built for Modding:</span> Use included Scenario Editor to modify scenarios or create your own. </li></ul>'},"Ducati World Championship":{Name:"Ducati World Championship",Publisher:"Strategy First",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Racing",Positive_ratings:"77",Negative_ratings:"100",Desc:"<p>Feel the rush of motorcycle racing with Ducati World Championship. Select your machine from over 70 original Ducati models, perfectly simulated replicas of the real thing. With Ducati World Championship you don't have to settle on one model - you can have them all! </p>\n\t\t\t\t\t<p>Ducati World Championship features more than 70 superbly modeled motorbikes from 4 different categories &#151; Classics, Sports, Road and Grand Prix. There are over 34 exciting circuits to race on with an incredible amount of extras to unlock. A 360-degree view into the world of motorcycle racing enables players to be a pilot racing in the amateur, semi professional and professional racing classes, intent on reaching the Superbike and the Grand World Championship.</p>\n\t\t\t\t\t<ul> \n\t\t\t\t\t<li>Play against your friends in split-screen multiplayer mode.</li>\n\t\t\t\t\t<li>60 tournaments in five different game modes.</li>\n\t\t\t\t\t<li>Burn up the track at over 210 MPH on your Ducati Desmosedici</li>\n\t\t\t\t\t<li>Choose from more than 70 motorbikes from four different categories &#151; Classics, Sports, Road and Grand Prix.</li>\n\t\t\t\t\t<li>34 adrenalin-pumping circuits with a huge amount of unlockable extra content.</li>\n\t\t\t\t\t<li>Varied weather and track conditions with realistic lighting effects</li>\n\t\t\t\t\t<li>Learn how to become a champion rider with Loris' Riding Lessons!</li>\n\t\t\t\t\t<li>Work your way up through the challenging Career Mode with increasingly faster bikes and gorgeous Race Queens!</li>\n\t\t\t\t\t<li>Three different playing modes - arcade, normal and simulation - give you countless options and endless hours of fun!</li></ul></ul>"},"Dreamfall: The Longest Journey":{Name:"Dreamfall: The Longest Journey",Publisher:"Funcom",Platforms:"windows",Type:"Single-player",Genres:"Adventure;RPG",Positive_ratings:"588",Negative_ratings:"89",Desc:'Dreamfall: The Longest Journey, winner of multiple E3 awards as the best game in its genre, is the continuation of a saga that began in the award-winning The Longest Journey, considered to be one of the finest adventure games ever made. In Dreamfall, players are taken on an epic journey of exploration and adventure as they venture through a thrilling and emotional storyline. Dreamfall features a fully interactive world where beautiful music, stunning graphics, fascinating characters and unparalleled gameplay variety promises to bring the adventure genre into a new era. Prepare for a spiritual, fantastic and powerful gaming experience.<br>\t\t\t\t\t<ul class="bb_ul"><li><strong>Unparalleled Gameplay Variety</strong> Never before has an adventure game brought this much gameplay variety! Use your brains or your brawn; sneak, fight or talk your way through the many challenges the game offers. Be polite or rude, threaten or sweet talk; in Dreamfall you make the choice, resulting in a game where you never quite know what to expect next.<br>\t\t\t\t\t</li><li><strong>Three Playable Characters</strong> Experience the story from three separate perspectives, and learn how their destinies blend together in an epic finale. Each character has unique abilities and world views, giving you constant gameplay variations.<br>\t\t\t\t\t</li><li><strong>Three Worlds</strong> Dreamfall spans three beautifully realized worlds, multiple chapters and a stunning amount of detailed locations. Travel across a futuristic version of our earth, journey into a magical fantasy realm and unravel the mysteries of the Winter.<br>\t\t\t\t\t</li><li><strong>Unique World Interaction</strong> Bridging the gap between the classic point and click adventure game, where you could click on any given point at the screen, and the action adventure, where you need to move up to an object to interact with it, Dreamfall introduces the brand new focus field feature. In this easy-to-use context-sensitive interface you can scan your entire visible environment as seen by the characters, and use it to get information on far away objects as well as triggering remote gameplay opportunities.<br>\t\t\t\t\t</li><li><strong>Mature &quot;Thriller&quot;-type Storyline</strong> Dreamfall delivers a mature and compelling storyline that mixes the futuristic, fantastic and spiritual with a tale of murder, deceit and a conspiracy threatening our very existence. Bringing the classic adventure game into the world of the modern action game, Dreamfall delivers a rare and special story experience.<br>\t\t\t\t\t</li><li><strong>Stunning Sounds and Soundtrack</strong> Listen to an emotional and epic soundtrack in 7.1 surround. Hear gripping voices as recorded by more than 50 professional actors, and enjoy soundscapes bringing players to the edge of their seats.<br>\t\t\t\t\t</li><li><strong>A game for everyone</strong> 50% of the players of the original The Longest Journey were women. With its cinematic approach, believable characters, mature storyline and easy-to- grasp interface, Dreamfall is a game that any teenager or adult can pick up and enjoy, regardless of their gaming background.</li></ul>'},"The Longest Journey":{Name:"The Longest Journey",Publisher:"Funcom",Platforms:"windows",Type:"Single-player",Genres:"Action;Adventure;RPG",Positive_ratings:"1152",Negative_ratings:"102",Desc:'The Longest Journey is an amazing graphical adventure, where the player controls the protagonist, April Ryan, on her journey between parallel universes. Embark on an exciting and original journey of discovery, where you will explore, solve puzzles, meet new people, face terrifying monsters, learn, grow, and live the adventure of a lifetime!<br><br>\t\t\t\t\t<ul class="bb_ul"><li>Over 150 locations spanning two distinct and detailed worlds<br>\t\t\t\t\t</li><li>More than 70 speaking characters<br>\t\t\t\t\t</li><li>40+ hours of gameplay<br>\t\t\t\t\t</li><li>20+ minutes of high-resolution pre-rendered video footage <br>\t\t\t\t\t</li><li>Cinematic musical score</li></ul>'},"Bloodline Champions":{Name:"Bloodline Champions",Publisher:"Stunlock Studios",Platforms:"windows",Type:"Single-player;Multi-player;MMO",Genres:"Action;Free to Play;Massively Multiplayer",Positive_ratings:"1365",Negative_ratings:"226",Desc:'Engage in the most intense and fast paced player vs player action as you take control over one of several different bloodlines, each with their own unique weapons and abilities.<br>Free to play and critically acclaimed, Bloodline Champions is a next generation online multiplayer arena game where skill and team play is the most important factor to win. Every ability requires aiming and can be avoided by enemy players. Join the fight today and experience the unique combination of a top down shooter and a fast paced fighting game together with a healthy amount of RPG elements.<h2 class="bb_tag">Key features:</h2><ul class="bb_ul"><li> Experience intense, adrenaline-fueled multiplayer battles with thousands of other players.<br></li><li> Choose your character from more than twenty bloodlines, each with their own abilities and specialties. From the fire-wielding Igniter to the elusive Ranid Assassin, each offers a unique experience!<br></li><li> Earn experience and rise in level to unlock upgrades that will let you customize your bloodline according to your play style!<br></li><li> Direct controls, cursor-based aiming, focused characters and an easy-to-learn interface allow you to enjoy Bloodline Champions just minutes into your first battle!<br></li><li> Thanks to a robust matchmaking system you will be off onto the fields of battle immediately after joining. Play up to five versus five battles, either with strangers automatically matched to your level or with a team of your best friends!<br>Short and intense battles, focus on player skill, and an elaborate stat-tracking system makes Bloodline Champions perfect for competitive gaming.<br></li><li> Vibrant graphics, a unique art style and a superb sound design brings the world of Bloodline Champions to life as you keep yourself busy with dealing out death and destruction.</li></ul>'},"Joint Task Force":{Name:"Joint Task Force",Publisher:"HD Publishing",Platforms:"windows",Type:"Single-player;Multi-player;Co-op;Shared/Split Screen",Genres:"Action;Strategy",Positive_ratings:"100",Negative_ratings:"15",Desc:"Joint Task Force is the real-time strategy (RTS) game where you command the frontline forces in tomorrow's most hazardous conflicts. Lead twenty dramatic missions in explosive war-zones including the Middle East, Central Asia, and the Balkans.<br>\t\t\t\t\tExperience the evolution of warfare firsthand as you bring superior tactics and military technology to bear against dangerous and unconventional forces. No game has been so gritty or immediate.<br>\t\t\t\t\tUse the principle of combined arms to your maximum advantage. All battlefield units - including infantry, tanks, artillery, reconnaissance and helicopters - are strongest when used together. Your men's lives depend on your level-headed strategy. <br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Elaborate story line, 5 campaigns and 1 tutorial <br>\t\t\t\t\t</li><li>Manipulate media and civilians<br>\t\t\t\t\t</li><li>Invest in your heroes; take them to the next mission <br>\t\t\t\t\t</li><li>News channel which provides background information and live coverage of battle <br>\t\t\t\t\t</li><li>Satellite recon at your disposal<br>\t\t\t\t\t</li><li>Several terrain types: Desert, Winter Valley, Rocky Mountain, Jungle and Cave<br>\t\t\t\t\t</li><li>Realistic physics for units and buildings<br>\t\t\t\t\t</li><li>Dynamic weather with effect on game flow<br>\t\t\t\t\t</li><li>Destructable terrain objects <br>\t\t\t\t\t</li><li>Multiplayer modes include: Domination, Deathmatch and Cooperative mode<br>\t\t\t\t\t</li><li>Campaign playable in multiplayer<br>\t\t\t\t\t</li><li>Multiplayer modes will be able to handle 8 players over LAN and internet. With a brand new multiplayer mode.</li></ul>"},"Nexus - The Jupiter Incident":{Name:"Nexus - The Jupiter Incident",Publisher:"HandyGames",Platforms:"windows",Type:"Single-player;Multi-player;Includes level editor",Genres:"Indie;Simulation;Strategy",Positive_ratings:"474",Negative_ratings:"90",Desc:'At the dawn of the 22nd century, the conquest of space and the colonization of the solar system is being monopolized by several huge and ambitious mega-corporations. Although extremely delicate and vulnerable, a balance is maintained by these companies. At the very edge of the solar system the companies make a discovery which will shift the technological advantage and upset the balance. And so a new conflict is born: &quot;The Jupiter Incident&quot;.<br>Nexus - The Jupiter Incident is a real-time mission-based tactical space game featuring spectacular real time battles and breathtaking motion picture quality. Focus on tactics and action as you control up to a dozen battleships encountering aliens, unknown solar systems and astrophysical phenomena in your struggle to save Earth. <br>Are you ready to take on the challenge?<br><br><ul class="bb_ul"><li>Epic campaign with 6 episodes and more than 26 thrilling missions<br></li><li>Diverse mission types: espionage, fight, stealth, sabotage, rescue, science, etc.<br></li><li>Control up to 10 extremely detailed, customizable spaceships from basic to simulation level<br></li><li>6 different alien species with race-specific tactics and 30 alien spaceships <br></li><li>More than 50 unique characters and 90 different weapons and devices <br></li><li>Flexible starmap system: animated map objects, light flares, etc. <br></li><li>Zoom in on more than 350 planets, moons, comets, etc. in a fully 3D environment<br></li><li>Planet movement based on real physics</li></ul>'},"Lost Planet\u2122: Extreme Condition":{Name:"Lost Planet\u2122: Extreme Condition",Publisher:"Capcom",Platforms:"windows",Type:"Single-player;Multi-player;Partial Controller Support;Valve Anti-Cheat enabled",Genres:"Action;Adventure",Positive_ratings:"569",Negative_ratings:"178",Desc:'Driven to the brink of extinction on ice-covered wastelands, humankind fights to survive. Battle to survive against gargantuan alien Akrid and treacherous Snow Pirates on the vast and frozen landscape of EDN III. With no allies at your side, the only thing you can trust is your instincts.<br><br>Combining a gripping single player campaign and intense multiplayer modes with support for up to 16 players online, Lost Planet is an epic gaming masterpiece. Enormous world maps unfold as players battle across vast snow fields and deserted cities either on foot or in armed, robotic Vital Suits.<h2 class="bb_tag"><strong>Key Features:</strong></h2><ul class="bb_ul"><li><strong>Intense action</strong> - A fast-paced third-person shooter with all the depth, intrigue, and intensity of a science fiction classic.<br></li><li><strong>Foot and vehicle based gameplay</strong> - Command highly powered armed vehicles and weapons, including transformable snow vessels.<br></li><li><strong>Vast environments</strong> - Snowstorms, arctic winds, towering buildings and mountains of ice are all stunningly realized as battles occur above and below ground, creating a truly immersive and cinematic event of epic proportions.<br></li><li><strong>Battle hordes of colossal Akrid.</strong><br></li><li><strong>Command heavily armored Vital Suits.</strong><br></li><li><strong>Intense 16 multiplayer action.</strong><br></li><li><strong>Enhanced DirectX 10 graphics.</strong></li></ul>'},"Devil May Cry\xae 3 Special Edition":{Name:"Devil May Cry\xae 3 Special Edition",Publisher:"Capcom",Platforms:"windows",Type:"Single-player;Partial Controller Support",Genres:"Action",Positive_ratings:"1462",Negative_ratings:"1052",Desc:"Dante's past is now revealed as Devil May Cry returns to its roots.  Master Dante's multiple fighting styles while battling never before seen demons and new characters as you fight your way towards a brutal confrontation with Dante's mysterious twin brother, Vergil.<h2 class=\"bb_tag\"><strong>Key Features:</strong></h2><ul class=\"bb_ul\"><li><strong>Choose Dante's fighting style</strong> - maximize the impact of close-up blade attacks, or blow enemies away from a distance.<br></li><li><strong>Huge arsenal of weapons</strong> - handguns, shotguns, swords, and more.<br></li><li><strong>A horde of demonic enemies</strong> - more ferocious than ever - with powerful weapons and abilities to transform and fly.</li></ul>"},"Commandos: Behind Enemy Lines":{Name:"Commandos: Behind Enemy Lines",Publisher:"Kalypso Media Digital",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action",Positive_ratings:"1561",Negative_ratings:"213",Desc:'Commandos: Behind Enemy Lines is a real-time tactics game set in World War II that puts you in command of a small squad of elite troopers. Send them behind enemy lines on a series of hazardous missions, and bring them back alive. Clever strategy has never been so furiously action-packed. Study the enemy\'s movements, develop a careful plan, synchronize your men, and launch them on a swift and fierce attack using all your power and skill.<br>\t\t\t\t\t<ul class="bb_ul"><li>You control 6 individual commandos each with a unique combat skill set. <br>\t\t\t\t\t</li><li>Thwart the German war machine by means of sabotage and tactical genius.<br>\t\t\t\t\t</li><li>Zoomable isometric camera allows for up to 6 simultaneous camera angles.<br>\t\t\t\t\t</li><li>20 missions throughout Europe and Northern Africa.<br>\t\t\t\t\t</li><li>Co-op multiplayer mode on a LAN or over the internet.</li></ul>'},"Commandos: Beyond the Call of Duty":{Name:"Commandos: Beyond the Call of Duty",Publisher:"Kalypso Media Digital",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action",Positive_ratings:"404",Negative_ratings:"71",Desc:"You have been selected for active service in the Commandos Corps, and must now mobilize in a series of 8 new dangerous missions. You may come with experience of action 'Behind Enemy Lines' or perhaps you are just a rookie - whatever you are, you will be given the opportunity to push your daring and tactical ability to the limit. As the leader of a small elite unit operating deep within enemy territory, you will experience new challenges and goals with these new missions. Plus new vehicles, buildings, weapons and 2 levels of difficulty will satisfy both Commandos veterans and new recruits.<br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Distract and confuse the enemy soldiers by throwing stones and cigarette boxes.<br>\t\t\t\t\t</li><li>Kidnap German soldiers, destroy train-mounted artillery and sabotage prototype aircraft.<br>\t\t\t\t\t</li><li>Eliminate opponents from considerable distance with the Enfield long-range weapon.<br>\t\t\t\t\t</li><li>Two new characters; a female member of the Dutch resistance, and a Major from the Yugoslav Partisan forces.<br>\t\t\t\t\t</li><li>Use ether, handcuffs, a club or your own fists to subdue the enemy.</li></ul>"},"Commandos 2: Men of Courage":{Name:"Commandos 2: Men of Courage",Publisher:"Kalypso Media Digital",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action",Positive_ratings:"1333",Negative_ratings:"238",Desc:'Commandos 2: Men of Courage is a tactical action/strategy game set against the backdrop of World War II. Take control of an elite group of commandos who must venture deep into enemy territory and utilize their combined expertise to complete a series of mission-based objectives. Go covert into new environments based on authentic WWII locations: the heart of the third Reich, a northern European submarine installation, the headquarters of the Japanese army and more.<br>\t\t\t\t\t<ul class="bb_ul"><li><strong>Interact like never before: </strong>with the environment: steal enemy uniforms and weapons, climb poles, swing from cables, swim, utilize vehicles, and climb in/out of buildings, ships, planes. <br>\t\t\t\t\t</li><li><strong>Control nine commandos: </strong> including a green beret, sniper, demolitions expert, seductress, thief, and even a dog.  <br>\t\t\t\t\t</li><li><strong>All new 3D engine: </strong> rotate the environment 360 degrees, move seamlessly in/out of buildings, submarines, planes and under water, and zoom in/out on the environment.   <br>\t\t\t\t\t</li><li><strong>Innovative camera control: </strong> simultaneous control of multiple gameplay windows in real time. <br>\t\t\t\t\t</li><li><strong>Authentic WWII scenarios: </strong> 10 missions spanning 9 different environments in night and day with realistic weather effects.  <br>\t\t\t\t\t</li><li><strong>Multiplayer: </strong> Go to war with others in a cooperative multiplayer mode (Multiplayer available in PC version only!!!).  <br>\t\t\t\t\t</li><li><strong>New WWII vehicles and weapons: </strong> including jeeps, tanks, trucks, ships, bazookas and flame-throwers. </li></ul>'},"Commandos 3: Destination Berlin":{Name:"Commandos 3: Destination Berlin",Publisher:"Kalypso Media Digital",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action",Positive_ratings:"421",Negative_ratings:"265",Desc:'Commandos 3: Destination Berlin is a game of real-time tactics that places you in command of an elite unit of Special Forces behind enemy lines in the European theater of World War II. From the shores of France to the heart of the Third Reich, strike fast from land or sea infiltrating hostile territories and conducting raids to disrupt the German war machine. <br>\t\t\t\t\t<strong>Key Game Features:</strong><br>\t\t\t\t\t<ul class="bb_ul"><li>Engage the enemy across Europe, from the Eastern front of Stalingrad, to the Gestapo Headquarters in Berlin, to the D-Day assault on Omaha Beach, each offering unique tactical situations and more action than ever before in the series.<br>\t\t\t\t\t</li><li>Navigate detailed interior and exterior environments using ambushes, assaults, stealth and sabotage to disrupt enemy advances.<br>\t\t\t\t\t</li><li>Prepare your commandos for a variety of strategies as enemy bombing raids destroy and alter the surrounding environment, requiring you to change your tactics on the fly. <br>\t\t\t\t\t</li><li>Experience WWII warfare head-to-head in a variety of all new deathmatch and cooperative multiplayer modes.<br>\t\t\t\t\t</li><li>Improved accessibility: Commandos 3: Destination Berlin features more detailed, smaller maps providing more action-orientated missions that form part of an overall campaign.</li></ul>'},"Hitman 2: Silent Assassin":{Name:"Hitman 2: Silent Assassin",Publisher:"Io-Interactive A/S",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"1514",Negative_ratings:"260",Desc:'<a href="http://store.steampowered.com/app/863550/" target="_blank" rel="noreferrer"  ><img src="https://%CDN_HOST_MEDIA_SSL%/steam/apps/6850/extras/BUY_NOW_Banner_01.png?t=1548767651" crossorigin="anonymous"></a><br><br>Enter the realm of a retired assassin, forced back into action by treason. You may be a hired killer but you still have a sense of loyalty and justice. Visit the dark recesses of a world corrupted by crime, greed, degradation and dishonor. And a past that catches up with you. <br>\t\t\t\t\tTrust no one - if the price is right, the finger of your most trusted ally will be on the trigger. Your targets may hide in the most remote areas of the planet, but their destruction is never prevented - only postponed.<br>\t\t\t\t\tLearn your trade - master your tools - overcome your obstacles - outsmart your enemies - eliminate your targets. Remember: rash decisions bleed consequences. Know when to strike instantly, know when to take your time. Chance favors the prepared. Failure is not an option.<br>\t\t\t\t\t<ul class="bb_ul"><li>Pick up contracts in exotic locations around the globe: Sicily, St. Petersburg, Japan, Malaysia, and India.<br>\t\t\t\t\t</li><li>Operate in a non-linear world where the outcome of your actions and proficiency as a hitman are measured on a balance between stealth and aggression.<br>\t\t\t\t\t</li><li>Stalk and eliminate your targets up close and personal, in either 1st or 3rd person perspectives.<br>\t\t\t\t\t</li><li>Execute your assignments with a diverse arsenal of equipment, from armor-piercing sniper rifles and explosives to chloroform and poison darts.<br>\t\t\t\t\t</li><li>Acquire and carry weapons and tools from mission to mission through an enhanced inventory and save-game system.<br>\t\t\t\t\t</li><li>Original soundtrack composed by Jesper Kyd and performed by The Budapest Symphony Orchestra.</li></ul>'},"Hitman: Blood Money":{Name:"Hitman: Blood Money",Publisher:"Io-Interactive A/S",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"5864",Negative_ratings:"391",Desc:'<a href="http://store.steampowered.com/app/863550/" target="_blank" rel="noreferrer"  ><img src="https://steamcdn-a.akamaihd.net/steam/apps/6860/extras/BUY_NOW_Banner_01.png?t=1548767813" ></a><br><br>Money Talks. Silence Pays. Prepare to Make a Killing. When assassins from Agent 47\'s contract agency, The ICA, are eliminated in a series of hits, it seems a larger, more powerful agency has entered the fray. Sensing he may be a target, 47 travels to America, and prepares to make a killing.<br>\t\t\t\t\t<ul class="bb_ul"><li>\'Blood Money\' system: the cleaner the \'hit\' the more money you receive which can be spent on bribing witnesses and police to reduce your notoriety, weapon customisation, specialist equipment and information.<br>\t\t\t\t\t</li><li>Customisable weapons: modify Agent 47\'s custom weapons in a variety of ways including sound, recoil, rate of fire, damage, reload speed, accuracy and zoom.<br>\t\t\t\t\t</li><li>Strong narrative: who is wiping out the ICA and what is their motivation?<br>\t\t\t\t\t</li><li>New engine: the world of the assassin has never been so interactive or looked so good!<br>\t\t\t\t\t</li><li>New gameplay techniques: including disarm, distraction, accidents, body disposal, human shield and decoy weapons.<br>\t\t\t\t\t</li><li>New control and camera system: Agent 47 now moves independently of the camera.<br>\t\t\t\t\t</li><li>New moves: Agent 47 can now climb, hide, scale ledges and automatically pass low obstacles.<br>\t\t\t\t\t</li><li>Improved AI: guards will follow blood trails, investigate suspicious items and behaviour. New pathfinder engine provides improved tracking and movement with realistic enemy behaviour and interaction.<br>\t\t\t\t\t</li><li>Soundtrack by BAFTA-winning composer Jesper Kyd.</li></ul>'},"Battlestations: Midway":{Name:"Battlestations: Midway",Publisher:"Square Enix",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"316",Negative_ratings:"113",Desc:'Battlestations: Midway is an immense action game that drops players into massive air, sea, and undersea battles from Pearl Harbor to Midway. Players command massive fleet attacks and take direct, real-time, control of every plane, battleship, and submarine in the battle.<br><br>Battlestations: Midway\'s blends intense 3rd-person action with epic, large-scale naval combat and brings to life the great Pacific battles of the World War II. From the chaos of Pearl Harbor, through the Philippines, Java and the Coral Sea all the way to the epic Battle of Midway.<br><br>Innovative gameplay lets players take direct control of over 60 different warships, planes and submarines from a 3rd-person perspective. Players can instantly switch to and control nearly every vehicle in the battle.<br><br>The game features 11 large-scale campaigns with 12 bonus challenge missions.<h2 class="bb_tag">FEATURES:</h2><br><ul class="bb_ul"><li>Revolutionary gameplay: Experience epic WWII combat from multiple perspectives as you jump between dozens of units, playing as a pilot, a gunner, a submarine captain or even carrier fleet commander.<br><br></li><li>Massive air, sea, and undersea battlefields: Every battle takes place simultaneously in the air, on and under the sea. <br><br></li><li>Movement of your fleet and the individual efforts of any one vehicle is critical to success.<br><br></li><li>Sixty warships: Features the Wildcat and Zero Fighter planes, the Dauntless Divebombers, the B17 and B24 bombers, the USS Lexington and USS Yorktown carriers, and Japan\'s infamous super battleship, The Yamato.<br><br></li><li>Realism: Cutting-edge graphics bring the Pacific oceans and island chains alive with lush real-world environments, dynamic weather effects and incredibly detailed vehicles and weaponry.</li></ul><br>Featuring 11 massive campaigns with 12 bonus challenge missions and an immersive storyline.'},"Just Cause":{Name:"Just Cause",Publisher:"Square Enix",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"1732",Negative_ratings:"846",Desc:'<h1>JUST CAUSE 4</h1><p><a href="https://store.steampowered.com/app/517630/Just_Cause_4/" target="_blank" rel="noreferrer"  id="dynamiclink_0" >https://store.steampowered.com/app/517630/Just_Cause_4/</a></p><br><h1>About the Game</h1>Your world...Your rules! In Just Cause, you are a Latin field operative and specialist in regime change backed by top secret US government agency who will overthrow the corrupt government of San Esperito. The rogue South American state is suspected of stockpiling Weapons of Mass Destruction, and it\'s your mission to negate the threat this poses to world peace.  It could be to your advantage that the tropical paradise is about to implode as various factions vie for power - it just needs a gentle nudge in the right direction.<br>\t\t\t\t\tJust Cause offers the freedom to tackle your assignments however you want: playing the island\'s factions against one another, inciting a rebellion among the masses and building alliances with rebel forces and drug cartels.  The action takes place in an incredibly detailed game world which consists of over 250,000 acres of mountains, jungles, beaches, cities and villages. The island can be explored by land, sea and air, as you will have at your disposal one of the most varied and exciting array of vehicles ever seen in a video game.<br>\t\t\t\t\t<ul class="bb_ul"><li>Freeform game-play: approach missions in any way you like, or break off from the fight and enjoy exploring the islands.<br>\t\t\t\t\t</li><li>Over 250K acres of land to explore: the largest environment ever seen in a game!<br>\t\t\t\t\t</li><li>Over-the-top Stunts: jump from vehicle-to-vehicle, parasail, skydive and base-jump...<br>\t\t\t\t\t</li><li>Massive selection of vehicles: over 100 of the most varied, exciting array of land, sea and air vehicles ever seen in a video game.<br>\t\t\t\t\t</li><li>Avalanche Engine\u2122: procedurally generated landscape delivers a huge, beautiful, detailed world while eliminating loading times.<br>\t\t\t\t\t</li><li>Wealth of missions: story missions, side-missions, bonus missions and many more; ensuring plenty of action spread throughout the islands.<br>\t\t\t\t\t</li><li>Support team: Sheldon and Kane, two US government secret agents, will provide you with reconnaissance info, extraction and vehicle drops.<br>\t\t\t\t\t</li><li>Fly: The best way to explore San Esperito is by air!</li></ul>'},"Hitman: Codename 47":{Name:"Hitman: Codename 47",Publisher:"IO Interactive A/S",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"1186",Negative_ratings:"450",Desc:'<a href="http://store.steampowered.com/app/863550/" target="_blank" rel="noreferrer"  ><img src="https://media.st.dl.bscstorage.net/steam/apps/6900/extras/BUY_NOW_Banner_01.png?t=1548767536" crossorigin="anonymous"></a><br><br>As the enigmatic Hitman, you must use stealth and tactical problem solving to enter, execute and exit your assignment with minimum attention and maximum effectiveness. For a price, you have access to the most devious devices, but how you use them will determine if you retire as a millionaire or get permanently retired.<br>\t\t\t\t\tThe Hitman is the world\'s most accomplished and wealthy assassin; however, he is plagued by a troubling past of deception and genetic butchery. The ingenious story will evolve over five chapters of heart-stopping action. Remember, the world of contract hits rewards a quick intellect more than a quick trigger finger.<br>\t\t\t\t\tFeatures<br>\t\t\t\t\t<ul class="bb_ul"><li>Plan each assignment carefully to account for a variety of weapons, surveillance data, and multiple paths to completion.<br>\t\t\t\t\t</li><li>Sharpen your skills through a comprehensive weapons and agility training session.<br>\t\t\t\t\t</li><li>Access black market weapons, decoys, traps, and personnel from an innovative currency reward system.<br>\t\t\t\t\t</li><li>Artificial intelligence redefines the genre of the &quot;Thinking Shooter.&quot; <br>\t\t\t\t\t</li><li>Gripping and mature plot driven by stunning cinematic visuals.<br>\t\t\t\t\t</li><li>Ground-breaking 3D engine offers full object physics, deformations, weapons modeling and unsurpassed character animations</li></ul>'},"Deus Ex: Game of the Year Edition":{Name:"Deus Ex: Game of the Year Edition",Publisher:"Square Enix",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"6242",Negative_ratings:"347",Desc:'<h1>Available Now!</h1><p><a href="http://store.steampowered.com/app/337000" target="_blank" rel="noreferrer"  ><img src="https://steamcdn-a.akamaihd.net/steam/apps/6910/extras/DXMD_STEAM_CrossPromo.jpg?t=1478811896" ></a></p><br><h1>About the Game</h1>The year is 2052 and the world is a dangerous and chaotic place. Terrorists operate openly - killing thousands; drugs, disease and pollution kill even more. The world\'s economies are close to collapse and the gap between the insanely wealthy and the desperately poor grows ever wider. Worst of all, an ages old conspiracy bent on world domination has decided that the time is right to emerge from the shadows and take control.<h2 class="bb_tag">Key Features:</h2><br><ul class="bb_ul"><li> Real role-playing from an immersive 3D, first-person perspective. The game includes action, character interaction and problem solving.<br></li><li> Realistic, recognizable locations. Many of the locations are built from actual blueprints of real places set in a near future scenario.<br></li><li> A game filled with people rather than monsters. This creates empathy with the game characters and enhances the realism of the game world.<br></li><li> Rich character development systems: Skills, augmentations, weapon and item selections and multiple solutions to problems ensure that no two players will end the game with similar characters.<br></li><li> Multiple solutions to problems and character development choices ensure a varied game experience. Talk, fight or use skills to get past obstacles as the game adapts itself to your style of play.<br></li><li> Strong storyline: Built on &quot;real&quot; conspiracy theories, current events and expected advancements in technology. If it\'s in the game, someone, somewhere believes</li></ul>'},"Deus Ex: Invisible War":{Name:"Deus Ex: Invisible War",Publisher:"Square Enix",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"649",Negative_ratings:"433",Desc:'<h1>Available Now!</h1><p><a href="http://store.steampowered.com/app/337000" target="_blank" rel="noreferrer"  ><img src="https://steamcdn-a.akamaihd.net/steam/apps/6920/extras/DXMD_STEAM_CrossPromo.jpg?t=1471975319" ></a></p><br><h1>About the Game</h1>Approximately 20 years after the events depicted in Deus Ex, The World is only beginning to recover from a Catastrophic worldwide depression. In the Chaotic period of recovery, several religious and political factions see an opportunity to re-shape a worldwide government to their agendas, understanding that the right moves now could determine the shape of human society for decades \x97 even centuries \x97 to come. In this techno-nightmare, take part in the dark struggle to raise the world from its own ashes.<br>\t\t\t\t\t<ul class="bb_ul"><li>Dynamic and innovative 1st person-action/adventure brings a level of reality unprecedented in a videogame.<br>\t\t\t\t\t</li><li>Biotech modifications allow players to see through walls, leap 40 feet into the air, regenerate critical body damage or render yourself radar invisible.<br>\t\t\t\t\t</li><li>Globe-hop to real world locations such as Seattle, Antarctica, and Cairo.<br>\t\t\t\t\t</li><li>Cunning stealth gameplay, with darkness and sound affecting enemy awareness.<br>\t\t\t\t\t</li><li>Variable gameplay offers multiple solutions to problems and support for varying stylistic approaches.<br>\t\t\t\t\t</li><li>Non-lethal, non-violent resolution to conflict, allowing players to make ethical statements through their actions. <br>\t\t\t\t\t</li><li>The player\'s progress through the game is supported by an unprecedented freedom of action by a dynamic, non-linear story with responsive plot branches.</li></ul>'},"Thief: Deadly Shadows":{Name:"Thief: Deadly Shadows",Publisher:"Square Enix",Platforms:"windows",Type:"Single-player",Genres:"Action",Positive_ratings:"1135",Negative_ratings:"210",Desc:'You are Garrett, the master thief. Rarely seen and never caught, Garrett is the best that ever was. Able to sneak past any guard, pick any lock, and break into the most ingeniously secured residences. Garrett steals from the wealthy and gives to himself, making his living in the dark and foreboding City. Here crime and corruption are commonplace, wealthy nobles prey on the poor and each other, and magic and machinery coexist uneasily. World weary and cynical, Garrett wants nothing more than to be left alone to ply his trade. But things never work out that way.<br>\t\t\t\t\t<ul class="bb_ul"><li>Cutting-edge Action Stealth Gameplay - Hide in the shadows, sneak past the guards, or ambush them from the darkness!<br>\t\t\t\t\t</li><li>Huge Arsenal of Thieves\' Tools - Including lock picks, a blackjack, arrows, wall climbing gloves, oil flasks, flash bombs, and a dagger.<br>\t\t\t\t\t</li><li>An Entire City to Explore - Break into any building, mug nobles on the streets, spend your loot, and earn a reputation. Feel like a real thief in a cityscape of unparalleled responsiveness and interactivity.<br>\t\t\t\t\t</li><li>Advanced Artificial Intelligence - AI guards that see and hear, track evidence and suspiciousness, search for intruders, fight, give chase, and perform lip synching, facial expressions, and hundreds of lines of real-time dialog.<br>\t\t\t\t\t</li><li>Dynamic Lighting and Shadow System - Every character and object casts realistic, dynamic shadows that effect stealth gameplay.</li></ul>'},"Tomb Raider: Legend":{Name:"Tomb Raider: Legend",Publisher:"Square Enix",Platforms:"windows",Type:"Single-player;Partial Controller Support",Genres:"Action;Adventure",Positive_ratings:"1656",Negative_ratings:"243",Desc:'<h1>Shadow of the Tomb Raider</h1><p><a href="https://store.steampowered.com/app/750920/Shadow_of_the_Tomb_Raider/" target="_blank" rel="noreferrer"  id="dynamiclink_0" >https://store.steampowered.com/app/750920/Shadow_of_the_Tomb_Raider/</a></p><br><h1>About the Game</h1>Follow Lara Croft down a path of discovery as she travels the globe to remote, exotic locales in search of one of history\'s greatest artifacts that unleashes unwelcome figures from Lara\'s mysterious past. With guns blazing, Lara must use her athletic ability and intellectual wits to explore vast, treacherous tombs, riddled with challenging puzzles and deadly traps. Experience an adrenaline-fueled adventure in Tomb Raider: Legend!<br><br>KEY FEATURES:<br><ul class="bb_ul"><li>Travel the globe as Lara Croft, the critically-acclaimed dual-pistol wielding heroine, of the classic Tomb Raider series. <br></li><li>Discover tombs and explore living breathing, lost ancient realms which hold clues to the secrets of Lara\'s past. <br></li><li>Physics, water, and fire systems bring perilous environments of Lara\'s world alive, creating new deadly challenges and obstacles.<br></li><li>Intuitive and fluid control system allows for seamless handling of any obstacle and interaction with dynamic surfaces.<br></li><li>Utilize an arsenal of new weapons, communication devices, a grappling hook, and other tools, to achieve your goals. <br></li><li>Explore ancient tombs, treacherous jungles, snowy mountain ranges, and more!</li></ul>'},"Project: Snowblind":{Name:"Project: Snowblind",Publisher:"Square Enix",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Action",Positive_ratings:"175",Negative_ratings:"61",Desc:"<p>Experience the dramatic intensity of the frontlines of a war through the eyes of the first of a new breed of super soldiers in this gritty and epic first-person action game.</p>\n\t\t\t\t\t<p>An augmented super-soldier must stop a renegade regime from eradicating the civilized world.</p>\n\t\t\t\t\t<p>Hong Kong, 2065. 2nd Lt. Nathan Frost is just a regular grunt in an international army called the Liberty Coalition. When he takes massive injuries from an explosion on the battlefield, Frost undergoes an experimental procedure. The outcome of the surgery is something more than human; a transformation that makes him a unique weapons-grade warrior, with abilities that far surpass those of the average soldier.</p>\n\t\t\t\t\t<p>Empowered with these extra-normal abilities via implanted augmentations, Frost is immediately sent to the frontlines of a war as a secret weapon against the destructive regime. Stranded in hostile territory, cut off from command and far outnumbered, Frost and a handful of men must try and stop the entire renegade militia's plan threatening to plunge the world into darkness.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t<li>Engage in battle online multiplayer with up to 16 players & voice over IP support in classic and new multiplayer modes.</li>\n\t\t\t\t\t<li>A wide variety of game pacing ranges from the frenetic chaos of battlefield action to tactical stealth infiltration style missions.</li>\n\t\t\t\t\t<li>Equip yourself with an arsenal of experimental weaponry such as the Riot Wall&trade; and Attack Drones, and other high tech gadgetry. Used in combination, the equipment yields a variety and depth of gameplay never before realized, especially in multiplayer play.</li>\n\t\t\t\t\t<li>In multiplayer, vehicles are co-operatively used; one guy drives while the other mans the mounted turrets.</li>\n\t\t\t\t\t<li>Augmentations such as Invisibility, Reflex Boost and Electrical Storm give you an edge on the battlefield against your highly equipped and battle-ready foe.</li>\n\t\t\t\t\t<li>Pick-up & play, visceral action pulls the player through a cinematically immersive storyline from Minute One of play.</li>\n\t\t\t\t\t<li>11 missions spanning across 16 maps including the Opera House turned Prison, a Buddhist Temple converted to a Military Base, and the sprawling urban Wastelands.</li></ul>"},"Rogue Trooper":{Name:"Rogue Trooper",Publisher:"Rebellion",Platforms:"windows",Type:"Single-player;Multi-player;Co-op",Genres:"Action",Positive_ratings:"248",Negative_ratings:"15",Desc:'Nu Earth: a poisoned planet where endless war rages between the Norts and the Southers. A futile struggle on a hostile planet with no end in sight.<br><br>But there are tales of a lone warrior. A man who can appear out of thin air and take out whole platoons, then disappear back into the shadows to which he belongs. A man who knows no allegiance but to his own mission and is hell-bent on revenge. He is the ultimate soldier, the last survivor of the massacred Genetic Infantrymen...<br><br>...the Rogue Trooper!<br><br><ul class="bb_ul"><li>Intense 3rd-person action on the battlefields of Nu Earth.<br></li><li>Use of Helm, Gunnar and Bagman: Rogue\'s friends brought to life in his equipment, adding depth to the gaming experience.<br></li><li>Ability to create the type of ammunition you want, when you want it.<br></li><li>Dynamically use the environment to your advantage - conform to objects and terrain, and fire from protected positions. Athletically climb over the environment to gain the advantage over your enemy. Run, leap, and dive for cover.<br></li><li>Use the unique upgradeable abilities of your Bio-chipped equipment to strategically outwit your foes.<br></li><li>Intense LAN multiplayer action.</li></ul><br><i>Note: Multiplayer available via LAN only.</i>'},"Jade Empire\u2122: Special Edition":{Name:"Jade Empire\u2122: Special Edition",Publisher:"BioWare Corporation;Electronic Arts",Platforms:"windows",Type:"Single-player;Partial Controller Support",Genres:"RPG",Positive_ratings:"809",Negative_ratings:"279",Desc:'<img src="https://steamcdn-a.akamaihd.net/steam/apps/7110/extras/Jade-Empire-Special-Edition-Wallpaper.png?t=1447350976" ><br><br>Step into the role of an aspiring martial-arts master and follow the path of the open palm or the closed fist.  In this multi-award-winning action-RPG, your choices and actions will determine the fate of the entire Jade Empire.  Will you prevent the destruction of this beautiful land, or will you crush it beneath your heel?  Are you a warrior who uses his strength and fighting mastery to bring peace, or will you instead use your power to bring pain and ruin?  <br>\t\t\t\t\t<strong>The choice is yours.</strong><br><strong><br>\t\t\t\t\tThe Original Award Winning Jade Empire</strong><br>\t\t\t\t\t<ul class="bb_ul"><li>An incredible, engaging story that makes you the noble hero or the treacherous villain!<br>\t\t\t\t\t</li><li>A wealth of fascinating characters to interact with.<br>\t\t\t\t\t</li><li>Beautiful, mysterious lands to explore, discover, and save...or conquer.<br>\t\t\t\t\t</li><li>A rich blend of role-playing and exciting real-time combat.<br>\t\t\t\t\t</li><li>New monsters and enemies.<br>\t\t\t\t\t</li><li>New fighting styles.<br>\t\t\t\t\t</li><li>Customizable, intuitive controls including support for game-pads and keyboard/mouse.<br>\t\t\t\t\t</li><li>Increased graphics resolutions and new visual effects.<br>\t\t\t\t\t</li><li>Improved combat AI and difficulty levels.<br>\t\t\t\t\t</li><li>New world map interface.</li></ul>'},"Trackmania United Forever Star Edition":{Name:"Trackmania United Forever Star Edition",Publisher:"Ubisoft",Platforms:"windows",Type:"Single-player;Multi-player;Includes level editor",Genres:"Racing",Positive_ratings:"963",Negative_ratings:"55",Desc:"TrackMania is the most entertaining car racing game ever. Millions of players play it in single or multiplayer modes. TrackMania United Forever is the ultimate TrackMania edition thanks to the numerous additions and innovations it has to offer. This version brings together all the environments of the series and comes with a huge, enriched single-player campaign including 4 different modes and 420 progressively difficult tracks.<br><br>Drive at mind-blowing speed on today's most spectacular tracks. Soaring jumps, loops, hairpin bends, turbo boosts, track-breakers, rails and ramps...every track delivers a new and intense experience, offering sensational gaming across single and multiplayer modes.<br><br><strong>Features:</strong><br><ul class=\"bb_ul\"><li>4 single player modes (Race, Platform, Stunt and Puzzle) on 420 spectacular progressively challenging tracks. <br>\t\t\t\t\t</li><li>7 types of vehicles offering different gameplay and driving experiences in 7 TrackMania environments - of which one, Stadium, is compatible with the free game, TrackMania Nations Forever <br>\t\t\t\t\t</li><li>Solo and team based multiplayer modes. Join millions of players online on the TrackMania servers.<br>\t\t\t\t\t</li><li>A spectacular graphics update for the three historic environments (Desert, Snow and Rally.<br>\t\t\t\t\t</li><li>Integrated peer-to-peer sharing system to showcase all of your customizations with your opponents (modified vehicles, avatar...).<br>\t\t\t\t\t</li><li>Earn &quot;Coppers&quot;, the virtual currency of TrackMania players, by winning medals in solo mode or by trading your TrackMania creations with other players (cars, skins, tracks, videos...)<br>\t\t\t\t\t</li><li>Official rankings in solo and multiplayer. In solo play, along with earning medals for great racing, you can participate in official rankings by recording your best times on the game's tracks.<br>\t\t\t\t\t</li><li>Create your own tracks, vehicles and videos with the TrackMania editors, paint shop and movie studio!<br>\t\t\t\t\t</li><li>Continue with all your data from TrackMania Nations Forever, including medals, ladder positions, scores, and friends.</li></ul>"},"Runaway, A Road Adventure":{Name:"Runaway, A Road Adventure",Publisher:"Focus Home Interactive",Platforms:"windows",Type:"Single-player",Genres:"Adventure",Positive_ratings:"236",Negative_ratings:"90",Desc:'New York, 2000...<br>...Without knowing how or why, Brian, a student on the verge of graduating from college, is attacked by Mafia gangsters.<br>\t\t\t\t\tDuring his desperate getaway, in the company of a mysterious striptease dancer, he ends up meeting a wide range of unusual characters. But which ones are trying to help him and which ones are planning to blow his head off?<br>\t\t\t\t\tYou will have to be very ingenious to figure it out, without forgetting that nobody is who they seem in this explosive mixture of murder, money, ambition, santeria rituals and deception...a whole lot of deception.<br>\t\t\t\t\t<ul class="bb_ul"><li>Approximately 100 settings that are visually rich, containing 30 interactive characters.<br>\t\t\t\t\t</li><li>Characters with soft edges, real-time lighting and shading effects, camera changes, panoramic shots and more.<br>\t\t\t\t\t</li><li>High-quality stereo sound, an original soundtrack with over 24 songs.<br>\t\t\t\t\t</li><li>3D characters with a cartoon look and high-impact visual features that include 2D and 3D in an unmatchable style. </li></ul>'},"Runaway, The Dream of The Turtle":{Name:"Runaway, The Dream of The Turtle",Publisher:"Focus Home Interactive",Platforms:"windows",Type:"Single-player",Genres:"Adventure",Positive_ratings:"86",Negative_ratings:"65",Desc:'Travel to the four corners of the world with Brian and Gina in a crazy story packed full of surprises. Pirates, spies, surfers, soldiers, and even aliens get in on the act - all combining to create a wonderfully rewarding experience to savour and remember forever!<br>\t\t\t\t\tWith loveable characters, rib-cracking humour, brain-tickling puzzles and stunning graphics, Runaway, The Dream of the Turtle is a glorious sight to behold.<br>\t\t\t\t\tRunaway, The Dream of the Turtle is an adventure game that is a pure pleasure to play.<br>\t\t\t\t\t<ul class="bb_ul"><li>A beautifully produced adventure game, with rich scenarios, ever-present humour and captivating puzzles.<br>\t\t\t\t\t</li><li>Hundreds of places to explore throughout the world.<br>\t\t\t\t\t</li><li>Over an hour of superb animated sequences bring to life the intrigue, plot twists and many comic moments.<br>\t\t\t\t\t</li><li>High quality sound featuring cinema quality dubbing, as well an original and hugely inspirational soundtrack with both vocal and instrumental tracks.</li></ul>'},Loki:{Name:"Loki",Publisher:"Focus Home Interactive",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"RPG",Positive_ratings:"69",Negative_ratings:"54",Desc:'A fantasy voyage through the great mythologies, Loki allows the player to take on the role of one of the four heroes of the game, each drawn from a different mythology: a mighty Norse fighter, a fierce Greek warrior, a powerful Egyptian magician or an Aztec shaman who masters the secrets of the spirit world.                    <br>\t\t\t\t\tWhatever hero the player adopts, he must come to the aid of the gods he worships. He will come to realize that behind the chaos that is threatening his world lies Seth, the Egyptian god of darkness and evil, who has returned from the kingdom of the dead.                    <br>\t\t\t\t\tThe hero must therefore undertake an epic journey across the various epochs and myths. He will fight a multitude of monsters of all shapes and sizes, and even overthrow a few gods, on his way to preventing Seth establish his wicked reign.                    <br>\t\t\t\t\t<ul class="bb_ul"><li>An epic adventure across four great mythologies - Aztec, Egyptian, Greek and Norse -  allowing the player to live through many of the key episodes that mark these cultures (the siege of Troy, Ragnarok, ......) and setting him in the path of the most prominent figures within each episode (Achilles, Thor, Akhenaton...)                    <br>\t\t\t\t\t</li><li>Choose from four different heroes with radically different attributes and powers. Each hero has a vast array of spells and skills to help him through his quest.                    <br>\t\t\t\t\t</li><li>More than 100 monsters of all shapes and sizes.                    <br>\t\t\t\t\t</li><li>Dare to take on mythological creatures that struck fear into the hearts of our ancestors (Fenrir the giant wolf, the Minotaur in his labyrinth, ...)                    <br>\t\t\t\t\t</li><li>Innumerable story lines through random generation of decors and items, so that nobody lives the same experience and allowing the game to be played many times without the hero ever having the same set of weapons, armour or spells.                    <br>\t\t\t\t\t</li><li>Weapons, being made of two parts (loosely \xabhandle\xbb + \xabcutting edge\xbb) and from different materials, can be customised at the village forge to change characteristics. Magic runes, found along the way, can multiply a weapon\'s power.</li></ul>'},Azada:{Name:"Azada",Publisher:"Big Fish Games",Platforms:"windows",Type:"Single-player",Genres:"Casual;Indie",Positive_ratings:"8",Negative_ratings:"4",Desc:'Trapped in a magical puzzle book, the adventurous Titus needs your help to release him from his spell. To do this, you must solve the tricky puzzles of Azada\u2122. Crack the series of puzzles and fill in the missing pages of the enchanted book to free Titus from his prison.<br>\t\t\t\t\t<ul class="bb_ul"><li>Loads of unique puzzles to solve.<br>\t\t\t\t\t</li><li>Boss Puzzles and surprises along the way.<br>\t\t\t\t\t</li><li>Hidden clues unlock levels!<br>\t\t\t\t\t</li></ul>'},"X-Blades":{Name:"X-Blades",Publisher:"Topware Interactive",Platforms:"windows;mac;linux",Type:"Single-player;Steam Trading Cards;Partial Controller Support",Genres:"Nudity;Violent;Action;Adventure;RPG",Positive_ratings:"1566",Negative_ratings:"981",Desc:'In <strong>X-Blades</strong>, the player takes on the role of the enchanting heroine Ayumi, who survives a breathtaking dance of blades through the Hordes of Darkness. The long-haired beautiful anime, with her pistol blades and mind-blowing leaps, whirls and swirls from one fantastic level to the next.<br><br>In brief: An anime-style, opulent hack \x92n\' slay spectacle for fans of entertaining action games. X-Blades creates a fantastic universe around the attractive heroine, who has to fend off innumerable monsters and imposing boss opponents with her power and tactics. A long list of all sorts of magic spells widens the range of potential forms of attack. Once Ayumi has collected enough experience points, she can activate new skills.  The anime-style level design is what really gives X-Blades its special flair. Around 40 magical indoor and outdoor worlds dazzle in an enthralling rhapsody of color. Action and magical effects are impressively incorporated through the use of cinema stylistics such as bullet time or motion blurring.<h2 class="bb_tag">Offense is the best form of defense!</h2>Forget the competition - I\'ll give you all the action you\'ll ever need! OK... I am a treasure hunter, so my motives maybe aren\'t always angelic - but my &quot;Slash Dance&quot; through the hordes of the Dark is a thing of beauty! Innovative Gunblades and an arsenal of spectacular spells, power-ups and incredible leap combos - you have to catch the cinematic presentation of my adventures - awesome!<h2 class="bb_tag"><strong>FEATURES:</strong></h2><ul class="bb_ul"><li>An absorbing fantasy story with 40 spectacular landscapes<br></li><li>More than 25 types of magic in different classes<br></li><li>Learn to play easily with 4 difficulty modes AND alternative endings that depend on your actions!<br></li><li>Innovative Gunblades for long-range and close combat, plus new weapons and new outfits<br></li><li>RPG elements in the upgrading of skills and weapons, demonic special mode for the heroine (<i>that\'s me!</i>)<br></li><li>Hidden Power-ups and a Stats screen will hook you into exploring all the levels<br></li><li>Over 30 classes of opponents, plus powerful Boss opponents and an ingenious level design</li></ul>'},"Two Worlds II HD":{Name:"Two Worlds II HD",Publisher:"Topware Interactive, ACE",Platforms:"windows;mac",Type:"Single-player;Multi-player;Online Multi-Player;Co-op;Online Co-op;Cross-Platform Multiplayer;Steam Achievements;Full controller support;Steam Trading Cards;In-App Purchases;Steam Cloud",Genres:"Nudity;Violent;RPG",Positive_ratings:"3054",Negative_ratings:"2051",Desc:"Updated HD Version 2.06 (August 2018)<br><br>A breathtaking journey into Antaloor's past.<br>\t\t\t\t\tAfter the downfall of Aziraal, God of Fire, the Dark Lord Gandohar has nearly achieved his objective to disrupt the balance between the elements. Dark magic surges into the land to fill the void. Recognizing the potential for complete control over the dark powers, Gandohar starts to use the power of Aziraal trap within Kyra, the descendant of the Orphans. Despite her ancestry, Kyra cannot endure the strain. With Antaloor already in his clutches, Gandohar concocts a new plan from his stronghold in Oswaroth. There are still those who struggle against the tyrant, hoping to shift the balance of forces in their favor. The fight for Antaloor continues...<br>\t\t\t\t\tFive years have passed since dramatic events brought the whole world to the edge of the abyss. The hero is a prisoner in the dungeons of Gandohar's castle. His hopes of saving his sister vanished with his freedom. Just as despair threatens to overcome him, hope comes from where he would have least expected. The Orcs, a race the hero had always hated, have put together a rescue squad that frees the hero from his bonds. He emerges into a land desecrated by evil. He embarks on a journey to shed light on Gandohar's dark past, hoping to discover a weak point in his enemy's defense. If he fails, he will lose his sister forever.<br>\t\t\t\t\t<h2 class=\"bb_tag\">Gameplay</h2>\t\t\t\t\tA perfect mix of flexibility, creativity and state-of-the-art technology &quot;Two Worlds II&quot; is a perfect blend of classic and innovated RPG features, atmosphere, and technology. A complex quest system and an exciting main story draw you into the world of Antaloor, made richer by secondary quest scenarios. Rich gameplay and engaging atmosphere propel the story and captures attention, promising danger and exploration throughout the many quests and video sequences. Enhanced AI, balancing standards, experienced authors, an active combat system, the innovative DEMONS\u2122 magic management, and the PAPAK\u2122 alchemy system guarantee enjoyment for new and experienced gamers. An artistic system of attack and defense moves has been integrated into the game. Parries and changing hit results creates a real opportunity for tactics and excitement, as the AI engage in combat and employ strategy of their own. The game also offers extreme flexibility in the weapon and armament design possibilities. The cornerstone at the heart of this feature is the newly created 'CRAFT'\u2122 tool. Players can break down items into their basic materials and create new unique items. &quot;Two Worlds II&quot; is also graphically superb. The powerful GRACE\u2122 engine offers technological highlights such as an unlimited number of dynamic light sources, 24 bit HDR post-processing, and Real Eye Adaptation. It will drastically reduce loading times, improve general game performance, and enable full gameplay with only moderate hardware requirements. <br>\t\t\t\t\t<h2 class=\"bb_tag\">Key features:</h2><ul class=\"bb_ul\"><li>A flexible combat system with variable attack moves, parrying and special tricks<br>\t\t\t\t\t</li><li>State-of-the-art technology, thanks to a powerful GRACE\u2122 engine and special tools <br>\t\t\t\t\t</li><li>Lots of mini-games for breaking up gameplay<br>\t\t\t\t\t</li><li>Intuitive user interface for the DEMONS\u2122 Magic system and the PAPAC\u2122 Alchemy system<br>\t\t\t\t\t</li><li>Mercenaries and magically-created beings accompany the player<br>\t\t\t\t\t</li><li>Complex object management with movable and usable items <br>\t\t\t\t\t</li><li>Special CRAFT\u2122 tool enables the individual configuration of armor and weapons<br>\t\t\t\t\t</li><li>Many Boss opponents, including special combat strategies and unique rewards<br>\t\t\t\t\t</li><li>Flexible MoSens system guarantees realistic every day and combat movements<br>\t\t\t\t\t</li><li>Various ways of moving, like walking, running, sprinting, riding, swimming, sailing and teleporting <br>\t\t\t\t\t</li><li>Captivating background story with numerous cutscenes<br>\t\t\t\t\t</li><li>Extensive Multiplayer part including building/setup simulation</li></ul>"},"Two Worlds II Castle Defense":{Name:"Two Worlds II Castle Defense",Publisher:"Topware Interactive",Platforms:"windows;mac",Type:"Single-player;Steam Trading Cards;Steam Cloud",Genres:"Strategy",Positive_ratings:"153",Negative_ratings:"194",Desc:'While the bloody battle between Gandohar\u2019s troops and the armies of the Orcs is raging in front of the gates of Oswaroth, the emperor waits in the depths of his palace on the outcome of the struggle for power. However, he does not know that an elite troop of Orcs, led by Rogdor, is making its way through secret paths into the fortress and is now close to the portals of the throne room...<br>\t\t\t\t\t<h2 class="bb_tag">Gameplay</h2>\t\t\t\t\tUtilize the opportunity to slip into the role of the Emperor Gandohar and his henchman Sordahon! These villains from the &quot;Two Worlds&quot; universe are now playable for the first time ever in this strategy game, thus opening an entirely new perspective into the vast world of Antaloor. Using foresight and skill, you must defend abandoned ruins, dark forests and winding catacombs against the onrushing Orcs. Ward off each attack with clever tactics and weaponry, defending Gandohar\'s throne in the Oswaroth fortress! Are you ready to break the high score and confront the ultimate Castle Defense challenge against opponents from around the world? <br>\t\t\t\t\t<h2 class="bb_tag">Key features:</h2>\t\t\t\t\t<ul class="bb_ul"><li>Comprehensive campaign mode provides an immersive approach to this strategic title<br>\t\t\t\t\t</li><li>Jump right into the Arena mode for instant action <br>\t\t\t\t\t</li><li>Content based on both &quot;Two Worlds&quot; role-playing games<br>\t\t\t\t\t</li><li>A range of environments including ruins, forests and catacombs<br>\t\t\t\t\t</li><li>Two distinct playable characters to lead your army, both equipped with special attacks such as Fire Damage or Ice Bomb<br>\t\t\t\t\t</li><li>Six uniquely different, upgradeable combat units such as Magicians and Rangers<br>\t\t\t\t\t</li><li>Dozens of different enemy archetypes in over 20 independent classes<br>\t\t\t\t\t</li><li>Advanced unit management with a variety of powers at your disposal<br>\t\t\t\t\t</li><li>Massive levels with up to 50 units on-screen simultaneously<br>\t\t\t\t\t</li><li>Individual graphics and sound settings<br>\t\t\t\t\t</li><li>Atmospherically dense level based soundtrack <br>\t\t\t\t\t</li><li>Competitive online high-score hunting in Campaign and Arena modes<br>\t\t\t\t\t</li></ul>'},"Sid Meier's Railroads!":{Name:"Sid Meier's Railroads!",Publisher:"2K;Feral Interactive (Mac)",Platforms:"windows;mac",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"1114",Negative_ratings:"570",Desc:"Sid Meier's Railroads! marks the return of the watershed title in simulation/strategy gaming that launched the popular &quot;tycoon&quot; genre, and inspired a new generation of games. Sid Meier's Railroads! comes home to its original creator, the legendary Sid Meier, who, together with his team at Firaxis Games, will take this game to a whole new level of fun!<br />\n<br />\nThe greatest railroad building game of all time is back in a vibrant 3D world delivering a streamlined interface and unmatched gameplay, that's easy to learn yet challenging to master. Creators of the world's best strategy game, Civilization IV, Sid Meier and Firaxis Games put you in charge of building the greatest rail empire in the nation - managing trains, cargo and your bottom line - while engaging in all-out corporate warfare against rival tycoons, slick entrepreneurs, and robber barons!<br />\n<br />\n*Multiplayer available in LAN mode only."},"Railroad Tycoon 3":{Name:"Railroad Tycoon 3",Publisher:"2K",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"355",Negative_ratings:"153",Desc:"Railroad Tycoon 3 features 25 scenarios challenging players to recreate magnificent feats of railroading history from around the world. Players can lay track (including tunnels and overpasses), pick from over 40 locomotives from early steams to modern bullets, choose to haul over 35 types of cargo in a dynamic economy, and participate in an advanced stock market.<br />\n\t\t\t\t\tThe new 3-D engine takes the franchise to the next level, allowing smooth scaling from an 'eye in the sky' view of an entire continent down to super detailed close-up of a beautifully modeled train, building, or just the landscape.<br />\n\t\t\t\t\tRailroad Tycoon 3 also includes more multiplayer support than its predecessor, integrating an on-line chat and matchmaking service. To top everything off, the game's soundtrack features another installment of some of the best authentic blues, bluegrass, and Americana music around.<br />\n<br />\nMultiplayer available in LAN mode only."},"Railroad Tycoon II Platinum":{Name:"Railroad Tycoon II Platinum",Publisher:"2K",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"420",Negative_ratings:"82",Desc:"Includes Railroad Tycoon II and the expansion The Second Century<br />\n\t\t\t\t\tIt can take you from New York to South Africa. It can take you from the year 1804 to the year 2000. It can take you from penniless manual laborer to powerful multi-millionaire.<br />\n\t\t\t\t\tIt can take you from a normal, well-adjusted, well-rounded person to an obsessed, singled-minded, one-tracked train head. This is a real railroad game, not just a strategy game that happens to involve railroads. If you want to hop on a plane, car or ship, hop on another game.<br />\n\t\t\t\t\tThis game is about trains for people who love trains. Everything about the game is centered around an authentic look and feeling of the railways. Period video and pictures are interlaced with the game. The design and interface are true to the character of the fabled late 1800's railroads. A.I. opponents are based on real people. And all maps are real (based on satellite photography from US Geological Service and other sources)."},"X-COM: Terror From the Deep":{Name:"X-COM: Terror From the Deep",Publisher:"2K",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"385",Negative_ratings:"32",Desc:'The war continues... X-COM: UFO Defense brought you to a galactic battlefield. X-COM: Terror from the Deep brings the alien terror into a totally new dimension.<br>Seeking to take advantage of a weakened Earth, X-COM\'s deep space foes unexpectedly change strategy and launch a powerful second front against planet Earth.<br>In the dark depths of vast oceans, long sleeping forces are awakened by reanimation signals sent out across the galactic silence by their interstellar brothers and sisters. Slowly but surely, an army of hibernating alien sea creatures awakens. Your combat now extends to the strange new worlds of the deep where superior alien technologies threaten the very survival of this planet - your planet - Earth.<br><ul class="bb_ul"><li>Sequel to the hugely successful X-COM: UFO Defense<br></li><li>Actual undersea geoscape mapping system with rich topographic detail<br></li><li>Full array of undersea military technology<br></li><li>Rich graphics feature water coloration and wrecks<br></li><li>Multilevel tactical maps featuring both underseascapes and buildings<br></li><li>Alien encyclopedia features mutation technology and new watery denizens</li></ul>'},"X-COM: Apocalypse":{Name:"X-COM: Apocalypse",Publisher:"2K",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"417",Negative_ratings:"53",Desc:"There's something evil in the city tonight...                                        <br>\t\t\t\t\t                    Earth has been ravaged by human excess, petty conflict and alien invasion. The world's population has been herded into huge cities, the first of which was Mega Primus.                                        <br>\t\t\t\t\t                    2084: A Utopia shattered, social collapse and civil unrest reigns in Mega Primus. Fiendish aliens terrorize the city. UFOs swarm through Dimensional Gateways. The city's under siege from an unknown enemy.                                        <br>\t\t\t\t\t                    Your mission, as X-COM Commander, is to combat alien aggression and uncover their deadly intentions. But Beware! Alien infiltration into the city and its politics could see you under fire from criminal gangs, religious sects, and even the police!                                        <br>\t\t\t\t\t                    Alien fleets fill the skies, creatures terrorize the city, chaos reigns... Welcome to the war, welcome to the Apocalypse.                                        <br>\t\t\t\t\t<strong>Features:</strong>                    <br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Explosive third game from the highly successful and thrilling X-Com series, following X-COM: UFO Defense and X-COM: Terror from the Deep.                    <br>\t\t\t\t\t</li><li>Battle alien invasion fleets over the city of Mega Primus in real-time.                    <br>\t\t\t\t\t</li><li>Combat the alien infestation in real-time or turn-based tactical missions.                    <br>\t\t\t\t\t</li><li>Research alien-based technology. Create newer and more destructive weaponry.                    <br>\t\t\t\t\t</li><li>Destroy alien sympathizers and stem alien infiltration. Wage war on new worlds in the Alien Dimension.                    </li></ul>"},"X-COM: Interceptor":{Name:"X-COM: Interceptor",Publisher:"2K",Platforms:"windows",Type:"Single-player;Multi-player",Genres:"Strategy",Positive_ratings:"57",Negative_ratings:"54",Desc:"They're back...only this time the heinous aliens are out to destroy Earth and rule the new frontier. As X-COM commander, it's your sole duty to protect humanity and the prized mining operations in outer space. You must strategically equip your X-COM fighters, amass a formidable arsenal and then fulfill your mandate by going head-to-head with the devious element. The action is fast. And the opposing forces are wicked. But if you are smart, diligent and quick, you will prevail in a masterfully fought campaign to save our planet from perilous collapse.                                                 <br>\t\t\t\t\t<strong>Features:</strong>                        <br>\t\t\t\t\t<ul class=\"bb_ul\"><li>Wreak complete destruction in an addictive and seamless combination of combat action and strategy.                        <br>\t\t\t\t\t</li><li>Mastermind your plan by purchasing equipment, hiring pilots and researching new technologies.                        <br>\t\t\t\t\t</li><li>Pilot your own X-COM attack ship in a face-to-face 3D real-time first person environment.                        </li></ul>"},"X-COM: UFO Defense":{Name:"X-COM: UFO Defense",Publisher:"2K",Platforms:"windows",Type:"Single-player",Genres:"Strategy",Positive_ratings:"2165",Negative_ratings:"136",Desc:"You are in control of X-COM: an organization formed by the world's governments to fight the ever-increasing alien menace.                                                <br>\t\t\t\t\t<strong>Features:</strong>                        <br>\t\t\t\t\t<ul class=\"bb_ul\"><li> <strong>Command deadly close-combat battles</strong><br>                        Shooting down UFOs is just the beginning: you must then lead a squad of heavily-armed soldiers across different terrains as they investigate the UFO crash site. Tackle the aliens with automatic rifles, rocket launchers, and even tanks in the struggle to retrieve useful technology, weapons or life forms.                                                <br>\t\t\t\t\t</li><li><strong>Research and manufacture alien technologies</strong><br>                        Successful ground assault missions will allow X-COM scientists to analyze alien items. Each new breakthrough brings you a little closer to understanding the technology and culture of the alien races. Once you have sufficient research data on the UFO's superior weapons and crafts, you'll be able to manufacture weapons of equal capability.                                                <br>\t\t\t\t\t</li><li><strong>Develop a strategy to save the Earth</strong><br>                        You must make every crucial decision as you combat the powerful alien forces. But you'll also need to watch the world political situation: governments may be forced into secret pacts with the aliens and then begin to reduce X-COM funding.                                                 </li></ul>"}};class Q_{}let J_=(()=>{class t{constructor(t,e){this.route=e,this.game=new Q_}ngOnInit(){const t=z_[this.route.snapshot.queryParams.game];this.game.title=t.Name,this.game.desc=t.Desc,this.game.publisher=t.Publisher,this.game.platforms=t.Platforms,this.game.type=t.Type,this.game.genre=t.Genre,this.game.postiveRate=t.Positive_ratings,this.game.negativeRate=t.Negative_ratings}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(o),r.Ib(Rv))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-gamedisplay"]],decls:42,vars:8,consts:[[1,"row"],["align","center",1,"col-3"],["src","","width","140","height","140","alt","Future Addition"],[1,"col-6"],[1,"col-3"],[1,"col-9"],["action","/action_page.php","method","get"],["comment","comment","cols","60","rows","5","charswidth","25"],["type","submit","value","Submit"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"div",1),r.Jb(3,"img",2),r.Kb(),r.Lb(4,"div",3),r.Lb(5,"h4"),r.lc(6),r.Kb(),r.Lb(7,"p"),r.lc(8),r.Kb(),r.Kb(),r.Lb(9,"div",4),r.Lb(10,"h5"),r.lc(11,"Game Details"),r.Kb(),r.Lb(12,"p"),r.lc(13),r.Jb(14,"br"),r.lc(15),r.Jb(16,"br"),r.lc(17),r.Jb(18,"br"),r.lc(19),r.Jb(20,"br"),r.lc(21),r.Jb(22,"br"),r.lc(23),r.Kb(),r.Kb(),r.Kb(),r.Lb(24,"div",0),r.Lb(25,"div",1),r.Lb(26,"button"),r.lc(27,"Interested"),r.Kb(),r.Jb(28,"br"),r.Jb(29,"br"),r.Lb(30,"button"),r.lc(31,"Favorite"),r.Kb(),r.Jb(32,"br"),r.Jb(33,"br"),r.Lb(34,"button"),r.lc(35,"Add to List"),r.Kb(),r.Kb(),r.Lb(36,"div",5),r.Lb(37,"form",6),r.Lb(38,"textarea",7),r.lc(39,"Review"),r.Kb(),r.Jb(40,"br"),r.Jb(41,"input",8),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(6),r.mc(e.game.title),r.yb(2),r.nc("",e.game.desc," "),r.yb(5),r.nc("Genre: ",e.game.genre," "),r.yb(2),r.nc("Type: ",e.game.type," "),r.yb(2),r.nc("Developer: ",e.game.publisher," "),r.yb(2),r.nc("Platform: ",e.game.platforms," "),r.yb(2),r.nc("Postive Rate: ",e.game.postiveRate," "),r.yb(2),r.nc("Negative Rate: ",e.game.negativeRate," "))},directives:[D_,eb,Xm,$y],styles:[""]}),t})(),Y_=(()=>{class t{getGames(t){const e=Object.keys(z_);if(""===t||"#"===t||null===t)return Object(_t.a)(e);{const n=[];let r;if(!t)return Object(_t.a)(e);for(r in e)e[r][0]!==t&&e[r][0]!==t.toLocaleUpperCase()||n.push(e[r]);return Object(_t.a)(n)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $_=function(){return["/games"]},X_=function(t){return{index:t}};function Z_(t,e){if(1&t&&(r.Lb(0,"li"),r.Lb(1,"a",4),r.lc(2),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.ac("routerLink",r.bc(3,$_))("queryParams",r.cc(4,X_,t)),r.yb(1),r.mc(t)}}const tC=function(){return["/gameDisplay"]},eC=function(t){return{game:t}};function nC(t,e){if(1&t&&(r.Lb(0,"li"),r.Lb(1,"a",4),r.lc(2),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.ac("routerLink",r.bc(3,tC))("queryParams",r.cc(4,eC,t)),r.yb(1),r.mc(t)}}let rC=(()=>{class t{constructor(t,e,n,r){this.route=e,this.router=n,this.gameService=r,this.alphaListing=["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.userInfo=JSON.stringify(t.get()),this.serviceGames=this.route.queryParams.pipe(Og(t=>this.gameService.getGames(t.index)))}ngOnInit(){}getAllGames(){return Object.keys(z_)}getGamesByIndex(t){const e=this.getAllGames(),n=[];let r;for(r in e)e[r][0]!==t&&e[r][0]!==t.toLocaleUpperCase()||n.push(e[r]);return n}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(o),r.Ib(Rv),r.Ib($w),r.Ib(Y_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-games"]],decls:10,vars:4,consts:[[1,"alphabetical","search"],["id","menu",2,"padding","20px"],[4,"ngFor","ngForOf"],[1,"search","result",2,"padding","20px"],[3,"routerLink","queryParams"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Lb(1,"div",0),r.Lb(2,"ul",1),r.Lb(3,"b"),r.lc(4,"Alphabetical Indexs"),r.Kb(),r.kc(5,Z_,3,6,"li",2),r.Kb(),r.Kb(),r.Lb(6,"div",3),r.Lb(7,"ul"),r.kc(8,nC,3,6,"li",2),r.Xb(9,"async"),r.Kb(),r.Kb()),2&t&&(r.yb(5),r.ac("ngForOf",e.alphaListing),r.yb(3),r.ac("ngForOf",r.Yb(9,2,e.serviceGames)))},directives:[D_,N,Xw],pipes:[q],styles:[".container[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]{width:90%;margin:0 auto}button[_ngcontent-%COMP%]{float:right}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 auto;padding:0;list-style:none;border-style:solid;border-width:.5px}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:7px;display:inline-block}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}h3[_ngcontent-%COMP%]{padding:5px;width:90%}h3[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0 auto}ul[_ngcontent-%COMP%]{list-style:none}ul#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}"]}),t})();function iC(t,e){if(1&t){const t=r.Mb();r.Lb(0,"tr"),r.Lb(1,"td"),r.Lb(2,"a",15),r.Sb("click",(function(){r.gc(t);const n=e.index;return r.Wb().refresh(n)})),r.lc(3),r.Kb(),r.Kb(),r.Lb(4,"td",16),r.Sb("click",(function(){r.gc(t);const n=e.$implicit;return r.Wb().markPrivate(n)})),r.Lb(5,"i",17),r.lc(6,"visibility"),r.Kb(),r.Kb(),r.Lb(7,"td",16),r.Sb("click",(function(){r.gc(t);const n=e.$implicit;return r.Wb().deleteList(n)})),r.Lb(8,"i",17),r.lc(9,"delete_forever"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit;r.yb(3),r.mc(t.payload.doc.data().listTitle),r.yb(1),r.ac("hidden",t.payload.doc.data().completed),r.yb(3),r.ac("hidden",t.payload.doc.data().completed)}}function oC(t,e){if(1&t&&(r.Lb(0,"h2"),r.lc(1),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.mc(t.gameLists[t.currentIndex].payload.doc.data().listTitle)}}function sC(t,e){if(1&t&&(r.Lb(0,"h6"),r.lc(1),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.mc(t.gameLists[t.currentIndex].payload.doc.data().listComments)}}function aC(t,e){if(1&t&&(r.Lb(0,"tr"),r.Lb(1,"td",18),r.lc(2),r.Kb(),r.Lb(3,"td",18),r.Jb(4,"img",19),r.Kb(),r.Lb(5,"td"),r.Lb(6,"a",20),r.lc(7),r.Kb(),r.Kb(),r.Jb(8,"td"),r.Jb(9,"td"),r.Jb(10,"td"),r.Jb(11,"td"),r.Lb(12,"td"),r.Lb(13,"button",21),r.lc(14,"Delete"),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=e.index,i=r.Wb(2);r.yb(2),r.mc(n+1),r.yb(2),r.ac("src",i.getImgUrl(n+1),r.ic),r.yb(3),r.mc(t)}}function lC(t,e){if(1&t&&(r.Lb(0,"tbody"),r.kc(1,aC,15,3,"tr",5),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.ac("ngForOf",t.gameLists[t.currentIndex].payload.doc.data().gameList)}}let uC=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.listsService=e,this.routerInfor=n,this.d=r,this.u=i,this.currentlist=!1,this.getAllLists=()=>this.listsService.getAllLists().subscribe(t=>this.gameLists=t),this.deleteList=t=>this.listsService.deleteList(t),this.markPrivate=t=>this.listsService.updateList(t)}ngOnInit(){this.getAllLists(),this.myLists$=this.listsService.firestore.collection("myLists").valueChanges()}getImgUrl(t){let e="";return e=t+"","assets/images/"+e+".png"}action(){this.router.navigate(["/addgames"])}listClickaction(){this.router.navigate(["/:id"])}checkData(){console.log(this.currentIndex)}refresh(t){this.currentlist=!0,this.currentIndex=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($w),r.Ib(C_),r.Ib(Rv),r.Ib(l),r.Ib(o))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-mygames"]],decls:43,vars:4,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[1,"row"],[1,"col-md-3","col-sm-3"],[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary",3,"click"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-plus-circle"],["fill-rule","evenodd","d","M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["fill-rule","evenodd","d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],[1,"col-md-8","col-sm-9","border-right"],[4,"ngIf"],[1,"table","table-hover"],[1,"thead-light"],["scope","col"],[1,"text-info",3,"click"],[3,"hidden","click"],[1,"material-icons"],["scope","row"],["alt","","width","150","height","150",3,"src"],["href","#",1,"text-info"],[2,"float","right"]],template:function(t,e){1&t&&(r.Jb(0,"link",0),r.Jb(1,"link",1),r.Lb(2,"body"),r.Jb(3,"app-navbar"),r.Lb(4,"div",2),r.Lb(5,"div",3),r.Lb(6,"ul",4),r.Lb(7,"h1"),r.lc(8,"My Lists"),r.Kb(),r.Lb(9,"p"),r.lc(10,"Create your own custom video game lists!"),r.Kb(),r.kc(11,iC,10,3,"tr",5),r.Lb(12,"button",6),r.Sb("click",(function(){return e.action()})),r.lc(13,"New List "),r.Vb(),r.Lb(14,"svg",7),r.Jb(15,"path",8),r.Jb(16,"path",9),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Ub(),r.Lb(17,"div",10),r.Jb(18,"br"),r.kc(19,oC,2,1,"h2",11),r.kc(20,sC,2,1,"h6",11),r.Jb(21,"br"),r.Lb(22,"table",12),r.Lb(23,"thead",13),r.Lb(24,"tr"),r.Lb(25,"th",14),r.lc(26,"#"),r.Kb(),r.Lb(27,"th",14),r.lc(28,"Image"),r.Kb(),r.Lb(29,"th",14),r.lc(30,"Title"),r.Kb(),r.Lb(31,"th",14),r.lc(32,"Description"),r.Kb(),r.Lb(33,"th",14),r.lc(34,"Genre"),r.Kb(),r.Lb(35,"th",14),r.lc(36,"Platforms"),r.Kb(),r.Lb(37,"th",14),r.lc(38,"Rating"),r.Kb(),r.Lb(39,"th",14),r.lc(40,"Edit"),r.Kb(),r.Kb(),r.Kb(),r.kc(41,lC,2,1,"tbody",11),r.Kb(),r.Kb(),r.Kb(),r.Jb(42,"router-outlet"),r.Kb()),2&t&&(r.yb(11),r.ac("ngForOf",e.gameLists),r.yb(8),r.ac("ngIf",e.currentlist),r.yb(1),r.ac("ngIf",e.currentlist),r.yb(21),r.ac("ngIf",e.currentlist))},directives:[D_,N,L,t_],styles:[".table[_ngcontent-%COMP%]   .thead-light[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#495057;background-color:#26a69a;border-color:#26a69a;font-size:17px}"]}),t})(),cC=(()=>{class t{constructor(t){this._elementRef=t,this.clickOutside=new r.n}onClick(t){this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","clickOutside",""]],hostBindings:function(t,e){1&t&&r.Sb("click",(function(t){return e.onClick(t.target)}),!1,r.fc)},outputs:{clickOutside:"clickOutside"}}),t})(),hC=(()=>{class t{transform(t,e){return e?t.filter(t=>{if(t)return-1!==t.toLowerCase().indexOf(e.toLowerCase())}):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"searchFilter",type:t,pure:!0}),t})(),dC=(()=>{class t{transform(t,e){if(!e)return t;let n=e.length,r=t.split(""),i=0,o=this.locations(e.toLowerCase(),t.toLowerCase());return o=o.map(t=>{let e=t+i;return i+=2,e}),o.forEach(t=>{r.splice(t,0,"<span class = 'bold'>"),r.splice(t+n+1,0,"</span>")}),r.join("")}locations(t,e){let n=[],r=-1;for(;(r=e.indexOf(t,r+1))>=0;)n.push(r);return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Hb({name:"letterBold",type:t,pure:!0}),t})();function pC(t,e){if(1&t){const t=r.Mb();r.Lb(0,"li"),r.Lb(1,"span",35),r.lc(2),r.Kb(),r.Lb(3,"a",36),r.Sb("click",(function(){r.gc(t);const n=e.$implicit;return r.Wb().removeGame(n)})),r.lc(4,"x"),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit;r.yb(2),r.nc(" ",t," ")}}function fC(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",39),r.Sb("click",(function(){r.gc(t);const n=e.$implicit;return r.Wb(2).selectValue(n)})),r.Lb(1,"a",40),r.Xb(2,"letterBold"),r.lc(3),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit,n=r.Wb(2);r.yb(1),r.ac("innerHTML",r.Zb(2,2,t,n.getSearchValue()),r.hc),r.yb(2),r.nc(" ",t," ")}}function gC(t,e){if(1&t&&(r.Lb(0,"div",37),r.kc(1,fC,4,5,"div",38),r.Xb(2,"searchFilter"),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.ac("ngForOf",r.Zb(2,1,t.states,t.getSearchValue()))}}function mC(t,e){if(1&t&&(r.Lb(0,"div",41),r.Jb(1,"div",42),r.lc(2),r.Jb(3,"div",42),r.Kb()),2&t){const t=e.$implicit;r.yb(2),r.nc(" ",t," ")}}const yC=function(){return["/home"]},bC=function(){return["/games"]},vC=function(){return["/lists"]},wC=function(){return["/myGames"]},_C=function(){return["/mylist"]},CC=function(){return["/aboutus"]};let SC=(()=>{class t{constructor(t,e,n){this.listsService=t,this.fb=e,this.router=n,this.showDropDown=!1,this.states=["Pokemon Emerald","Overcooked 2","Pokemon Sword/Shield","Final Fantasy XII","Super Mario Galaxy","Legend of Zelda: Breath of the Wild","Fortnite","Minecraft","District of Animal Crossing: New Horizons","Overwatch","Overwaatch 2","Call of Duty: Modern Warfare","Starcraft","Starcraft 2","Mario Kart 8","League of Legends","Super Smash Bros. Ultimate","Final Fantasy VII","Luigis Mansion 3",,"Luigis Mansion 2","Luigis Mansion","Mario Party","Minecraft Dungeons","Onigiri","Mount & Blade II","Fallout 4","Rise of the Tombraider","Steins;Gate","Street Fighter IV","Samurai Warriors","Super Mario 3D World","Super Mario Maker","Super Mario Maker 2","New Super Mario Odyssey","Paradise Killer","Amnesia: Rebirth","Mall Tycoon","Rollercoaster Tycoon","Fate/Extra","Boku no Natsuyasumi","Naruto Shippuden: Ultimate Ninja Impact","Dragon Ball Z: Shin Budokai","Monster Hunter Portable 3D","Naruto Shippuden: Ultimate Ninja Heros","Chaos;Head","Shining Resonance Refrain","Kanon","Dies irae","Persona","Persona 2","Jump Force","Unravel 2","Ark Survival Evolved","Odin Sphere","J Stars Victory VS+","Fairy Tail","One Punch Ma A Hero Nobody Knows","Tokyo Ghoul Jail"],this.gameList=[],this.removeGame=t=>{let e=this.gameList.indexOf(t);e>-1&&this.gameList.splice(e,1)},this.initForm()}initForm(){return this.stateForm=this.fb.group({search:[null]})}ngOnInit(){}selectValue(t){this.gameList.push(t),this.showDropDown=!1}closeDropDown(){this.showDropDown=!this.showDropDown}openDropDown(){this.showDropDown=!1}getSearchValue(){return this.stateForm.value.search}onSubmit(){this.listsService.form.value.gameList=this.gameList,this.listsService.createList(this.listsService.form.value).then(t=>{}),this.router.navigate(["/myGames"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(C_),r.Ib(db),r.Ib($w))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-addgames"]],decls:62,vars:22,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[1,"navigation"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"nav-item"],[1,"nav-item","dropdown"],["href","javascript: void(0);","id","routerLinkDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","routerLinkDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"container"],[1,"material-icons"],[1,"back-button"],[1,"text-info",3,"routerLink"],[1,"table-container"],[1,"table"],[1,"thead-dark"],["scope","col"],[3,"formGroup"],[1,"row"],[1,"col","s12"],["id","listTitle","formControlName","listTitle","type","text","placeholder","Add a descriptive title to your list",1,"validate"],["for","listTitle"],["id","listComments","formControlName","listComments","type","text","placeholder","Add additional comments and notes to make your list more meaningful",1,"validate"],[1,"collection"],[4,"ngFor","ngForOf"],["autocomplete","new-password","novalidate","",3,"formGroup"],["id","search","formControlName","search","placeholder","Search for video game titles to add to your list","type","text",1,"validate",3,"click"],["clickOutside","",3,"clickOutside"],["class","search-drop-down ",4,"ngIf"],[1,"flex-container","card-container","flex-wrap","flex-center"],["class","flex-container card-dimensions card flex-center width-100 ",4,"ngFor","ngForOf"],[1,"waves-effect","waves-light","btn","col","s12",3,"click"],[1,"col","s11"],[1,"col","s1",3,"click"],[1,"search-drop-down"],["class","search-results ",3,"click",4,"ngFor","ngForOf"],[1,"search-results",3,"click"],[3,"innerHTML"],[1,"flex-container","card-dimensions","card","flex-center","width-100"],[1,"width-5"]],template:function(t,e){1&t&&(r.Jb(0,"link",0),r.Jb(1,"link",1),r.Lb(2,"body"),r.Lb(3,"div",2),r.Lb(4,"nav",3),r.Lb(5,"ul",4),r.Lb(6,"li",5),r.Lb(7,"a",6),r.lc(8,"Home"),r.Kb(),r.Kb(),r.Lb(9,"li",7),r.Lb(10,"a",6),r.lc(11,"Games"),r.Kb(),r.Kb(),r.Lb(12,"li",7),r.Lb(13,"a",6),r.lc(14,"Lists"),r.Kb(),r.Kb(),r.Lb(15,"li",8),r.Lb(16,"a",9),r.lc(17," My Games "),r.Kb(),r.Lb(18,"div",10),r.Lb(19,"a",11),r.lc(20,"My Lists"),r.Kb(),r.Lb(21,"a",11),r.lc(22,"My Followed Lists"),r.Kb(),r.Kb(),r.Kb(),r.Lb(23,"li",7),r.Lb(24,"a",6),r.lc(25,"About Us"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(26,"div",12),r.Lb(27,"i",13),r.lc(28,"arrow_back"),r.Kb(),r.Lb(29,"div",14),r.Lb(30,"a",15),r.lc(31,"Go Back"),r.Kb(),r.Kb(),r.Lb(32,"div",16),r.Lb(33,"table",17),r.Lb(34,"thead",18),r.Lb(35,"tr"),r.Lb(36,"th",19),r.lc(37,"Create New List:"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(38,"form",20),r.Lb(39,"div",21),r.Lb(40,"div",22),r.Jb(41,"input",23),r.Lb(42,"label",24),r.lc(43," Title "),r.Kb(),r.Kb(),r.Kb(),r.Lb(44,"div",21),r.Lb(45,"div",22),r.Jb(46,"input",25),r.Lb(47,"label",24),r.lc(48," Comments "),r.Kb(),r.Kb(),r.Kb(),r.Lb(49,"ul",26),r.kc(50,pC,5,1,"li",27),r.Kb(),r.Lb(51,"form",28),r.Lb(52,"input",29),r.Sb("click",(function(){return e.openDropDown()})),r.Kb(),r.Kb(),r.Lb(53,"div",30),r.Sb("clickOutside",(function(){return e.closeDropDown()})),r.kc(54,gC,3,4,"div",31),r.Kb(),r.Lb(55,"main"),r.Lb(56,"div",32),r.kc(57,mC,4,1,"div",33),r.Xb(58,"searchFilter"),r.Kb(),r.Kb(),r.Jb(59,"footer"),r.Lb(60,"button",34),r.Sb("click",(function(){return e.onSubmit()})),r.lc(61," Submit "),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(7),r.ac("routerLink",r.bc(15,yC)),r.yb(3),r.ac("routerLink",r.bc(16,bC)),r.yb(3),r.ac("routerLink",r.bc(17,vC)),r.yb(6),r.ac("routerLink",r.bc(18,wC)),r.yb(2),r.ac("routerLink",r.bc(19,_C)),r.yb(3),r.ac("routerLink",r.bc(20,CC)),r.yb(6),r.ac("routerLink",r.bc(21,wC)),r.yb(8),r.ac("formGroup",e.listsService.form),r.yb(12),r.ac("ngForOf",e.gameList),r.yb(1),r.ac("formGroup",e.stateForm),r.yb(3),r.ac("ngIf",e.showDropDown),r.yb(3),r.ac("ngForOf",r.Zb(58,12,e.states,e.getSearchValue())))},directives:[Xw,eb,Xm,ib,Km,$m,sb,N,cC,L],pipes:[hC,dC],styles:[".card-dimensions[_ngcontent-%COMP%]{height:162px;width:23%}.card[_ngcontent-%COMP%]{font-family:sans-serif;font-size:18px;background:#d2d2d2;margin-top:10px;margin-left:5px;margin-right:5px}.card-container[_ngcontent-%COMP%]{justify-content:start}.icon-pos[_ngcontent-%COMP%]{position:absolute;top:25px}.search-bar[_ngcontent-%COMP%]{min-width:348px;text-indent:30px!important;box-sizing:border-box}.search-drop-down[_ngcontent-%COMP%]{position:absolute;width:50%;max-height:300px;overflow-y:auto;z-index:10;background-color:#f6f6f6;font-family:sans-serif;opacity:.98}.search-results[_ngcontent-%COMP%]{padding:10px}.search-results[_ngcontent-%COMP%]:hover{background:#707070}table[_ngcontent-%COMP%]{color:#495057;font-family:Arial,Helvetica,sans-serif;font-size:large;margin:3rem auto}th[_ngcontent-%COMP%]{border:1px #009688;text-align:left;padding:2px 10px;font-size:40px}th.thead-dark[_ngcontent-%COMP%]{color:#009688}.table[_ngcontent-%COMP%]   .thead-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#495057;background-color:#26a69a;border-color:#26a69a}.back-button[_ngcontent-%COMP%]{display:inline-block;padding:10px}"]}),t})(),TC=(()=>{class t{constructor(t){this.db=t,this.dbPath="/userProfiles",this.userProfilesRef=null,this.userRef=null,this.userProfilesRef=t.list(this.dbPath)}getAll(){return this.userProfilesRef}queryByEmail(t){return this.userRef=this.db.list(this.dbPath,e=>e.orderByChild("email").equalTo(t)),this.userRef}create(t){return this.userProfilesRef.push(t)}update(t,e){return this.userProfilesRef.update(t,e)}delete(t){return this.userProfilesRef.remove(t)}deleteAll(){return this.userProfilesRef.remove()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jm))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function EC(t,e){1&t&&(r.Lb(0,"div",22),r.Lb(1,"span"),r.lc(2,"Please type your first name"),r.Kb(),r.Kb())}function kC(t,e){1&t&&(r.Lb(0,"span"),r.lc(1,"Please type your last name"),r.Kb())}function IC(t,e){1&t&&(r.Lb(0,"span"),r.lc(1,"\u81f3\u5c114\u4e2a\u5b57"),r.Kb())}function OC(t,e){if(1&t&&(r.Lb(0,"span"),r.lc(1),r.Kb()),2&t){const t=r.Wb().ngIf;r.yb(1),r.mc(t.forbiddenName.value)}}function PC(t,e){if(1&t&&(r.Lb(0,"div",22),r.kc(1,kC,2,0,"span",21),r.kc(2,IC,2,0,"span",21),r.kc(3,OC,2,1,"span",21),r.Kb()),2&t){const t=e.ngIf;r.yb(1),r.ac("ngIf",t.required),r.yb(1),r.ac("ngIf",t.minlength),r.yb(1),r.ac("ngIf",t.forbiddenName)}}function AC(t,e){if(1&t&&(r.Lb(0,"option",23),r.lc(1),r.Kb()),2&t){const t=e.$implicit;r.ac("value",t),r.yb(1),r.nc(" ",t," ")}}function xC(t,e){1&t&&(r.Lb(0,"div",22),r.Lb(1,"span"),r.lc(2,"Please enter the password"),r.Kb(),r.Kb())}function NC(t,e){1&t&&(r.Lb(0,"div",22),r.Lb(1,"span"),r.lc(2,"Please re-enter the password"),r.Kb(),r.Kb())}function DC(t,e){if(1&t&&(r.Lb(0,"div",24),r.lc(1),r.Kb()),2&t){r.Wb();const t=r.ec(7);r.yb(1),r.nc(" ",t.errors.equal," ")}}function LC(t,e){1&t&&(r.Lb(0,"span"),r.lc(1,"Please type your phone number"),r.Kb())}function jC(t,e){if(1&t&&(r.Lb(0,"div",22),r.kc(1,LC,2,0,"span",21),r.Kb()),2&t){const t=e.ngIf;r.yb(1),r.ac("ngIf",t.required)}}function RC(t,e){1&t&&(r.Lb(0,"div"),r.Lb(1,"h4"),r.lc(2,"You submitted successfully!"),r.Kb(),r.Kb())}function MC(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",1),r.Jb(1,"br"),r.Lb(2,"h2"),r.lc(3,"Edit Profile"),r.Kb(),r.Jb(4,"hr"),r.Jb(5,"br"),r.Lb(6,"form",2,3),r.Sb("ngSubmit",(function(){r.gc(t);const e=r.ec(7);return r.Wb().onSubmit(e)})),r.Lb(8,"div",4),r.Lb(9,"label"),r.lc(10,"User Name:"),r.Kb(),r.Lb(11,"input",5,6),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().profile.userName=e})),r.Kb(),r.kc(13,EC,3,0,"div",7),r.Kb(),r.Lb(14,"div",4),r.Lb(15,"label"),r.lc(16,"Email:"),r.Kb(),r.Lb(17,"input",8,9),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().profile.email=e})),r.Kb(),r.kc(19,PC,4,3,"div",7),r.Kb(),r.Lb(20,"div",4),r.Lb(21,"label"),r.lc(22,"Gender:"),r.Kb(),r.Lb(23,"select",10),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().profile.gender=e})),r.kc(24,AC,2,2,"option",11),r.Kb(),r.Kb(),r.Lb(25,"div",4),r.Lb(26,"div"),r.Lb(27,"label"),r.lc(28,"Password:"),r.Kb(),r.Lb(29,"input",12,13),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().profile.password=e})),r.Kb(),r.kc(31,xC,3,0,"div",7),r.Kb(),r.Kb(),r.Lb(32,"div",4),r.Lb(33,"div"),r.Lb(34,"label"),r.lc(35,"confirmPassword:"),r.Kb(),r.Lb(36,"input",14,15),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().profile.confirmPassword=e})),r.Kb(),r.kc(38,NC,3,0,"div",7),r.Kb(),r.kc(39,DC,2,1,"div",16),r.Kb(),r.Lb(40,"div",4),r.Lb(41,"label"),r.lc(42,"Phone:"),r.Kb(),r.Lb(43,"input",17,18),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().profile.phone=e})),r.Kb(),r.kc(45,jC,2,1,"div",7),r.Kb(),r.Jb(46,"br"),r.Lb(47,"div",4),r.Lb(48,"button",19),r.Sb("click",(function(){return r.gc(t),r.Wb().updateProfile()})),r.lc(49,"Update"),r.Kb(),r.Lb(50,"button",20),r.Sb("click",(function(){r.gc(t);const e=r.ec(7);return r.Wb().onReset(e)})),r.lc(51,"Reset"),r.Kb(),r.Lb(52,"p"),r.lc(53),r.Kb(),r.Kb(),r.kc(54,RC,3,0,"div",21),r.Kb(),r.Kb()}if(2&t){const t=r.ec(7),e=r.ec(12),n=r.ec(18),i=r.ec(30),o=r.ec(37),s=r.ec(44),a=r.Wb();r.yb(11),r.ac("ngModel",a.profile.userName),r.yb(2),r.ac("ngIf",e.dirty&&e.errors),r.yb(4),r.ac("ngModel",a.profile.email),r.yb(2),r.ac("ngIf",n.dirty&&n.errors),r.yb(4),r.ac("ngModel",a.profile.gender),r.yb(1),r.ac("ngForOf",a.Gender),r.yb(5),r.ac("ngModel",a.profile.password),r.yb(2),r.ac("ngIf",i.dirty&&i.errors),r.yb(5),r.ac("ngModel",a.profile.confirmPassword),r.yb(2),r.ac("ngIf",o.dirty&&o.errors),r.yb(1),r.ac("ngIf",t.errors),r.yb(4),r.ac("ngModel",a.profile.phone),r.yb(2),r.ac("ngIf",s.dirty&&n.errors),r.yb(8),r.mc(a.message),r.yb(1),r.ac("ngIf",a.submitted)}}function FC(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div"),r.Lb(1,"div",3),r.Lb(2,"label"),r.lc(3,"User Name:"),r.Kb(),r.Lb(4,"input",4,5),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().$implicit.userName=e})),r.Kb(),r.Kb(),r.Lb(6,"div",3),r.Lb(7,"label"),r.lc(8,"Email:"),r.Kb(),r.Lb(9,"input",6,7),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().$implicit.email=e})),r.Kb(),r.Kb(),r.Lb(11,"div",3),r.Lb(12,"label"),r.lc(13,"Gender:"),r.Kb(),r.Lb(14,"input",8),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().$implicit.gender=e})),r.Kb(),r.Kb(),r.Lb(15,"div",3),r.Lb(16,"label"),r.lc(17,"Phone:"),r.Kb(),r.Lb(18,"input",9,10),r.Sb("ngModelChange",(function(e){return r.gc(t),r.Wb().$implicit.phone=e})),r.Kb(),r.Kb(),r.Jb(20,"br"),r.Lb(21,"div",3),r.Lb(22,"button",11),r.lc(23,"Edit Profile"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Wb().$implicit;r.yb(4),r.ac("ngModel",t.userName),r.yb(5),r.ac("ngModel",t.email),r.yb(5),r.ac("ngModel",t.gender),r.yb(4),r.ac("ngModel",t.phone)}}function VC(t,e){if(1&t&&(r.Lb(0,"div"),r.kc(1,FC,24,4,"div",2),r.Kb()),2&t){const t=e.index;r.yb(1),r.ac("ngIf",0==t)}}const UC=[{Title:"Metal Gear Solid (1998 video game)",Description:"classic adventure",Score:"8",Type:"AVG"},{Title:"Metal Gear Solid 2: Sons of Liberty",Description:"action-adventure stealth video game",Score:"9",Type:"AVG"},{Title:"Metal Gear Solid 3",Description:"action-adventure stealth video game",Score:"8.5",Type:"AVG"},{Title:"Metal Gear Solid 4",Description:"adventure stealth",Score:"8.5",Type:"AVG"},{Title:"Metal Gear Solid 5",Description:"adventure stealth",Score:"9",Type:"AVG"},{Title:"Final Fantasy 7",Description:"Square Enix's long running fantasy RPG series",Score:"8",Type:"RPG"}];function qC(t,e){if(1&t){const t=r.Mb();r.Lb(0,"tr"),r.Lb(1,"td",7),r.lc(2),r.Kb(),r.Lb(3,"td"),r.Lb(4,"a",8),r.Sb("click",(function(){r.gc(t);const n=e.$implicit;return r.Wb().showDetails(n.payload.doc.data().title)})),r.lc(5),r.Kb(),r.Kb(),r.Lb(6,"td"),r.lc(7),r.Kb(),r.Lb(8,"td"),r.lc(9),r.Kb(),r.Lb(10,"td"),r.Lb(11,"a",8),r.Sb("click",(function(){r.gc(t);const n=e.$implicit;return r.Wb().delete(n.payload.doc.id)})),r.lc(12,"delete"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.mc(n+1),r.yb(3),r.mc(t.payload.doc.data().title),r.yb(2),r.mc(t.payload.doc.data().user),r.yb(2),r.mc(t.payload.doc.data().description)}}function GC(t,e){if(1&t&&(r.Lb(0,"tr"),r.Lb(1,"td",7),r.lc(2),r.Kb(),r.Lb(3,"td",7),r.Jb(4,"img",9),r.Kb(),r.Lb(5,"td"),r.Lb(6,"a",10),r.lc(7),r.Kb(),r.Kb(),r.Lb(8,"td"),r.lc(9),r.Kb(),r.Lb(10,"td"),r.lc(11),r.Kb(),r.Lb(12,"td"),r.lc(13),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=e.index,i=r.Wb(2);r.yb(2),r.mc(n+1),r.yb(2),r.ac("src",i.getImgUrl(n+1),r.ic),r.yb(3),r.mc(t.Title),r.yb(2),r.mc(t.Description),r.yb(2),r.mc(t.Score),r.yb(2),r.mc(t.Type)}}function WC(t,e){if(1&t&&(r.Lb(0,"div",1),r.Lb(1,"h2"),r.lc(2),r.Kb(),r.Jb(3,"br"),r.Lb(4,"table",2),r.Lb(5,"thead",3),r.Lb(6,"tr"),r.Lb(7,"th",4),r.lc(8,"#"),r.Kb(),r.Lb(9,"th",4),r.lc(10,"Image"),r.Kb(),r.Lb(11,"th",4),r.lc(12,"Title"),r.Kb(),r.Lb(13,"th",4),r.lc(14,"Description"),r.Kb(),r.Lb(15,"th",4),r.lc(16,"Score"),r.Kb(),r.Lb(17,"th",4),r.lc(18,"Type"),r.Kb(),r.Kb(),r.Kb(),r.Lb(19,"tbody"),r.kc(20,GC,14,6,"tr",5),r.Kb(),r.Kb(),r.Kb()),2&t){const t=r.Wb();r.yb(2),r.mc(t.showTitle),r.yb(18),r.ac("ngForOf",t.customerLists)}}const HC=[{path:"",redirectTo:"/landingpage",pathMatch:"full"},{path:"games",component:rC,children:[{path:"games?index=type",component:rC}]},{path:"landingpage",component:v_},{path:"home",component:B_},{path:"lists",component:M_},{path:"gameDisplay",component:J_,children:[{path:"gameDisplay?game=type",component:J_}]},{path:"aboutus",component:G_},{path:"login/callback",component:q_,children:[{path:"login/callback?code=type",component:q_}]},{path:"login",component:F_},{path:"myGames",component:uC,children:[{path:"myGames/:id",component:uC}]},{path:"addgames",component:SC},{path:"user-profile/:id",component:(()=>{class t{constructor(t,e,n,r){this.pService=e,this.routerInfor=n,this.router=r,this.profile=new V_,this.submitted=!1,this.isNew=!1,this.currentProfile=null,this.message="",this.Gender=["Female","Male","Non-binary"],this.userInfo=JSON.stringify(t.get())}ngOnInit(){const t=this.routerInfor.snapshot.paramMap.get("id");console.log(t),"0"==t?this.isNew=!0:this.currentKey=t}saveProfile(){this.pService.create(this.profile).then(()=>{console.log("Created new item successfully!"),this.submitted=!0})}updateProfile(){this.pService.update(this.currentKey,{userName:this.profile.userName,email:this.profile.email,gender:this.profile.gender,phone:this.profile.phone}).then(()=>this.message="The tutorial was updated successfully!").catch(t=>console.log(t))}onSubmit(t){console.log("submit value",t.value),this.saveProfile()}onReset(t){t.reset()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(o),r.Ib(TC),r.Ib(Rv),r.Ib($w))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-user-profile"]],decls:2,vars:1,consts:[["class","profile-editor"],[1,"profile-editor"],["appEqualValidator","",3,"ngSubmit"],["profileForm","ngForm"],[1,"form-row"],["required","","name","userName",1,"form-control",3,"ngModel","ngModelChange"],["userName","ngModel"],["class","alert alert-danger",4,"ngIf"],["required","","minlength","4","appForbiddenName","bob","name","email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["name","gender",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["required","","name","password",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["required","","name","confirmPassword",1,"form-control",3,"ngModel","ngModelChange"],["confirmPassword","ngModel"],["class","cross-validation-error-message alert alert-danger",4,"ngIf"],["name","phone",1,"form-control",3,"ngModel","ngModelChange"],["phone","ngModel"],["type","button",1,"btn","btn-primary","form-group","col-md-6","mb-5",3,"click"],["type","button",1,"btn","btn-secondary","form-group","col-md-6","mb-5",3,"click"],[4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[1,"cross-validation-error-message","alert","alert-danger"]],template:function(t,e){1&t&&(r.lc(0),r.kc(1,MC,55,15,"ng-template",0)),2&t&&r.nc("User Info: ",e.userInfo.username," ")},directives:[eb,Xm,$y,Km,lb,$m,tb,L,cb,vy,N,wy,Ty],styles:[".profile-editor[_ngcontent-%COMP%]{width:500px;margin:100px auto}"]}),t})()},{path:"profileDisplay",component:(()=>{class t{constructor(t,e,n){this.pfService=e,this.router=n,this.currentProfile=null,this.currentIndex=-1,this.title="",this.userInfo=JSON.stringify(t.get())}ngOnInit(){}ngAfterContentInit(){this.retrieveProfiles()}refreshList(){console.log(this.profiles),this.currentProfile=null,this.currentIndex=-1,this.retrieveProfiles()}retrieveProfiles(){this.pfService.getAll().snapshotChanges().pipe(Object(Pt.a)(t=>t.map(t=>Object.assign({key:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.profiles=t})}switch(){}updateProfile(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(o),r.Ib(U_),r.Ib($w))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-profiledisplay"]],decls:9,vars:1,consts:[[1,"profile-editor"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-row"],["required","","name","userName","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["userName","ngModel"],["name","email","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","gender","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","phone","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["phone","ngModel"],[1,"btn","btn-primary","form-group","col-md-6","mb-5"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Jb(1,"br"),r.Lb(2,"div",0),r.Jb(3,"br"),r.Lb(4,"h2"),r.lc(5,"User Profile"),r.Kb(),r.Jb(6,"hr"),r.Jb(7,"br"),r.kc(8,VC,2,1,"div",1),r.Kb()),2&t&&(r.yb(8),r.ac("ngForOf",e.profiles))},directives:[D_,N,L,Km,lb,$m,tb],styles:[".profile-editor[_ngcontent-%COMP%] {\n    width: 500px;\n    margin: 100px auto;\n  }"]}),t})()},{path:"subscribeList",component:(()=>{class t{constructor(t){this.service=t,this.refreshList=new r.n,this.customerLists=UC,this.sList=new w_,this.LISTS=[{id:"ssjdhhvnlkikikjff",currentUserEmail:"huangjingyi85@qq.com",currentUser:"abc",title:"Games Like Animal Crossing",user:"amkasumi",description:"Chill games that involve mundane tasks. Can build things, dress up, raise pets, etc. Playtime = infinate."},{id:"ieurhnbvfijhdisdoj",currentUserEmail:"huangjingyi85@qq.com",currentUser:"abc",title:"Best Games For Switch Lite",user:"yogataichi34",description:"Some games are just waaay better on the regular switch console but these are games where the experience on the Lite is still very comparable."},{id:"kjhgsyugeuuhhuifiuhuhi",currentUserEmail:"unknow446@gmail.com",currentUser:"abc",title:"Fav Gacha Games",user:"rageofbahamut404",description:"Mainly card-based"},{id:"dfdfdsfdfnhnhn",currentUserEmail:"unknow446@gmail.com",currentUser:"abc",title:"Worst Indie Games of 2020",user:"iloveanimalsss01",description:"All genres"}],this.submitted=!1,this.showDetail=!1,this.showTitle="",this.message="",this.retrieveLists=()=>this.service.getfiles().subscribe(t=>this.subcribleLists=t)}ngOnInit(){this.retrieveLists()}init(){for(var t=0;t<this.LISTS.length;t++){var e={id:this.LISTS[t].id,currentUserEmail:this.LISTS[t].currentUserEmail,currentUser:this.LISTS[t].currentUser,title:this.LISTS[t].title,user:this.LISTS[t].user,description:this.LISTS[t].description};console.log(e),this.service.create(e).then(()=>{console.log("Created new item successfully!"),this.submitted=!0})}}delete(t){this.service.delete(t)}getImgUrl(t){let e="";return e=t+"","assets/images/"+e+".png"}showDetails(t){this.showDetail=!0,this.showTitle=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(__))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-subscribe-lists"]],outputs:{refreshList:"refreshList"},decls:25,vars:2,consts:[[1,"subscribled"],[1,"row"],[1,"table","table-hover"],[1,"thead-light"],["scope","col"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["scope","row"],[1,"active",3,"click"],["alt","","width","150","height","150",3,"src"],["href","#"]],template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Jb(1,"br"),r.Lb(2,"div",0),r.Lb(3,"div",1),r.Lb(4,"h2"),r.lc(5,"My Subscribed Lists"),r.Kb(),r.Jb(6,"br"),r.Lb(7,"table",2),r.Lb(8,"thead",3),r.Lb(9,"tr"),r.Lb(10,"th",4),r.lc(11,"#"),r.Kb(),r.Lb(12,"th",4),r.lc(13,"Title"),r.Kb(),r.Lb(14,"th",4),r.lc(15,"User"),r.Kb(),r.Lb(16,"th",4),r.lc(17,"Description"),r.Kb(),r.Lb(18,"th",4),r.lc(19,"Edit"),r.Kb(),r.Kb(),r.Kb(),r.Lb(20,"tbody"),r.kc(21,qC,13,4,"tr",5),r.Kb(),r.Kb(),r.Kb(),r.Jb(22,"br"),r.Jb(23,"br"),r.kc(24,WC,21,2,"div",6),r.Kb()),2&t&&(r.yb(21),r.ac("ngForOf",e.subcribleLists),r.yb(3),r.ac("ngIf",e.showDetail))},directives:[D_,N,L],styles:[".subscribled[_ngcontent-%COMP%]{margin:30px auto}",".subscribled[_ngcontent-%COMP%] {\n    width: 1000px;\n    margin: 50px auto;\n  }"]}),t})()}];let KC=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[c_.forRoot(HC)],c_]}),t})(),BC=(()=>{class t{constructor(){this.title="MyGameList"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:[t_],styles:[".container[_ngcontent-%COMP%]{width:95%;margin:0 auto;padding:5px}.navigation[_ngcontent-%COMP%]{width:90%;margin:0 auto}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;float:right}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:7px;display:inline-block}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})(),zC=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[BC]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[o],imports:[[wt,KC,ae,le.a.initializeApp(i),um,pb,fb,um,Rm]]}),t})();Object(r.S)(),bt().bootstrapModule(zC).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return l}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);